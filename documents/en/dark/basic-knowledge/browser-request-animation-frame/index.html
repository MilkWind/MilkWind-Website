<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/fe7e5644f748258b.css" data-precedence="next"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/38943437573ce53c.css" data-precedence="next"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/MilkWind-Website/_next/static/chunks/webpack-453b10ff6467cd69.js"/><script src="/MilkWind-Website/_next/static/chunks/4bd1b696-5119e10e90c1bd1b.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/1684-794bcba02d6f7373.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/main-app-c5f95d71e93250dc.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/1899-38fe6771109eb8a8.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/layout-3eed8318d7b0d3da.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/error-dda32be1d095a86c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/6874-fbe9a08eb79b991c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/not-found-9ff98b2ccf24cac7.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/206-4f4cbf4d7156f437.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/layout-28408791defde09e.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/2415-689c103fb3d2c28d.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/8610-7bd3f91f3cf2a4d6.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/loading-68f227fb49b3ac8c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/b498d07c-095637f0f10883c6.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/9554-b714f9de28e85d30.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js" async=""></script><title>requestAnimationFrame | Interactive Portfolio</title><meta name="description" content="Browser Fundamentals - requestAnimationFrame"/><meta name="author" content="Developer"/><meta name="keywords" content="portfolio,3D,interactive,web development,Three.js,Next.js"/><meta property="og:title" content="requestAnimationFrame | Interactive Portfolio"/><meta property="og:description" content="Browser Fundamentals - requestAnimationFrame"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-06-22"/><meta property="article:tag" content="Browser"/><meta property="article:tag" content="Fundamentals"/><meta property="article:tag" content="requestAnimationFrame"/><meta property="article:tag" content="Animation"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="requestAnimationFrame | Interactive Portfolio"/><meta name="twitter:description" content="Browser Fundamentals - requestAnimationFrame"/><link rel="icon" href="/MilkWind-Website/favicon.ico" type="image/x-icon" sizes="32x32"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/MilkWind-Website/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_d71c80 __variable_744f1f font-sans antialiased min-h-screen bg-background text-foreground"><div class="fixed inset-0 w-full h-full overflow-hidden pointer-events-none z-0" style="background:linear-gradient(135deg, hsl(210, 80%, 60%), hsl(180, 40%, 50%))"></div><div class="fixed top-20 right-5 z-50"><div class="w-16 h-16 rounded-full backdrop-blur-md border animate-pulse bg-surface/60 border-surface/40"></div></div><!--$--><style>
:root {
  --bprogress-color: #0066cc;
  --bprogress-height: 4px;
  --bprogress-spinner-size: 18px;
  --bprogress-spinner-animation-duration: 400ms;
  --bprogress-spinner-border-size: 2px;
  --bprogress-box-shadow: 0 0 10px #0066cc, 0 0 5px #0066cc;
  --bprogress-z-index: 99999;
  --bprogress-spinner-top: 15px;
  --bprogress-spinner-bottom: auto;
  --bprogress-spinner-right: 15px;
  --bprogress-spinner-left: auto;
}

.bprogress {
  width: 0;
  height: 0;
  pointer-events: none;
  z-index: var(--bprogress-z-index);
}

.bprogress .bar {
  background: var(--bprogress-color);
  position: fixed;
  z-index: var(--bprogress-z-index);
  top: 0;
  left: 0;
  width: 100%;
  height: var(--bprogress-height);
}

/* Fancy blur effect */
.bprogress .peg {
  display: block;
  position: absolute;
  right: 0;
  width: 100px;
  height: 100%;
  box-shadow: var(--bprogress-box-shadow);
  opacity: 1.0;
  transform: rotate(3deg) translate(0px, -4px);
}

/* Remove these to get rid of the spinner */
.bprogress .spinner {
  display: block;
  position: fixed;
  z-index: var(--bprogress-z-index);
  top: var(--bprogress-spinner-top);
  bottom: var(--bprogress-spinner-bottom);
  right: var(--bprogress-spinner-right);
  left: var(--bprogress-spinner-left);
}

.bprogress .spinner-icon {
  width: var(--bprogress-spinner-size);
  height: var(--bprogress-spinner-size);
  box-sizing: border-box;
  border: solid var(--bprogress-spinner-border-size) transparent;
  border-top-color: var(--bprogress-color);
  border-left-color: var(--bprogress-color);
  border-radius: 50%;
  -webkit-animation: bprogress-spinner var(--bprogress-spinner-animation-duration) linear infinite;
  animation: bprogress-spinner var(--bprogress-spinner-animation-duration) linear infinite;
}

.bprogress-custom-parent {
  overflow: hidden;
  position: relative;
}

.bprogress-custom-parent .bprogress .spinner,
.bprogress-custom-parent .bprogress .bar {
  position: absolute;
}

.bprogress .indeterminate {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--bprogress-height);
  overflow: hidden;
}

.bprogress .indeterminate .inc,
.bprogress .indeterminate .dec {
  position: absolute;
  top: 0;
  height: 100%;
  background-color: var(--bprogress-color);
}

.bprogress .indeterminate .inc {
  animation: bprogress-indeterminate-increase 2s infinite;
}

.bprogress .indeterminate .dec {
  animation: bprogress-indeterminate-decrease 2s 0.5s infinite;
}

@-webkit-keyframes bprogress-spinner {
  0%   { -webkit-transform: rotate(0deg); transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }
}

@keyframes bprogress-spinner {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes bprogress-indeterminate-increase {
  from { left: -5%; width: 5%; }
  to { left: 130%; width: 100%; }
}

@keyframes bprogress-indeterminate-decrease {
  from { left: -80%; width: 80%; }
  to { left: 110%; width: 10%; }
}
</style><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$--><div class="relative z-30 min-h-screen bg-background "><div class="container mx-auto px-4 py-8 max-w-4xl"><div class="mb-8"><a class="inline-flex items-center text-primary hover:text-primary/80 transition-colors" href="/MilkWind-Website/documents/">documents.backToDocuments</a></div><header class="mb-12"><div class="flex items-center gap-4 mb-4 text-sm text-foreground/60"><span class="px-3 py-1 bg-primary/20 text-primary rounded-full capitalize">basic knowledge</span><span>7 min read</span></div><h1 class="font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent text-4xl md:text-5xl">requestAnimationFrame</h1><p class="text-xl text-foreground/80 max-w-3xl">Browser Fundamentals - requestAnimationFrame</p><div class="flex flex-wrap gap-2 mt-6"><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">Browser</span><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">Fundamentals</span><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">requestAnimationFrame</span><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">Animation</span></div></header><article class="prose prose-headings:mt-8 prose-headings:font-semibold prose-headings:text-foreground prose-h1:text-5xl prose-h2:text-4xl prose-h3:text-3xl prose-h4:text-2xl prose-h5:text-xl prose-h6:text-lg max-w-none "><div class="prose-pre:p-4 prose-pre:bg-surface w-full"><p class="text-base leading-7 mb-4 text-foreground"><code>requestAnimationFrame</code> is a native browser API for creating smooth animation effects. It calls a specified callback function before the next repaint, ensuring animations stay synchronized with the browser’s refresh rate.</p>
<h3 id="basic-purpose" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#basic-purpose" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Basic Purpose">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Basic Purpose</strong>
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The main purposes of <code>requestAnimationFrame</code> are:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Execute animation functions before the browser’s next repaint</li>
<li class="text-foreground leading-relaxed">Synchronize with display refresh rate (typically 60fps)</li>
<li class="text-foreground leading-relaxed">Automatically pause when page is not visible, saving performance</li>
<li class="text-foreground leading-relaxed">Provide smoother animation experience</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="function%20animate()%20%7B%0A%2F%2F%20Animation%20logic%0Aconsole.log('Executing%20animation%20frame')%3B%0A%2F%2F%20Request%20next%20frame%0ArequestAnimationFrame(animate)%3B%0A%7D%0A%2F%2F%20Start%20animation%0ArequestAnimationFrame(animate)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">animate</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-comment inline">// Animation logic</span>
  <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;Executing animation frame&#x27;</span>);
  
  <span class="hljs-comment inline">// Request next frame</span>
  <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);
}

<span class="hljs-comment inline">// Start animation</span>
<span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);
</code></pre>
            </div>
        
<h3 id="basic-usage" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#basic-usage" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Basic Usage">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Basic Usage</strong>
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="function%20animate(timestamp)%20%7B%0A%2F%2F%20timestamp%3A%20current%20timestamp%20(in%20milliseconds)%0Aconsole.log('Current%20time%3A'%2C%20timestamp)%3B%0A%2F%2F%20Execute%20animation%20logic%0Aelement.style.left%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20100%20%2B%20'px'%3B%0A%2F%2F%20Request%20next%20frame%0ArequestAnimationFrame(animate)%3B%0A%7D%0A%2F%2F%20Start%20animation%0Aconst%20animationId%20%3D%20requestAnimationFrame(animate)%3B%0A%2F%2F%20Cancel%20animation%0AcancelAnimationFrame(animationId)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">animate</span>(<span class="hljs-params inline">timestamp</span>) {
  <span class="hljs-comment inline">// timestamp: current timestamp (in milliseconds)</span>
  <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;Current time:&#x27;</span>, timestamp);
  
  <span class="hljs-comment inline">// Execute animation logic</span>
  element.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(timestamp / <span class="hljs-number inline">1000</span>) * <span class="hljs-number inline">100</span> + <span class="hljs-string inline">&#x27;px&#x27;</span>;
  
  <span class="hljs-comment inline">// Request next frame</span>
  <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);
}

<span class="hljs-comment inline">// Start animation</span>
<span class="hljs-keyword inline">const</span> animationId = <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);

<span class="hljs-comment inline">// Cancel animation</span>
<span class="hljs-title function_ inline">cancelAnimationFrame</span>(animationId);
</code></pre>
            </div>
        
<h3 id="working-principle-and-common-issues" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#working-principle-and-common-issues" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Working Principle and Common Issues">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Working Principle and Common Issues
        </h3>
<h4 id="why-is-requestanimationframe-typically-called-recursively" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#why-is-requestanimationframe-typically-called-recursively" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Why is requestAnimationFrame typically called recursively?">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Why is requestAnimationFrame typically called recursively?
        </h4>
<p class="text-base leading-7 mb-4 text-foreground"><code>requestAnimationFrame</code> uses recursive calls because it is fundamentally one-time: each call executes the callback function only once before the next repaint. To create continuous animation effects, you need to request the next frame at the end of each callback, forming a recursive calling pattern. This ensures animation frames are precisely synchronized with the browser’s repaint rhythm.</p>
<h4 id="won’t-continuous-recursive-calls-to-requestanimationframe-cause-stack-overflow" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#won’t-continuous-recursive-calls-to-requestanimationframe-cause-stack-overflow" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Won’t continuous recursive calls to requestAnimationFrame cause stack overflow?">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Won’t continuous recursive calls to requestAnimationFrame cause stack overflow?
        </h4>
<p class="text-base leading-7 mb-4 text-foreground">No, it won’t cause stack overflow. Because the callback function of <code>requestAnimationFrame</code> is scheduled by the browser’s event loop mechanism when the current execution stack is empty, following an asynchronous execution model. After each call, the callback function is triggered before the browser’s next repaint, and by that time, the previous function call stack has already completed execution and been released, so the call stack won’t grow indefinitely.</p>
<h4 id="what-is-the-browser’s-repaint-task-queue" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#what-is-the-browser’s-repaint-task-queue" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to What is the browser’s repaint task queue?">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            What is the browser’s repaint task queue?
        </h4>
<p class="text-base leading-7 mb-4 text-foreground">The browser’s repaint task queue is a task queue for managing visual update operations. When DOM or CSS changes require screen updates, these update operations are added to the repaint queue. The browser periodically (usually synchronized with the display refresh rate) takes tasks from the queue for execution to ensure smooth visual updates.</p>
<h4 id="how-does-requestanimationframe-ensure-synchronization-with-the-browser-refresh-rate" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#how-does-requestanimationframe-ensure-synchronization-with-the-browser-refresh-rate" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to How does requestAnimationFrame ensure synchronization with the browser refresh rate?">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            How does requestAnimationFrame ensure synchronization with the browser refresh rate?
        </h4>
<p class="text-base leading-7 mb-4 text-foreground">Browsers regularly trigger repaints at their own refresh rate (typically 60Hz, i.e., 60 times per second) to update the page display. The callback function of <code>requestAnimationFrame</code> is added to the browser’s <strong class="font-bold text-foreground">repaint task queue</strong> and executed before the next repaint, thus naturally aligning with the repaint frequency.</p>
<p class="text-base leading-7 mb-4 text-foreground">Additionally, browsers may adjust the refresh rate based on device performance or page status (e.g., when switching to the background, it may drop to 30Hz). <code>requestAnimationFrame</code> automatically adapts to these changes, and the callback trigger frequency synchronizes with the browser’s actual repaint frequency without manual intervention.</p>
<h3 id="comparison-with-traditional-solutions" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#comparison-with-traditional-solutions" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Comparison with Traditional Solutions">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Comparison with Traditional Solutions</strong>
        </h3>
<h4 id="problems-with-settimeoutsetinterval" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#problems-with-settimeoutsetinterval" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Problems with setTimeout/setInterval">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Problems with setTimeout/setInterval</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Traditional%20approach%3A%20Using%20setTimeout%20(not%20recommended)%0Afunction%20animateWithTimeout()%20%7B%0Aelement.style.left%20%3D%20parseInt(element.style.left%20%7C%7C%200)%20%2B%201%20%2B%20'px'%3B%0AsetTimeout(animateWithTimeout%2C%2016)%3B%20%2F%2F%20~60fps%0A%7D%0A%2F%2F%20Problems%3A%0A%2F%2F%201.%20Not%20synchronized%20with%20browser%20refresh%20rate%0A%2F%2F%202.%20Still%20executes%20when%20page%20is%20not%20visible%0A%2F%2F%203.%20May%20cause%20frame%20drops%20or%20stuttering">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Traditional approach: Using setTimeout (not recommended)</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">animateWithTimeout</span>(<span class="hljs-params inline"></span>) {
  element.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> = <span class="hljs-built_in inline">parseInt</span>(element.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> || <span class="hljs-number inline">0</span>) + <span class="hljs-number inline">1</span> + <span class="hljs-string inline">&#x27;px&#x27;</span>;
  <span class="hljs-built_in inline">setTimeout</span>(animateWithTimeout, <span class="hljs-number inline">16</span>); <span class="hljs-comment inline">// ~60fps</span>
}

<span class="hljs-comment inline">// Problems:</span>
<span class="hljs-comment inline">// 1. Not synchronized with browser refresh rate</span>
<span class="hljs-comment inline">// 2. Still executes when page is not visible</span>
<span class="hljs-comment inline">// 3. May cause frame drops or stuttering</span>
</code></pre>
            </div>
        
<h4 id="advantages-of-requestanimationframe" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#advantages-of-requestanimationframe" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Advantages of requestAnimationFrame">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Advantages of requestAnimationFrame</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Modern%20approach%3A%20Using%20requestAnimationFrame%20(recommended)%0Afunction%20animateWithRAF(timestamp)%20%7B%0Aelement.style.left%20%3D%20parseInt(element.style.left%20%7C%7C%200)%20%2B%201%20%2B%20'px'%3B%0ArequestAnimationFrame(animateWithRAF)%3B%0A%7D%0A%2F%2F%20Advantages%3A%0A%2F%2F%201.%20Synchronized%20with%20browser%20refresh%20rate%0A%2F%2F%202.%20Automatically%20pauses%20when%20page%20is%20not%20visible%0A%2F%2F%203.%20Better%20performance%20and%20battery%20life">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Modern approach: Using requestAnimationFrame (recommended)</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">animateWithRAF</span>(<span class="hljs-params inline">timestamp</span>) {
  element.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> = <span class="hljs-built_in inline">parseInt</span>(element.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> || <span class="hljs-number inline">0</span>) + <span class="hljs-number inline">1</span> + <span class="hljs-string inline">&#x27;px&#x27;</span>;
  <span class="hljs-title function_ inline">requestAnimationFrame</span>(animateWithRAF);
}

<span class="hljs-comment inline">// Advantages:</span>
<span class="hljs-comment inline">// 1. Synchronized with browser refresh rate</span>
<span class="hljs-comment inline">// 2. Automatically pauses when page is not visible</span>
<span class="hljs-comment inline">// 3. Better performance and battery life</span>
</code></pre>
            </div>
        
<h3 id="practical-examples" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#practical-examples" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Practical Examples">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Practical Examples</strong>
        </h3>
<h4 id="simple-movement-animation" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#simple-movement-animation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Simple Movement Animation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Simple Movement Animation</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="class%20Animator%20%7B%0Aconstructor(element)%20%7B%0Athis.element%20%3D%20element%3B%0Athis.isRunning%20%3D%20false%3B%0Athis.animationId%20%3D%20null%3B%0A%7D%0Astart()%20%7B%0Aif%20(this.isRunning)%20return%3B%0Athis.isRunning%20%3D%20true%3B%0Athis.animate()%3B%0A%7D%0Astop()%20%7B%0Athis.isRunning%20%3D%20false%3B%0Aif%20(this.animationId)%20%7B%0AcancelAnimationFrame(this.animationId)%3B%0A%7D%0A%7D%0Aanimate%20%3D%20(timestamp)%20%3D%3E%20%7B%0Aif%20(!this.isRunning)%20return%3B%0A%2F%2F%20Animation%20logic%0Aconst%20x%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20200%3B%0Athis.element.style.transform%20%3D%20%60translateX(%24%7Bx%7Dpx)%60%3B%0A%2F%2F%20Request%20next%20frame%0Athis.animationId%20%3D%20requestAnimationFrame(this.animate)%3B%0A%7D%0A%7D%0A%2F%2F%20Usage%20example%0Aconst%20element%20%3D%20document.getElementById('myElement')%3B%0Aconst%20animator%20%3D%20new%20Animator(element)%3B%0Aanimator.start()%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">class</span> <span class="hljs-title class_ inline">Animator</span> {
  <span class="hljs-title function_ inline">constructor</span>(<span class="hljs-params inline">element</span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">element</span> = element;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span> = <span class="hljs-literal inline">false</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span> = <span class="hljs-literal inline">null</span>;
  }

  <span class="hljs-title function_ inline">start</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span>) <span class="hljs-keyword inline">return</span>;
    
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span> = <span class="hljs-literal inline">true</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">animate</span>();
  }

  <span class="hljs-title function_ inline">stop</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span> = <span class="hljs-literal inline">false</span>;
    <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span>) {
      <span class="hljs-title function_ inline">cancelAnimationFrame</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span>);
    }
  }

  animate = <span class="hljs-function inline">(<span class="hljs-params inline">timestamp</span>) =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (!<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span>) <span class="hljs-keyword inline">return</span>;

    <span class="hljs-comment inline">// Animation logic</span>
    <span class="hljs-keyword inline">const</span> x = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(timestamp / <span class="hljs-number inline">1000</span>) * <span class="hljs-number inline">200</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">element</span>.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">transform</span> = <span class="hljs-string inline">`translateX(<span class="hljs-subst inline">${x}</span>px)`</span>;

    <span class="hljs-comment inline">// Request next frame</span>
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animate</span>);
  }
}

<span class="hljs-comment inline">// Usage example</span>
<span class="hljs-keyword inline">const</span> element = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">getElementById</span>(<span class="hljs-string inline">&#x27;myElement&#x27;</span>);
<span class="hljs-keyword inline">const</span> animator = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Animator</span>(element);
animator.<span class="hljs-title function_ inline">start</span>();
</code></pre>
            </div>
        
<h4 id="time-controlled-animation" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#time-controlled-animation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Time-Controlled Animation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Time-Controlled Animation</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="class%20TimedAnimation%20%7B%0Aconstructor(element%2C%20duration%20%3D%202000)%20%7B%0Athis.element%20%3D%20element%3B%0Athis.duration%20%3D%20duration%3B%0Athis.startTime%20%3D%20null%3B%0A%7D%0Astart()%20%7B%0Athis.startTime%20%3D%20null%3B%0Athis.animate()%3B%0A%7D%0Aanimate%20%3D%20(timestamp)%20%3D%3E%20%7B%0Aif%20(!this.startTime)%20%7B%0Athis.startTime%20%3D%20timestamp%3B%0A%7D%0Aconst%20elapsed%20%3D%20timestamp%20-%20this.startTime%3B%0Aconst%20progress%20%3D%20Math.min(elapsed%20%2F%20this.duration%2C%201)%3B%0A%2F%2F%20Use%20easing%20function%0Aconst%20easeProgress%20%3D%20this.easeInOutQuad(progress)%3B%0A%2F%2F%20Apply%20animation%0Athis.element.style.transform%20%3D%20%60translateX(%24%7BeaseProgress%20*%20300%7Dpx)%60%3B%0A%2F%2F%20Continue%20animation%20or%20end%0Aif%20(progress%201)%20%7B%0ArequestAnimationFrame(this.animate)%3B%0A%7D%20else%20%7B%0Aconsole.log('Animation%20completed')%3B%0A%7D%0A%7D%0AeaseInOutQuad(t)%20%7B%0Areturn%20t%200.5%20%3F%202%20*%20t%20*%20t%20%3A%20-1%20%2B%20(4%20-%202%20*%20t)%20*%20t%3B%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">class</span> <span class="hljs-title class_ inline">TimedAnimation</span> {
  <span class="hljs-title function_ inline">constructor</span>(<span class="hljs-params inline">element, duration = <span class="hljs-number inline">2000</span></span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">element</span> = element;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">duration</span> = duration;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">startTime</span> = <span class="hljs-literal inline">null</span>;
  }

  <span class="hljs-title function_ inline">start</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">startTime</span> = <span class="hljs-literal inline">null</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">animate</span>();
  }

  animate = <span class="hljs-function inline">(<span class="hljs-params inline">timestamp</span>) =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (!<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">startTime</span>) {
      <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">startTime</span> = timestamp;
    }

    <span class="hljs-keyword inline">const</span> elapsed = timestamp - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">startTime</span>;
    <span class="hljs-keyword inline">const</span> progress = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">min</span>(elapsed / <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">duration</span>, <span class="hljs-number inline">1</span>);

    <span class="hljs-comment inline">// Use easing function</span>
    <span class="hljs-keyword inline">const</span> easeProgress = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">easeInOutQuad</span>(progress);
    
    <span class="hljs-comment inline">// Apply animation</span>
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">element</span>.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">transform</span> = <span class="hljs-string inline">`translateX(<span class="hljs-subst inline">${easeProgress * <span class="hljs-number inline">300</span>}</span>px)`</span>;

    <span class="hljs-comment inline">// Continue animation or end</span>
    <span class="hljs-keyword inline">if</span> (progress &lt; <span class="hljs-number inline">1</span>) {
      <span class="hljs-title function_ inline">requestAnimationFrame</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animate</span>);
    } <span class="hljs-keyword inline">else</span> {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;Animation completed&#x27;</span>);
    }
  }

  <span class="hljs-title function_ inline">easeInOutQuad</span>(<span class="hljs-params inline">t</span>) {
    <span class="hljs-keyword inline">return</span> t &lt; <span class="hljs-number inline">0.5</span> ? <span class="hljs-number inline">2</span> * t * t : -<span class="hljs-number inline">1</span> + (<span class="hljs-number inline">4</span> - <span class="hljs-number inline">2</span> * t) * t;
  }
}
</code></pre>
            </div>
        
<h3 id="performance-optimization-tips" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#performance-optimization-tips" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Performance Optimization Tips">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Performance Optimization Tips</strong>
        </h3>
<h4 id="avoid-forced-reflow" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#avoid-forced-reflow" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Avoid Forced Reflow">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Avoid Forced Reflow</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Bad%20practice%3A%20Multiple%20read%2Fwrite%20operations%20causing%20reflow%0Afunction%20badAnimate()%20%7B%0Aelement1.style.left%20%3D%20element1.offsetLeft%20%2B%201%20%2B%20'px'%3B%20%2F%2F%20Read%20triggers%20reflow%0Aelement2.style.left%20%3D%20element2.offsetLeft%20%2B%201%20%2B%20'px'%3B%20%2F%2F%20Another%20reflow%0A%7D%0A%2F%2F%20Good%20practice%3A%20Batch%20style%20operations%0Afunction%20goodAnimate()%20%7B%0A%2F%2F%20Read%20all%20needed%20values%20first%0Aconst%20left1%20%3D%20element1.offsetLeft%3B%0Aconst%20left2%20%3D%20element2.offsetLeft%3B%0A%2F%2F%20Then%20batch%20write%20operations%0Aelement1.style.left%20%3D%20left1%20%2B%201%20%2B%20'px'%3B%0Aelement2.style.left%20%3D%20left2%20%2B%201%20%2B%20'px'%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Bad practice: Multiple read/write operations causing reflow</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">badAnimate</span>(<span class="hljs-params inline"></span>) {
  element1.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> = element1.<span class="hljs-property inline">offsetLeft</span> + <span class="hljs-number inline">1</span> + <span class="hljs-string inline">&#x27;px&#x27;</span>; <span class="hljs-comment inline">// Read triggers reflow</span>
  element2.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> = element2.<span class="hljs-property inline">offsetLeft</span> + <span class="hljs-number inline">1</span> + <span class="hljs-string inline">&#x27;px&#x27;</span>; <span class="hljs-comment inline">// Another reflow</span>
}

<span class="hljs-comment inline">// Good practice: Batch style operations</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">goodAnimate</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-comment inline">// Read all needed values first</span>
  <span class="hljs-keyword inline">const</span> left1 = element1.<span class="hljs-property inline">offsetLeft</span>;
  <span class="hljs-keyword inline">const</span> left2 = element2.<span class="hljs-property inline">offsetLeft</span>;
  
  <span class="hljs-comment inline">// Then batch write operations</span>
  element1.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> = left1 + <span class="hljs-number inline">1</span> + <span class="hljs-string inline">&#x27;px&#x27;</span>;
  element2.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> = left2 + <span class="hljs-number inline">1</span> + <span class="hljs-string inline">&#x27;px&#x27;</span>;
}
</code></pre>
            </div>
        
<h4 id="use-css-transforms-instead-of-position-changes" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#use-css-transforms-instead-of-position-changes" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Use CSS Transforms Instead of Position Changes">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Use CSS Transforms Instead of Position Changes</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Poor%20performance%3A%20Changing%20left%2Ftop%0Afunction%20slowAnimate(timestamp)%20%7B%0Aelement.style.left%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20100%20%2B%20'px'%3B%0A%7D%0A%2F%2F%20Better%20performance%3A%20Using%20transform%0Afunction%20fastAnimate(timestamp)%20%7B%0Aconst%20x%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20100%3B%0Aelement.style.transform%20%3D%20%60translateX(%24%7Bx%7Dpx)%60%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Poor performance: Changing left/top</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">slowAnimate</span>(<span class="hljs-params inline">timestamp</span>) {
  element.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">left</span> = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(timestamp / <span class="hljs-number inline">1000</span>) * <span class="hljs-number inline">100</span> + <span class="hljs-string inline">&#x27;px&#x27;</span>;
}

<span class="hljs-comment inline">// Better performance: Using transform</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">fastAnimate</span>(<span class="hljs-params inline">timestamp</span>) {
  <span class="hljs-keyword inline">const</span> x = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(timestamp / <span class="hljs-number inline">1000</span>) * <span class="hljs-number inline">100</span>;
  element.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">transform</span> = <span class="hljs-string inline">`translateX(<span class="hljs-subst inline">${x}</span>px)`</span>;
}
</code></pre>
            </div>
        
<h3 id="usage-in-react" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#usage-in-react" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Usage in React">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Usage in React</strong>
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="import%20React%2C%20%7B%20useEffect%2C%20useRef%2C%20useState%20%7D%20from%20'react'%3B%0Afunction%20AnimatedComponent()%20%7B%0Aconst%20elementRef%20%3D%20useRef(null)%3B%0Aconst%20animationRef%20%3D%20useRef(null)%3B%0Aconst%20%5BisAnimating%2C%20setIsAnimating%5D%20%3D%20useState(false)%3B%0Aconst%20animate%20%3D%20(timestamp)%20%3D%3E%20%7B%0Aif%20(!elementRef.current%20%7C%7C%20!isAnimating)%20return%3B%0Aconst%20x%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20100%3B%0AelementRef.current.style.transform%20%3D%20%60translateX(%24%7Bx%7Dpx)%60%3B%0AanimationRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%3B%0Aconst%20startAnimation%20%3D%20()%20%3D%3E%20%7B%0AsetIsAnimating(true)%3B%0A%7D%3B%0Aconst%20stopAnimation%20%3D%20()%20%3D%3E%20%7B%0AsetIsAnimating(false)%3B%0Aif%20(animationRef.current)%20%7B%0AcancelAnimationFrame(animationRef.current)%3B%0A%7D%0A%7D%3B%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(isAnimating)%20%7B%0AanimationRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(animationRef.current)%20%7B%0AcancelAnimationFrame(animationRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5BisAnimating%5D)%3B%0Areturn%20(%0Adiv%3E%0Adiv%20ref%3D%7BelementRef%7D%20style%3D%7B%7B%20width%3A%2050%2C%20height%3A%2050%2C%20backgroundColor%3A%20'blue'%20%7D%7D%3E%0AAnimated%20Element%0Adiv%3E%0Abutton%20onClick%3D%7BisAnimating%20%3F%20stopAnimation%20%3A%20startAnimation%7D%3E%0A%7BisAnimating%20%3F%20'Stop'%20%3A%20'Start'%7D%20Animation%0Abutton%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">import</span> <span class="hljs-title class_ inline">React</span>, { useEffect, useRef, useState } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;react&#x27;</span>;

<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">AnimatedComponent</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> elementRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> animationRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> [isAnimating, setIsAnimating] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">animate</span> = (<span class="hljs-params inline">timestamp</span>) =&gt; {
    <span class="hljs-keyword inline">if</span> (!elementRef.<span class="hljs-property inline">current</span> || !isAnimating) <span class="hljs-keyword inline">return</span>;

    <span class="hljs-keyword inline">const</span> x = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(timestamp / <span class="hljs-number inline">1000</span>) * <span class="hljs-number inline">100</span>;
    elementRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">transform</span> = <span class="hljs-string inline">`translateX(<span class="hljs-subst inline">${x}</span>px)`</span>;

    animationRef.<span class="hljs-property inline">current</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">startAnimation</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-title function_ inline">setIsAnimating</span>(<span class="hljs-literal inline">true</span>);
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">stopAnimation</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-title function_ inline">setIsAnimating</span>(<span class="hljs-literal inline">false</span>);
    <span class="hljs-keyword inline">if</span> (animationRef.<span class="hljs-property inline">current</span>) {
      <span class="hljs-title function_ inline">cancelAnimationFrame</span>(animationRef.<span class="hljs-property inline">current</span>);
    }
  };

  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (isAnimating) {
      animationRef.<span class="hljs-property inline">current</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);
    }

    <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
      <span class="hljs-keyword inline">if</span> (animationRef.<span class="hljs-property inline">current</span>) {
        <span class="hljs-title function_ inline">cancelAnimationFrame</span>(animationRef.<span class="hljs-property inline">current</span>);
      }
    };
  }, [isAnimating]);

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{elementRef}</span> <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{</span> <span class="hljs-attr inline">width:</span> <span class="hljs-attr inline">50</span>, <span class="hljs-attr inline">height:</span> <span class="hljs-attr inline">50</span>, <span class="hljs-attr inline">backgroundColor:</span> &#x27;<span class="hljs-attr inline">blue</span>&#x27; }}&gt;</span>
        Animated Element
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{isAnimating</span> ? <span class="hljs-attr inline">stopAnimation</span> <span class="hljs-attr inline">:</span> <span class="hljs-attr inline">startAnimation</span>}&gt;</span>
        {isAnimating ? &#x27;Stop&#x27; : &#x27;Start&#x27;} Animation
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="custom-animation-hook" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#custom-animation-hook" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Custom Animation Hook">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Custom Animation Hook</strong>
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="import%20%7B%20useEffect%2C%20useRef%2C%20useCallback%20%7D%20from%20'react'%3B%0Afunction%20useAnimationFrame(callback%2C%20isRunning%20%3D%20true)%20%7B%0Aconst%20requestRef%20%3D%20useRef()%3B%0Aconst%20animate%20%3D%20useCallback((timestamp)%20%3D%3E%20%7B%0Acallback(timestamp)%3B%0Aif%20(isRunning)%20%7B%0ArequestRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%0A%7D%2C%20%5Bcallback%2C%20isRunning%5D)%3B%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(isRunning)%20%7B%0ArequestRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%20else%20%7B%0Aif%20(requestRef.current)%20%7B%0AcancelAnimationFrame(requestRef.current)%3B%0A%7D%0A%7D%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(requestRef.current)%20%7B%0AcancelAnimationFrame(requestRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5Banimate%2C%20isRunning%5D)%3B%0A%7D%0A%2F%2F%20Usage%20example%0Afunction%20MyAnimatedComponent()%20%7B%0Aconst%20%5Bposition%2C%20setPosition%5D%20%3D%20useState(0)%3B%0AuseAnimationFrame((timestamp)%20%3D%3E%20%7B%0AsetPosition(Math.sin(timestamp%20%2F%201000)%20*%20100)%3B%0A%7D)%3B%0Areturn%20(%0Adiv%20style%3D%7B%7B%20transform%3A%20%60translateX(%24%7Bposition%7Dpx)%60%20%7D%7D%3E%0AAnimated%20Content%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">import</span> { useEffect, useRef, useCallback } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;react&#x27;</span>;

<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">useAnimationFrame</span>(<span class="hljs-params inline">callback, isRunning = <span class="hljs-literal inline">true</span></span>) {
  <span class="hljs-keyword inline">const</span> requestRef = <span class="hljs-title function_ inline">useRef</span>();

  <span class="hljs-keyword inline">const</span> animate = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">(<span class="hljs-params inline">timestamp</span>) =&gt;</span> {
    <span class="hljs-title function_ inline">callback</span>(timestamp);
    <span class="hljs-keyword inline">if</span> (isRunning) {
      requestRef.<span class="hljs-property inline">current</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);
    }
  }, [callback, isRunning]);

  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (isRunning) {
      requestRef.<span class="hljs-property inline">current</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);
    } <span class="hljs-keyword inline">else</span> {
      <span class="hljs-keyword inline">if</span> (requestRef.<span class="hljs-property inline">current</span>) {
        <span class="hljs-title function_ inline">cancelAnimationFrame</span>(requestRef.<span class="hljs-property inline">current</span>);
      }
    }

    <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
      <span class="hljs-keyword inline">if</span> (requestRef.<span class="hljs-property inline">current</span>) {
        <span class="hljs-title function_ inline">cancelAnimationFrame</span>(requestRef.<span class="hljs-property inline">current</span>);
      }
    };
  }, [animate, isRunning]);
}

<span class="hljs-comment inline">// Usage example</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">MyAnimatedComponent</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [position, setPosition] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-number inline">0</span>);

  <span class="hljs-title function_ inline">useAnimationFrame</span>(<span class="hljs-function inline">(<span class="hljs-params inline">timestamp</span>) =&gt;</span> {
    <span class="hljs-title function_ inline">setPosition</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(timestamp / <span class="hljs-number inline">1000</span>) * <span class="hljs-number inline">100</span>);
  });

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{</span> <span class="hljs-attr inline">transform:</span> `<span class="hljs-attr inline">translateX</span>(${<span class="hljs-attr inline">position</span>}<span class="hljs-attr inline">px</span>)` }}&gt;</span>
      Animated Content
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="real-world-application-scenarios" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#real-world-application-scenarios" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Real-world Application Scenarios">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Real-world Application Scenarios</strong>
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Smooth scrolling</strong>: Scroll to specific positions on pages</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Particle systems</strong>: Create particle animation effects</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Data visualization</strong>: Chart animations and transitions</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Game development</strong>: Game loops and character animations</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">UI animations</strong>: Button clicks, page transition animations</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Performance monitoring</strong>: FPS calculation and performance analysis</li>
</ul>
<h3 id="important-considerations" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#important-considerations" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Important Considerations">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Important Considerations</strong>
        </h3>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Memory management</strong>: Always use <code>cancelAnimationFrame</code> to clean up animations</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Conditional checks</strong>: Check if animation should continue in callbacks</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Performance considerations</strong>: Avoid complex calculations in animations</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Browser compatibility</strong>: Supported in all modern browsers, polyfill available if needed</li>
</ol>
<h3 id="complete-animation-manager-example" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#complete-animation-manager-example" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Complete Animation Manager Example">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">Complete Animation Manager Example</strong>
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="class%20AnimationManager%20%7B%0Aconstructor()%20%7B%0Athis.animations%20%3D%20new%20Map()%3B%0Athis.isRunning%20%3D%20false%3B%0Athis.animationId%20%3D%20null%3B%0A%7D%0Aadd(key%2C%20animationFn)%20%7B%0Athis.animations.set(key%2C%20%7B%0Afn%3A%20animationFn%2C%0Aactive%3A%20true%0A%7D)%3B%0Aif%20(!this.isRunning)%20%7B%0Athis.start()%3B%0A%7D%0A%7D%0Aremove(key)%20%7B%0Athis.animations.delete(key)%3B%0Aif%20(this.animations.size%20%3D%3D%3D%200)%20%7B%0Athis.stop()%3B%0A%7D%0A%7D%0Astart()%20%7B%0Aif%20(this.isRunning)%20return%3B%0Athis.isRunning%20%3D%20true%3B%0Athis.tick()%3B%0A%7D%0Astop()%20%7B%0Athis.isRunning%20%3D%20false%3B%0Aif%20(this.animationId)%20%7B%0AcancelAnimationFrame(this.animationId)%3B%0A%7D%0A%7D%0Atick%20%3D%20(timestamp)%20%3D%3E%20%7B%0Aif%20(!this.isRunning)%20return%3B%0A%2F%2F%20Execute%20all%20active%20animations%0Afor%20(const%20%5Bkey%2C%20animation%5D%20of%20this.animations)%20%7B%0Aif%20(animation.active)%20%7B%0Aanimation.fn(timestamp)%3B%0A%7D%0A%7D%0A%2F%2F%20Request%20next%20frame%0Athis.animationId%20%3D%20requestAnimationFrame(this.tick)%3B%0A%7D%0A%7D%0A%2F%2F%20Global%20animation%20manager%0Aconst%20animationManager%20%3D%20new%20AnimationManager()%3B%0A%2F%2F%20Usage%20example%0AanimationManager.add('myAnimation'%2C%20(timestamp)%20%3D%3E%20%7B%0A%2F%2F%20Animation%20logic%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">class</span> <span class="hljs-title class_ inline">AnimationManager</span> {
  <span class="hljs-title function_ inline">constructor</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animations</span> = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Map</span>();
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span> = <span class="hljs-literal inline">false</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span> = <span class="hljs-literal inline">null</span>;
  }

  <span class="hljs-title function_ inline">add</span>(<span class="hljs-params inline">key, animationFn</span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animations</span>.<span class="hljs-title function_ inline">set</span>(key, {
      <span class="hljs-attr inline">fn</span>: animationFn,
      <span class="hljs-attr inline">active</span>: <span class="hljs-literal inline">true</span>
    });
    
    <span class="hljs-keyword inline">if</span> (!<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span>) {
      <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">start</span>();
    }
  }

  <span class="hljs-title function_ inline">remove</span>(<span class="hljs-params inline">key</span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animations</span>.<span class="hljs-title function_ inline">delete</span>(key);
    
    <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animations</span>.<span class="hljs-property inline">size</span> === <span class="hljs-number inline">0</span>) {
      <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">stop</span>();
    }
  }

  <span class="hljs-title function_ inline">start</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span>) <span class="hljs-keyword inline">return</span>;
    
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span> = <span class="hljs-literal inline">true</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">tick</span>();
  }

  <span class="hljs-title function_ inline">stop</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span> = <span class="hljs-literal inline">false</span>;
    <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span>) {
      <span class="hljs-title function_ inline">cancelAnimationFrame</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span>);
    }
  }

  tick = <span class="hljs-function inline">(<span class="hljs-params inline">timestamp</span>) =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (!<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">isRunning</span>) <span class="hljs-keyword inline">return</span>;

    <span class="hljs-comment inline">// Execute all active animations</span>
    <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">const</span> [key, animation] <span class="hljs-keyword inline">of</span> <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animations</span>) {
      <span class="hljs-keyword inline">if</span> (animation.<span class="hljs-property inline">active</span>) {
        animation.<span class="hljs-title function_ inline">fn</span>(timestamp);
      }
    }

    <span class="hljs-comment inline">// Request next frame</span>
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">tick</span>);
  }
}

<span class="hljs-comment inline">// Global animation manager</span>
<span class="hljs-keyword inline">const</span> animationManager = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">AnimationManager</span>();

<span class="hljs-comment inline">// Usage example</span>
animationManager.<span class="hljs-title function_ inline">add</span>(<span class="hljs-string inline">&#x27;myAnimation&#x27;</span>, <span class="hljs-function inline">(<span class="hljs-params inline">timestamp</span>) =&gt;</span> {
  <span class="hljs-comment inline">// Animation logic</span>
});
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><code>requestAnimationFrame</code> is the core API for modern web animations, providing smooth and efficient animation solutions.</p>
</div></article><footer class="mt-16 pt-8 border-t border-foreground/20"><div class="flex items-center justify-between"><a class="inline-flex items-center px-4 py-2 bg-primary text-foreground rounded-lg hover:bg-primary/90 transition-colors" href="/MilkWind-Website/documents/">documents.backToDocuments</a><div class="text-sm text-foreground/60"><span>documents.byAuthor<!-- --> <!-- -->MilkWind</span></div></div></footer></div></div><!--$--><!--/$--><!--$--><!--/$--><!--/$--><!--/$--><script src="/MilkWind-Website/_next/static/chunks/webpack-453b10ff6467cd69.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[38735,[\"1899\",\"static/chunks/1899-38fe6771109eb8a8.js\",\"7177\",\"static/chunks/app/layout-3eed8318d7b0d3da.js\"],\"default\"]\n3:I[19945,[\"1899\",\"static/chunks/1899-38fe6771109eb8a8.js\",\"7177\",\"static/chunks/app/layout-3eed8318d7b0d3da.js\"],\"default\"]\n4:I[65337,[\"1899\",\"static/chunks/1899-38fe6771109eb8a8.js\",\"7177\",\"static/chunks/app/layout-3eed8318d7b0d3da.js\"],\"default\"]\n5:I[96190,[\"1899\",\"static/chunks/1899-38fe6771109eb8a8.js\",\"7177\",\"static/chunks/app/layout-3eed8318d7b0d3da.js\"],\"ClientProviders\"]\n6:I[87555,[],\"\"]\n7:I[51901,[\"8039\",\"static/chunks/app/error-dda32be1d095a86c.js\"],\"default\"]\n8:I[31295,[],\"\"]\n9:I[6874,[\"6874\",\"static/chunks/6874-fbe9a08eb79b991c.js\",\"4345\",\"static/chunks/app/not-found-9ff98b2ccf24cac7.js\"],\"\"]\na:I[94970,[],\"ClientSegmentRoot\"]\nb:I[44065,[\"206\",\"static/chunks/206-4f4cbf4d7156f437.js\",\"3092\",\"static/chunks/app/documents/layout-28408791defde09e.js\"],\"default\"]\ne:I[59665,[],\"MetadataBoundary\"]\n10:I[59665,[],\"OutletBoundary\"]\n13:I[74911,[],\"AsyncMetadataOutlet\"]\n15:I[39460,[\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"8610\",\"static/chunks/8610-7bd3f91f3cf2a4d6.js\",\"5650\",\"static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js\"],\"default\"]\n16:I[88610,[\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"8610\",\"static/chunks/8610-7bd3f91f3cf2a4d6.js\",\"4209\",\"static/chunks/app/loading-68f227fb49b3ac8c.js\"],\"default\"]\n17:I[59665,[],\"ViewportBoundary\"]\n19:I[26614,[],\"\"]\n:HL[\"/MilkWind-Website/_next/static/css/fe7e5644f748258b.css\",\"style\"]\n:HL[\"/MilkWind-Website/_next/static/css/38943437573ce53c.css\",\"style\"]\n:HL[\"/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"_oUz7JKQXZE_al3RaxoXO\",\"p\":\"/MilkWind-Website\",\"c\":[\"\",\"documents\",\"en\",\"dark\",\"basic-knowledge\",\"browser-request-animation-frame\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"documents\",{\"children\":[[\"slug\",\"en/dark/basic-knowledge/browser-request-animation-frame\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/fe7e5644f748258b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/38943437573ce53c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_d71c80 __variable_744f1f font-sans antialiased min-h-screen bg-background text-foreground\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"$L3\",null,{}],[\"$\",\"$L4\",null,{}],[\"$\",\"$L5\",null,{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$7\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"z-10 relative min-h-screen flex items-center justify-center bg-background p-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center max-w-md\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-8xl font-bold text-primary mb-4\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-foreground mb-4\",\"children\":\"Page Not Found\"}],[\"$\",\"p\",null,{\"className\":\"text-foreground/70 mb-8\",\"children\":\"The page you're looking for doesn't exist or has been moved to a different location.\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-col sm:flex-row gap-4 justify-center\",\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/\",\"className\":\"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors\",\"children\":\"Go Home\"}],[\"$\",\"$L9\",null,{\"href\":\"/works\",\"className\":\"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors\",\"children\":\"View Works\"}]]}],[\"$\",\"div\",null,{\"className\":\"absolute inset-0 overflow-hidden pointer-events-none -z-10\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute top-1/4 left-1/4 w-2 h-2 bg-primary/20 rounded-full animate-float\"}],[\"$\",\"div\",null,{\"className\":\"absolute top-3/4 right-1/4 w-3 h-3 bg-accent/20 rounded-full animate-float\",\"style\":{\"animationDelay\":\"1s\"}}],[\"$\",\"div\",null,{\"className\":\"absolute bottom-1/4 left-1/3 w-1 h-1 bg-secondary/20 rounded-full animate-float\",\"style\":{\"animationDelay\":\"2s\"}}]]}]]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]}]]}],{\"children\":[\"documents\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$La\",null,{\"Component\":\"$b\",\"slots\":{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]},\"params\":{},\"promise\":\"$@c\"}]]}],{\"children\":[[\"slug\",\"en/dark/basic-knowledge/browser-request-animation-frame\",\"c\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$Ld\",[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L10\",null,{\"children\":[\"$L11\",\"$L12\",[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]]}]]}],{},null,false]},null,false]},[[\"$\",\"$L15\",\"l\",{}],[],[]],false]},[[\"$\",\"$L16\",\"l\",{}],[],[]],false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"8IKMhJ46TnufiRIdju3RD\",{\"children\":[[\"$\",\"$L17\",null,{\"children\":\"$L18\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$19\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"1a:\"$Sreact.suspense\"\n1b:I[74911,[],\"AsyncMetadata\"]\nc:{}\nf:[\"$\",\"$1a\",null,{\"fallback\":null,\"children\":[\"$\",\"$L1b\",null,{\"promise\":\"$@1c\"}]}]\n"])</script><script>self.__next_f.push([1,"1d:I[57340,[\"5584\",\"static/chunks/b498d07c-095637f0f10883c6.js\",\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"6874\",\"static/chunks/6874-fbe9a08eb79b991c.js\",\"9554\",\"static/chunks/9554-b714f9de28e85d30.js\",\"1873\",\"static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js\"],\"DocumentPageClient\"]\n1e:T14623,"])</script><script>self.__next_f.push([1,"\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003ccode\u003erequestAnimationFrame\u003c/code\u003e is a native browser API for creating smooth animation effects. It calls a specified callback function before the next repaint, ensuring animations stay synchronized with the browser’s refresh rate.\u003c/p\u003e\n\u003ch3 id=\"basic-purpose\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#basic-purpose\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Basic Purpose\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eBasic Purpose\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003eThe main purposes of \u003ccode\u003erequestAnimationFrame\u003c/code\u003e are:\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003eExecute animation functions before the browser’s next repaint\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003eSynchronize with display refresh rate (typically 60fps)\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003eAutomatically pause when page is not visible, saving performance\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003eProvide smoother animation experience\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"function%20animate()%20%7B%0A%2F%2F%20Animation%20logic%0Aconsole.log('Executing%20animation%20frame')%3B%0A%2F%2F%20Request%20next%20frame%0ArequestAnimationFrame(animate)%3B%0A%7D%0A%2F%2F%20Start%20animation%0ArequestAnimationFrame(animate)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eanimate\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment inline\"\u003e// Animation logic\u003c/span\u003e\n  \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Executing animation frame\u0026#x27;\u003c/span\u003e);\n  \n  \u003cspan class=\"hljs-comment inline\"\u003e// Request next frame\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animate);\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Start animation\u003c/span\u003e\n\u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animate);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"basic-usage\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#basic-usage\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Basic Usage\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eBasic Usage\u003c/strong\u003e\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"function%20animate(timestamp)%20%7B%0A%2F%2F%20timestamp%3A%20current%20timestamp%20(in%20milliseconds)%0Aconsole.log('Current%20time%3A'%2C%20timestamp)%3B%0A%2F%2F%20Execute%20animation%20logic%0Aelement.style.left%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20100%20%2B%20'px'%3B%0A%2F%2F%20Request%20next%20frame%0ArequestAnimationFrame(animate)%3B%0A%7D%0A%2F%2F%20Start%20animation%0Aconst%20animationId%20%3D%20requestAnimationFrame(animate)%3B%0A%2F%2F%20Cancel%20animation%0AcancelAnimationFrame(animationId)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eanimate\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment inline\"\u003e// timestamp: current timestamp (in milliseconds)\u003c/span\u003e\n  \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Current time:\u0026#x27;\u003c/span\u003e, timestamp);\n  \n  \u003cspan class=\"hljs-comment inline\"\u003e// Execute animation logic\u003c/span\u003e\n  element.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003esin\u003c/span\u003e(timestamp / \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e) * \u003cspan class=\"hljs-number inline\"\u003e100\u003c/span\u003e + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e;\n  \n  \u003cspan class=\"hljs-comment inline\"\u003e// Request next frame\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animate);\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Start animation\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e animationId = \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animate);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Cancel animation\u003c/span\u003e\n\u003cspan class=\"hljs-title function_ inline\"\u003ecancelAnimationFrame\u003c/span\u003e(animationId);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"working-principle-and-common-issues\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#working-principle-and-common-issues\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Working Principle and Common Issues\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Working Principle and Common Issues\n        \u003c/h3\u003e\n\u003ch4 id=\"why-is-requestanimationframe-typically-called-recursively\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#why-is-requestanimationframe-typically-called-recursively\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Why is requestAnimationFrame typically called recursively?\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Why is requestAnimationFrame typically called recursively?\n        \u003c/h4\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003ccode\u003erequestAnimationFrame\u003c/code\u003e uses recursive calls because it is fundamentally one-time: each call executes the callback function only once before the next repaint. To create continuous animation effects, you need to request the next frame at the end of each callback, forming a recursive calling pattern. This ensures animation frames are precisely synchronized with the browser’s repaint rhythm.\u003c/p\u003e\n\u003ch4 id=\"won’t-continuous-recursive-calls-to-requestanimationframe-cause-stack-overflow\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#won’t-continuous-recursive-calls-to-requestanimationframe-cause-stack-overflow\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Won’t continuous recursive calls to requestAnimationFrame cause stack overflow?\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Won’t continuous recursive calls to requestAnimationFrame cause stack overflow?\n        \u003c/h4\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003eNo, it won’t cause stack overflow. Because the callback function of \u003ccode\u003erequestAnimationFrame\u003c/code\u003e is scheduled by the browser’s event loop mechanism when the current execution stack is empty, following an asynchronous execution model. After each call, the callback function is triggered before the browser’s next repaint, and by that time, the previous function call stack has already completed execution and been released, so the call stack won’t grow indefinitely.\u003c/p\u003e\n\u003ch4 id=\"what-is-the-browser’s-repaint-task-queue\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#what-is-the-browser’s-repaint-task-queue\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to What is the browser’s repaint task queue?\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            What is the browser’s repaint task queue?\n        \u003c/h4\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003eThe browser’s repaint task queue is a task queue for managing visual update operations. When DOM or CSS changes require screen updates, these update operations are added to the repaint queue. The browser periodically (usually synchronized with the display refresh rate) takes tasks from the queue for execution to ensure smooth visual updates.\u003c/p\u003e\n\u003ch4 id=\"how-does-requestanimationframe-ensure-synchronization-with-the-browser-refresh-rate\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#how-does-requestanimationframe-ensure-synchronization-with-the-browser-refresh-rate\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to How does requestAnimationFrame ensure synchronization with the browser refresh rate?\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            How does requestAnimationFrame ensure synchronization with the browser refresh rate?\n        \u003c/h4\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003eBrowsers regularly trigger repaints at their own refresh rate (typically 60Hz, i.e., 60 times per second) to update the page display. The callback function of \u003ccode\u003erequestAnimationFrame\u003c/code\u003e is added to the browser’s \u003cstrong class=\"font-bold text-foreground\"\u003erepaint task queue\u003c/strong\u003e and executed before the next repaint, thus naturally aligning with the repaint frequency.\u003c/p\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003eAdditionally, browsers may adjust the refresh rate based on device performance or page status (e.g., when switching to the background, it may drop to 30Hz). \u003ccode\u003erequestAnimationFrame\u003c/code\u003e automatically adapts to these changes, and the callback trigger frequency synchronizes with the browser’s actual repaint frequency without manual intervention.\u003c/p\u003e\n\u003ch3 id=\"comparison-with-traditional-solutions\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#comparison-with-traditional-solutions\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Comparison with Traditional Solutions\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eComparison with Traditional Solutions\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"problems-with-settimeoutsetinterval\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#problems-with-settimeoutsetinterval\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Problems with setTimeout/setInterval\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eProblems with setTimeout/setInterval\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Traditional%20approach%3A%20Using%20setTimeout%20(not%20recommended)%0Afunction%20animateWithTimeout()%20%7B%0Aelement.style.left%20%3D%20parseInt(element.style.left%20%7C%7C%200)%20%2B%201%20%2B%20'px'%3B%0AsetTimeout(animateWithTimeout%2C%2016)%3B%20%2F%2F%20~60fps%0A%7D%0A%2F%2F%20Problems%3A%0A%2F%2F%201.%20Not%20synchronized%20with%20browser%20refresh%20rate%0A%2F%2F%202.%20Still%20executes%20when%20page%20is%20not%20visible%0A%2F%2F%203.%20May%20cause%20frame%20drops%20or%20stuttering\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// Traditional approach: Using setTimeout (not recommended)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eanimateWithTimeout\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  element.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e = \u003cspan class=\"hljs-built_in inline\"\u003eparseInt\u003c/span\u003e(element.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e || \u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e) + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e;\n  \u003cspan class=\"hljs-built_in inline\"\u003esetTimeout\u003c/span\u003e(animateWithTimeout, \u003cspan class=\"hljs-number inline\"\u003e16\u003c/span\u003e); \u003cspan class=\"hljs-comment inline\"\u003e// ~60fps\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Problems:\u003c/span\u003e\n\u003cspan class=\"hljs-comment inline\"\u003e// 1. Not synchronized with browser refresh rate\u003c/span\u003e\n\u003cspan class=\"hljs-comment inline\"\u003e// 2. Still executes when page is not visible\u003c/span\u003e\n\u003cspan class=\"hljs-comment inline\"\u003e// 3. May cause frame drops or stuttering\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"advantages-of-requestanimationframe\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#advantages-of-requestanimationframe\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Advantages of requestAnimationFrame\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eAdvantages of requestAnimationFrame\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Modern%20approach%3A%20Using%20requestAnimationFrame%20(recommended)%0Afunction%20animateWithRAF(timestamp)%20%7B%0Aelement.style.left%20%3D%20parseInt(element.style.left%20%7C%7C%200)%20%2B%201%20%2B%20'px'%3B%0ArequestAnimationFrame(animateWithRAF)%3B%0A%7D%0A%2F%2F%20Advantages%3A%0A%2F%2F%201.%20Synchronized%20with%20browser%20refresh%20rate%0A%2F%2F%202.%20Automatically%20pauses%20when%20page%20is%20not%20visible%0A%2F%2F%203.%20Better%20performance%20and%20battery%20life\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// Modern approach: Using requestAnimationFrame (recommended)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eanimateWithRAF\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) {\n  element.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e = \u003cspan class=\"hljs-built_in inline\"\u003eparseInt\u003c/span\u003e(element.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e || \u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e) + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e;\n  \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animateWithRAF);\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Advantages:\u003c/span\u003e\n\u003cspan class=\"hljs-comment inline\"\u003e// 1. Synchronized with browser refresh rate\u003c/span\u003e\n\u003cspan class=\"hljs-comment inline\"\u003e// 2. Automatically pauses when page is not visible\u003c/span\u003e\n\u003cspan class=\"hljs-comment inline\"\u003e// 3. Better performance and battery life\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"practical-examples\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#practical-examples\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Practical Examples\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003ePractical Examples\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"simple-movement-animation\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#simple-movement-animation\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Simple Movement Animation\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eSimple Movement Animation\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"class%20Animator%20%7B%0Aconstructor(element)%20%7B%0Athis.element%20%3D%20element%3B%0Athis.isRunning%20%3D%20false%3B%0Athis.animationId%20%3D%20null%3B%0A%7D%0Astart()%20%7B%0Aif%20(this.isRunning)%20return%3B%0Athis.isRunning%20%3D%20true%3B%0Athis.animate()%3B%0A%7D%0Astop()%20%7B%0Athis.isRunning%20%3D%20false%3B%0Aif%20(this.animationId)%20%7B%0AcancelAnimationFrame(this.animationId)%3B%0A%7D%0A%7D%0Aanimate%20%3D%20(timestamp)%20%3D%3E%20%7B%0Aif%20(!this.isRunning)%20return%3B%0A%2F%2F%20Animation%20logic%0Aconst%20x%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20200%3B%0Athis.element.style.transform%20%3D%20%60translateX(%24%7Bx%7Dpx)%60%3B%0A%2F%2F%20Request%20next%20frame%0Athis.animationId%20%3D%20requestAnimationFrame(this.animate)%3B%0A%7D%0A%7D%0A%2F%2F%20Usage%20example%0Aconst%20element%20%3D%20document.getElementById('myElement')%3B%0Aconst%20animator%20%3D%20new%20Animator(element)%3B%0Aanimator.start()%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eAnimator\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_ inline\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003eelement\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eelement\u003c/span\u003e = element;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimationId\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e;\n  }\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003estart\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e) \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e;\n    \n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eanimate\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003estop\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimationId\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_ inline\"\u003ecancelAnimationFrame\u003c/span\u003e(\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimationId\u003c/span\u003e);\n    }\n  }\n\n  animate = \u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e) \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// Animation logic\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e x = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003esin\u003c/span\u003e(timestamp / \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e) * \u003cspan class=\"hljs-number inline\"\u003e200\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eelement\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003etransform\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e`translateX(\u003cspan class=\"hljs-subst inline\"\u003e${x}\u003c/span\u003epx)`\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// Request next frame\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimationId\u003c/span\u003e = \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimate\u003c/span\u003e);\n  }\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Usage example\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e element = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;myElement\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e animator = \u003cspan class=\"hljs-keyword inline\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eAnimator\u003c/span\u003e(element);\nanimator.\u003cspan class=\"hljs-title function_ inline\"\u003estart\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"time-controlled-animation\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#time-controlled-animation\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Time-Controlled Animation\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eTime-Controlled Animation\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"class%20TimedAnimation%20%7B%0Aconstructor(element%2C%20duration%20%3D%202000)%20%7B%0Athis.element%20%3D%20element%3B%0Athis.duration%20%3D%20duration%3B%0Athis.startTime%20%3D%20null%3B%0A%7D%0Astart()%20%7B%0Athis.startTime%20%3D%20null%3B%0Athis.animate()%3B%0A%7D%0Aanimate%20%3D%20(timestamp)%20%3D%3E%20%7B%0Aif%20(!this.startTime)%20%7B%0Athis.startTime%20%3D%20timestamp%3B%0A%7D%0Aconst%20elapsed%20%3D%20timestamp%20-%20this.startTime%3B%0Aconst%20progress%20%3D%20Math.min(elapsed%20%2F%20this.duration%2C%201)%3B%0A%2F%2F%20Use%20easing%20function%0Aconst%20easeProgress%20%3D%20this.easeInOutQuad(progress)%3B%0A%2F%2F%20Apply%20animation%0Athis.element.style.transform%20%3D%20%60translateX(%24%7BeaseProgress%20*%20300%7Dpx)%60%3B%0A%2F%2F%20Continue%20animation%20or%20end%0Aif%20(progress%201)%20%7B%0ArequestAnimationFrame(this.animate)%3B%0A%7D%20else%20%7B%0Aconsole.log('Animation%20completed')%3B%0A%7D%0A%7D%0AeaseInOutQuad(t)%20%7B%0Areturn%20t%200.5%20%3F%202%20*%20t%20*%20t%20%3A%20-1%20%2B%20(4%20-%202%20*%20t)%20*%20t%3B%0A%7D%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eTimedAnimation\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_ inline\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003eelement, duration = \u003cspan class=\"hljs-number inline\"\u003e2000\u003c/span\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eelement\u003c/span\u003e = element;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eduration\u003c/span\u003e = duration;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estartTime\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e;\n  }\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003estart\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estartTime\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eanimate\u003c/span\u003e();\n  }\n\n  animate = \u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estartTime\u003c/span\u003e) {\n      \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estartTime\u003c/span\u003e = timestamp;\n    }\n\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e elapsed = timestamp - \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estartTime\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e progress = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003emin\u003c/span\u003e(elapsed / \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eduration\u003c/span\u003e, \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// Use easing function\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e easeProgress = \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eeaseInOutQuad\u003c/span\u003e(progress);\n    \n    \u003cspan class=\"hljs-comment inline\"\u003e// Apply animation\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eelement\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003etransform\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e`translateX(\u003cspan class=\"hljs-subst inline\"\u003e${easeProgress * \u003cspan class=\"hljs-number inline\"\u003e300\u003c/span\u003e}\u003c/span\u003epx)`\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// Continue animation or end\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (progress \u0026lt; \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimate\u003c/span\u003e);\n    } \u003cspan class=\"hljs-keyword inline\"\u003eelse\u003c/span\u003e {\n      \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Animation completed\u0026#x27;\u003c/span\u003e);\n    }\n  }\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003eeaseInOutQuad\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003et\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e t \u0026lt; \u003cspan class=\"hljs-number inline\"\u003e0.5\u003c/span\u003e ? \u003cspan class=\"hljs-number inline\"\u003e2\u003c/span\u003e * t * t : -\u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e + (\u003cspan class=\"hljs-number inline\"\u003e4\u003c/span\u003e - \u003cspan class=\"hljs-number inline\"\u003e2\u003c/span\u003e * t) * t;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"performance-optimization-tips\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#performance-optimization-tips\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Performance Optimization Tips\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003ePerformance Optimization Tips\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"avoid-forced-reflow\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#avoid-forced-reflow\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Avoid Forced Reflow\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eAvoid Forced Reflow\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Bad%20practice%3A%20Multiple%20read%2Fwrite%20operations%20causing%20reflow%0Afunction%20badAnimate()%20%7B%0Aelement1.style.left%20%3D%20element1.offsetLeft%20%2B%201%20%2B%20'px'%3B%20%2F%2F%20Read%20triggers%20reflow%0Aelement2.style.left%20%3D%20element2.offsetLeft%20%2B%201%20%2B%20'px'%3B%20%2F%2F%20Another%20reflow%0A%7D%0A%2F%2F%20Good%20practice%3A%20Batch%20style%20operations%0Afunction%20goodAnimate()%20%7B%0A%2F%2F%20Read%20all%20needed%20values%20first%0Aconst%20left1%20%3D%20element1.offsetLeft%3B%0Aconst%20left2%20%3D%20element2.offsetLeft%3B%0A%2F%2F%20Then%20batch%20write%20operations%0Aelement1.style.left%20%3D%20left1%20%2B%201%20%2B%20'px'%3B%0Aelement2.style.left%20%3D%20left2%20%2B%201%20%2B%20'px'%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// Bad practice: Multiple read/write operations causing reflow\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ebadAnimate\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  element1.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e = element1.\u003cspan class=\"hljs-property inline\"\u003eoffsetLeft\u003c/span\u003e + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e; \u003cspan class=\"hljs-comment inline\"\u003e// Read triggers reflow\u003c/span\u003e\n  element2.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e = element2.\u003cspan class=\"hljs-property inline\"\u003eoffsetLeft\u003c/span\u003e + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e; \u003cspan class=\"hljs-comment inline\"\u003e// Another reflow\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Good practice: Batch style operations\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003egoodAnimate\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment inline\"\u003e// Read all needed values first\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e left1 = element1.\u003cspan class=\"hljs-property inline\"\u003eoffsetLeft\u003c/span\u003e;\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e left2 = element2.\u003cspan class=\"hljs-property inline\"\u003eoffsetLeft\u003c/span\u003e;\n  \n  \u003cspan class=\"hljs-comment inline\"\u003e// Then batch write operations\u003c/span\u003e\n  element1.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e = left1 + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e;\n  element2.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e = left2 + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"use-css-transforms-instead-of-position-changes\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#use-css-transforms-instead-of-position-changes\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Use CSS Transforms Instead of Position Changes\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eUse CSS Transforms Instead of Position Changes\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Poor%20performance%3A%20Changing%20left%2Ftop%0Afunction%20slowAnimate(timestamp)%20%7B%0Aelement.style.left%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20100%20%2B%20'px'%3B%0A%7D%0A%2F%2F%20Better%20performance%3A%20Using%20transform%0Afunction%20fastAnimate(timestamp)%20%7B%0Aconst%20x%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20100%3B%0Aelement.style.transform%20%3D%20%60translateX(%24%7Bx%7Dpx)%60%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// Poor performance: Changing left/top\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eslowAnimate\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) {\n  element.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eleft\u003c/span\u003e = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003esin\u003c/span\u003e(timestamp / \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e) * \u003cspan class=\"hljs-number inline\"\u003e100\u003c/span\u003e + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;px\u0026#x27;\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Better performance: Using transform\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003efastAnimate\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e x = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003esin\u003c/span\u003e(timestamp / \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e) * \u003cspan class=\"hljs-number inline\"\u003e100\u003c/span\u003e;\n  element.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003etransform\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e`translateX(\u003cspan class=\"hljs-subst inline\"\u003e${x}\u003c/span\u003epx)`\u003c/span\u003e;\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"usage-in-react\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#usage-in-react\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Usage in React\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eUsage in React\u003c/strong\u003e\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"import%20React%2C%20%7B%20useEffect%2C%20useRef%2C%20useState%20%7D%20from%20'react'%3B%0Afunction%20AnimatedComponent()%20%7B%0Aconst%20elementRef%20%3D%20useRef(null)%3B%0Aconst%20animationRef%20%3D%20useRef(null)%3B%0Aconst%20%5BisAnimating%2C%20setIsAnimating%5D%20%3D%20useState(false)%3B%0Aconst%20animate%20%3D%20(timestamp)%20%3D%3E%20%7B%0Aif%20(!elementRef.current%20%7C%7C%20!isAnimating)%20return%3B%0Aconst%20x%20%3D%20Math.sin(timestamp%20%2F%201000)%20*%20100%3B%0AelementRef.current.style.transform%20%3D%20%60translateX(%24%7Bx%7Dpx)%60%3B%0AanimationRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%3B%0Aconst%20startAnimation%20%3D%20()%20%3D%3E%20%7B%0AsetIsAnimating(true)%3B%0A%7D%3B%0Aconst%20stopAnimation%20%3D%20()%20%3D%3E%20%7B%0AsetIsAnimating(false)%3B%0Aif%20(animationRef.current)%20%7B%0AcancelAnimationFrame(animationRef.current)%3B%0A%7D%0A%7D%3B%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(isAnimating)%20%7B%0AanimationRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(animationRef.current)%20%7B%0AcancelAnimationFrame(animationRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5BisAnimating%5D)%3B%0Areturn%20(%0Adiv%3E%0Adiv%20ref%3D%7BelementRef%7D%20style%3D%7B%7B%20width%3A%2050%2C%20height%3A%2050%2C%20backgroundColor%3A%20'blue'%20%7D%7D%3E%0AAnimated%20Element%0Adiv%3E%0Abutton%20onClick%3D%7BisAnimating%20%3F%20stopAnimation%20%3A%20startAnimation%7D%3E%0A%7BisAnimating%20%3F%20'Stop'%20%3A%20'Start'%7D%20Animation%0Abutton%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eReact\u003c/span\u003e, { useEffect, useRef, useState } \u003cspan class=\"hljs-keyword inline\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eAnimatedComponent\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e elementRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e animationRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [isAnimating, setIsAnimating] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eanimate\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!elementRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e || !isAnimating) \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e x = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003esin\u003c/span\u003e(timestamp / \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e) * \u003cspan class=\"hljs-number inline\"\u003e100\u003c/span\u003e;\n    elementRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003etransform\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e`translateX(\u003cspan class=\"hljs-subst inline\"\u003e${x}\u003c/span\u003epx)`\u003c/span\u003e;\n\n    animationRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animate);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003estartAnimation\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetIsAnimating\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003estopAnimation\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetIsAnimating\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (animationRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_ inline\"\u003ecancelAnimationFrame\u003c/span\u003e(animationRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n    }\n  };\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (isAnimating) {\n      animationRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animate);\n    }\n\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (animationRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n        \u003cspan class=\"hljs-title function_ inline\"\u003ecancelAnimationFrame\u003c/span\u003e(animationRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n      }\n    };\n  }, [isAnimating]);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{elementRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003ewidth:\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003e50\u003c/span\u003e, \u003cspan class=\"hljs-attr inline\"\u003eheight:\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003e50\u003c/span\u003e, \u003cspan class=\"hljs-attr inline\"\u003ebackgroundColor:\u003c/span\u003e \u0026#x27;\u003cspan class=\"hljs-attr inline\"\u003eblue\u003c/span\u003e\u0026#x27; }}\u0026gt;\u003c/span\u003e\n        Animated Element\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{isAnimating\u003c/span\u003e ? \u003cspan class=\"hljs-attr inline\"\u003estopAnimation\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003estartAnimation\u003c/span\u003e}\u0026gt;\u003c/span\u003e\n        {isAnimating ? \u0026#x27;Stop\u0026#x27; : \u0026#x27;Start\u0026#x27;} Animation\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"custom-animation-hook\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#custom-animation-hook\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Custom Animation Hook\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eCustom Animation Hook\u003c/strong\u003e\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"import%20%7B%20useEffect%2C%20useRef%2C%20useCallback%20%7D%20from%20'react'%3B%0Afunction%20useAnimationFrame(callback%2C%20isRunning%20%3D%20true)%20%7B%0Aconst%20requestRef%20%3D%20useRef()%3B%0Aconst%20animate%20%3D%20useCallback((timestamp)%20%3D%3E%20%7B%0Acallback(timestamp)%3B%0Aif%20(isRunning)%20%7B%0ArequestRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%0A%7D%2C%20%5Bcallback%2C%20isRunning%5D)%3B%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(isRunning)%20%7B%0ArequestRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%20else%20%7B%0Aif%20(requestRef.current)%20%7B%0AcancelAnimationFrame(requestRef.current)%3B%0A%7D%0A%7D%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(requestRef.current)%20%7B%0AcancelAnimationFrame(requestRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5Banimate%2C%20isRunning%5D)%3B%0A%7D%0A%2F%2F%20Usage%20example%0Afunction%20MyAnimatedComponent()%20%7B%0Aconst%20%5Bposition%2C%20setPosition%5D%20%3D%20useState(0)%3B%0AuseAnimationFrame((timestamp)%20%3D%3E%20%7B%0AsetPosition(Math.sin(timestamp%20%2F%201000)%20*%20100)%3B%0A%7D)%3B%0Areturn%20(%0Adiv%20style%3D%7B%7B%20transform%3A%20%60translateX(%24%7Bposition%7Dpx)%60%20%7D%7D%3E%0AAnimated%20Content%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003eimport\u003c/span\u003e { useEffect, useRef, useCallback } \u003cspan class=\"hljs-keyword inline\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003euseAnimationFrame\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003ecallback, isRunning = \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e requestRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e();\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e animate = \u003cspan class=\"hljs-title function_ inline\"\u003euseCallback\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-title function_ inline\"\u003ecallback\u003c/span\u003e(timestamp);\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (isRunning) {\n      requestRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animate);\n    }\n  }, [callback, isRunning]);\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (isRunning) {\n      requestRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(animate);\n    } \u003cspan class=\"hljs-keyword inline\"\u003eelse\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (requestRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n        \u003cspan class=\"hljs-title function_ inline\"\u003ecancelAnimationFrame\u003c/span\u003e(requestRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n      }\n    }\n\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (requestRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n        \u003cspan class=\"hljs-title function_ inline\"\u003ecancelAnimationFrame\u003c/span\u003e(requestRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n      }\n    };\n  }, [animate, isRunning]);\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Usage example\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eMyAnimatedComponent\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [position, setPosition] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseAnimationFrame\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetPosition\u003c/span\u003e(\u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003esin\u003c/span\u003e(timestamp / \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e) * \u003cspan class=\"hljs-number inline\"\u003e100\u003c/span\u003e);\n  });\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003etransform:\u003c/span\u003e `\u003cspan class=\"hljs-attr inline\"\u003etranslateX\u003c/span\u003e(${\u003cspan class=\"hljs-attr inline\"\u003eposition\u003c/span\u003e}\u003cspan class=\"hljs-attr inline\"\u003epx\u003c/span\u003e)` }}\u0026gt;\u003c/span\u003e\n      Animated Content\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"real-world-application-scenarios\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#real-world-application-scenarios\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Real-world Application Scenarios\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eReal-world Application Scenarios\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eSmooth scrolling\u003c/strong\u003e: Scroll to specific positions on pages\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eParticle systems\u003c/strong\u003e: Create particle animation effects\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eData visualization\u003c/strong\u003e: Chart animations and transitions\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eGame development\u003c/strong\u003e: Game loops and character animations\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eUI animations\u003c/strong\u003e: Button clicks, page transition animations\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003ePerformance monitoring\u003c/strong\u003e: FPS calculation and performance analysis\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"important-considerations\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#important-considerations\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Important Considerations\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eImportant Considerations\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003col class=\"list-decimal list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eMemory management\u003c/strong\u003e: Always use \u003ccode\u003ecancelAnimationFrame\u003c/code\u003e to clean up animations\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eConditional checks\u003c/strong\u003e: Check if animation should continue in callbacks\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003ePerformance considerations\u003c/strong\u003e: Avoid complex calculations in animations\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eBrowser compatibility\u003c/strong\u003e: Supported in all modern browsers, polyfill available if needed\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"complete-animation-manager-example\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#complete-animation-manager-example\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Complete Animation Manager Example\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eComplete Animation Manager Example\u003c/strong\u003e\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"class%20AnimationManager%20%7B%0Aconstructor()%20%7B%0Athis.animations%20%3D%20new%20Map()%3B%0Athis.isRunning%20%3D%20false%3B%0Athis.animationId%20%3D%20null%3B%0A%7D%0Aadd(key%2C%20animationFn)%20%7B%0Athis.animations.set(key%2C%20%7B%0Afn%3A%20animationFn%2C%0Aactive%3A%20true%0A%7D)%3B%0Aif%20(!this.isRunning)%20%7B%0Athis.start()%3B%0A%7D%0A%7D%0Aremove(key)%20%7B%0Athis.animations.delete(key)%3B%0Aif%20(this.animations.size%20%3D%3D%3D%200)%20%7B%0Athis.stop()%3B%0A%7D%0A%7D%0Astart()%20%7B%0Aif%20(this.isRunning)%20return%3B%0Athis.isRunning%20%3D%20true%3B%0Athis.tick()%3B%0A%7D%0Astop()%20%7B%0Athis.isRunning%20%3D%20false%3B%0Aif%20(this.animationId)%20%7B%0AcancelAnimationFrame(this.animationId)%3B%0A%7D%0A%7D%0Atick%20%3D%20(timestamp)%20%3D%3E%20%7B%0Aif%20(!this.isRunning)%20return%3B%0A%2F%2F%20Execute%20all%20active%20animations%0Afor%20(const%20%5Bkey%2C%20animation%5D%20of%20this.animations)%20%7B%0Aif%20(animation.active)%20%7B%0Aanimation.fn(timestamp)%3B%0A%7D%0A%7D%0A%2F%2F%20Request%20next%20frame%0Athis.animationId%20%3D%20requestAnimationFrame(this.tick)%3B%0A%7D%0A%7D%0A%2F%2F%20Global%20animation%20manager%0Aconst%20animationManager%20%3D%20new%20AnimationManager()%3B%0A%2F%2F%20Usage%20example%0AanimationManager.add('myAnimation'%2C%20(timestamp)%20%3D%3E%20%7B%0A%2F%2F%20Animation%20logic%0A%7D)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"Copy code\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003eCopy\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eAnimationManager\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_ inline\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimations\u003c/span\u003e = \u003cspan class=\"hljs-keyword inline\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eMap\u003c/span\u003e();\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimationId\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e;\n  }\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003eadd\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003ekey, animationFn\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimations\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eset\u003c/span\u003e(key, {\n      \u003cspan class=\"hljs-attr inline\"\u003efn\u003c/span\u003e: animationFn,\n      \u003cspan class=\"hljs-attr inline\"\u003eactive\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e\n    });\n    \n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e) {\n      \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003estart\u003c/span\u003e();\n    }\n  }\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003eremove\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003ekey\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimations\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003edelete\u003c/span\u003e(key);\n    \n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimations\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003esize\u003c/span\u003e === \u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e) {\n      \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003estop\u003c/span\u003e();\n    }\n  }\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003estart\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e) \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e;\n    \n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003etick\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003estop\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimationId\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_ inline\"\u003ecancelAnimationFrame\u003c/span\u003e(\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimationId\u003c/span\u003e);\n    }\n  }\n\n  tick = \u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eisRunning\u003c/span\u003e) \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// Execute all active animations\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [key, animation] \u003cspan class=\"hljs-keyword inline\"\u003eof\u003c/span\u003e \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimations\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (animation.\u003cspan class=\"hljs-property inline\"\u003eactive\u003c/span\u003e) {\n        animation.\u003cspan class=\"hljs-title function_ inline\"\u003efn\u003c/span\u003e(timestamp);\n      }\n    }\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// Request next frame\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eanimationId\u003c/span\u003e = \u003cspan class=\"hljs-title function_ inline\"\u003erequestAnimationFrame\u003c/span\u003e(\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003etick\u003c/span\u003e);\n  }\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Global animation manager\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e animationManager = \u003cspan class=\"hljs-keyword inline\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eAnimationManager\u003c/span\u003e();\n\n\u003cspan class=\"hljs-comment inline\"\u003e// Usage example\u003c/span\u003e\nanimationManager.\u003cspan class=\"hljs-title function_ inline\"\u003eadd\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;myAnimation\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003etimestamp\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-comment inline\"\u003e// Animation logic\u003c/span\u003e\n});\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003ccode\u003erequestAnimationFrame\u003c/code\u003e is the core API for modern web animations, providing smooth and efficient animation solutions.\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"$L1d\",null,{\"htmlContent\":\"$1e\",\"frontMatter\":{\"title\":\"requestAnimationFrame\",\"description\":\"Browser Fundamentals - requestAnimationFrame\",\"date\":\"2025-06-22\",\"author\":\"MilkWind\",\"tags\":[\"Browser\",\"Fundamentals\",\"requestAnimationFrame\",\"Animation\"],\"references\":{}},\"readingTime\":\"7 min read\",\"category\":\"basic-knowledge\",\"tocItems\":[{\"id\":\"basic-purpose\",\"text\":\"Basic Purpose\",\"level\":3},{\"id\":\"basic-usage\",\"text\":\"Basic Usage\",\"level\":3},{\"id\":\"working-principle-and-common-issues\",\"text\":\"Working Principle and Common Issues\",\"level\":3},{\"id\":\"why-is-requestanimationframe-typically-called-recursively\",\"text\":\"Why is requestAnimationFrame typically called recursively?\",\"level\":4},{\"id\":\"won’t-continuous-recursive-calls-to-requestanimationframe-cause-stack-overflow\",\"text\":\"Won’t continuous recursive calls to requestAnimationFrame cause stack overflow?\",\"level\":4},{\"id\":\"what-is-the-browser’s-repaint-task-queue\",\"text\":\"What is the browser’s repaint task queue?\",\"level\":4},{\"id\":\"how-does-requestanimationframe-ensure-synchronization-with-the-browser-refresh-rate\",\"text\":\"How does requestAnimationFrame ensure synchronization with the browser refresh rate?\",\"level\":4},{\"id\":\"comparison-with-traditional-solutions\",\"text\":\"Comparison with Traditional Solutions\",\"level\":3},{\"id\":\"problems-with-settimeoutsetinterval\",\"text\":\"Problems with setTimeout/setInterval\",\"level\":4},{\"id\":\"advantages-of-requestanimationframe\",\"text\":\"Advantages of requestAnimationFrame\",\"level\":4},{\"id\":\"practical-examples\",\"text\":\"Practical Examples\",\"level\":3},{\"id\":\"simple-movement-animation\",\"text\":\"Simple Movement Animation\",\"level\":4},{\"id\":\"time-controlled-animation\",\"text\":\"Time-Controlled Animation\",\"level\":4},{\"id\":\"performance-optimization-tips\",\"text\":\"Performance Optimization Tips\",\"level\":3},{\"id\":\"avoid-forced-reflow\",\"text\":\"Avoid Forced Reflow\",\"level\":4},{\"id\":\"use-css-transforms-instead-of-position-changes\",\"text\":\"Use CSS Transforms Instead of Position Changes\",\"level\":4},{\"id\":\"usage-in-react\",\"text\":\"Usage in React\",\"level\":3},{\"id\":\"custom-animation-hook\",\"text\":\"Custom Animation Hook\",\"level\":3},{\"id\":\"real-world-application-scenarios\",\"text\":\"Real-world Application Scenarios\",\"level\":3},{\"id\":\"important-considerations\",\"text\":\"Important Considerations\",\"level\":3},{\"id\":\"complete-animation-manager-example\",\"text\":\"Complete Animation Manager Example\",\"level\":3}],\"translations\":{\"common\":{\"welcome\":\"Welcome\",\"loading\":\"Loading...\",\"error\":\"Something went wrong\",\"retry\":\"Try again\",\"theme\":\"Theme\",\"language\":\"Language\",\"light\":\"Light\",\"dark\":\"Dark\"},\"navigation\":{\"home\":\"Home\",\"personal\":\"Personal\",\"works\":\"Works\",\"contributions\":\"Contributions\",\"documents\":\"Documents\",\"about\":\"About\",\"contact\":\"Contact\"},\"personal\":{\"technicalSkills\":\"Technical Skills\",\"email\":\"Email\",\"github\":\"GitHub\",\"resume\":\"Resume\",\"codeRepository\":\"Code Repository\",\"loadingPersonalInfo\":\"Loading personal information...\",\"loadingResume\":\"Loading resume...\",\"closeResume\":\"Close Resume\",\"emailCopied\":\"Email copied to clipboard!\",\"galaxyDefaultDescription\":\"Expert in full-stack development, cross-platform architecture, AI technology integration, and high-performance system optimization\",\"skillGalaxy\":\"Skill Galaxy\",\"stirGalaxy\":\"Stir Galaxy\",\"stirring\":\"Stirring...\",\"fullStackEngineer\":\"MilkWind - Full Stack Engineer\",\"professionalProfile\":\"About Me\"},\"documents\":{\"technicalDocuments\":\"Technical Documents\",\"description\":\"Basic principles, code splitting, and some random thoughts.\",\"articles\":\"Articles\",\"categories\":\"Categories\",\"allCategories\":\"All Categories\",\"noArticlesFound\":\"No articles found\",\"noArticlesAvailable\":\"No articles available in English.\",\"noArticlesInCategory\":\"No articles found in the category.\",\"readMore\":\"Read more\",\"loadingDocuments\":\"Loading documents...\",\"backToDocuments\":\"← Back to Documents\",\"documentNotFound\":\"Document Not Found\",\"documentNotFoundDescription\":\"The requested document could not be found.\",\"technicalInsights\":\"Insights\",\"untitledDocument\":\"Untitled Document\",\"byAuthor\":\"By\",\"search\":\"Search articles...\",\"searchByTags\":\"Filter by tags\",\"searching\":\"Searching...\",\"noSearchResults\":\"No articles match your search criteria\",\"clearSearch\":\"Clear search\",\"selectedTags\":\"Selected tags\",\"allTags\":\"All tags\",\"searchInTitle\":\"Search in titles, descriptions, and content\",\"enterImmersiveMode\":\"Immersive Reading\",\"exitImmersiveMode\":\"Exit Immersive Mode\",\"immersiveReading\":\"Immersive Reading Mode\",\"exploreContent\":\"Explore content by category\",\"browseBy\":\"Browse by\",\"exploreAll\":\"All content in one place\",\"categoryDescription\":\"Articles in this category\",\"totalArticles\":\"Articles\",\"totalCategories\":\"Categories\",\"foundArticles\":\"Found articles\",\"categoriesWithResults\":\"Categories with results\"},\"works\":{\"workCases\":\"Work Cases\",\"projects\":\"Portfolio\",\"loadingProjects\":\"Loading projects...\",\"grid\":\"Grid\",\"stack\":\"Stack\",\"of\":\"of\",\"workCasesPageTitle\":\"Work Cases Page\",\"pageWorkingCorrectly\":\"This page is working! The routing is correct.\",\"try3DVersion\":\"Try 3D Version\",\"dragToScroll\":\"Drag to scroll\",\"dragToChange\":\"Drag to change\",\"swipeCards\":\"Swipe cards\",\"keyboardNav\":\"Keyboard navigation\"},\"contributions\":{\"contributionCases\":\"Open Source\",\"contributions\":\"Contributions\",\"loadingContributions\":\"Loading contributions...\",\"grid\":\"Grid\",\"stack\":\"Stack\",\"of\":\"of\",\"contributionCasesPageTitle\":\"Contribution Cases Page\",\"pageWorkingCorrectly\":\"This page is working! The routing is correct.\",\"try3DVersion\":\"Try 3D Version\",\"dragToScroll\":\"Drag to scroll\",\"dragToChange\":\"Drag to change\",\"swipeCards\":\"Swipe cards\",\"keyboardNav\":\"Keyboard navigation\"},\"contribution\":{\"contributionPreview\":\"Contribution Preview\",\"accessible\":\"Accessible\",\"code\":\"Code\",\"maintenance\":\"Maintenance\",\"enhancement\":\"Enhancement\",\"documentation\":\"Documentation\",\"community\":\"Community\",\"moreItems\":\"more\",\"technicalDetails\":\"Technical Details\",\"technologies\":\"Technologies:\",\"contributionDetail\":\"Contribution Detail\",\"description\":\"Description:\",\"seeDetails\":\"See Details\",\"github\":\"GitHub\",\"viewContribution\":\"View Contribution\",\"viewCode\":\"View Code\"},\"project\":{\"projectPreview\":\"Project Preview\",\"accessible\":\"Accessible\",\"tool\":\"Tool\",\"plugin\":\"Plugin\",\"toy\":\"Toy\",\"moreItems\":\"more\",\"technicalDetails\":\"Technical Details\",\"technologies\":\"Technologies:\",\"description\":\"Description:\",\"seeDetails\":\"See Details\",\"github\":\"GitHub\",\"gitee\":\"Gitee\",\"viewLiveDemo\":\"View Live Demo\",\"viewCode\":\"View Code\",\"access\":\"Access\",\"videos\":\"Videos\",\"watchVideo\":\"Watch Video\",\"hasVideo\":\"Has Video\"},\"codeblock\":{\"copy\":\"Copy\",\"copySuccess\":\"Code copied to clipboard!\",\"copyError\":\"Failed to copy code\",\"copyTooltip\":\"Copy code\"},\"toc\":{\"contents\":\"Contents\",\"autoScroll\":\"Auto-scroll to section\",\"collapse\":\"Collapse\",\"expand\":\"Expand\"},\"loading\":{\"loading\":\"LOADING\",\"preparingExperience\":\"Preparing experience\"}},\"lang\":\"en\",\"theme\":\"dark\"}]\n"])</script><script>self.__next_f.push([1,"12:null\n"])</script><script>self.__next_f.push([1,"18:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n11:null\n"])</script><script>self.__next_f.push([1,"1c:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"requestAnimationFrame | Interactive Portfolio\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Browser Fundamentals - requestAnimationFrame\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"Developer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"portfolio,3D,interactive,web development,Three.js,Next.js\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"requestAnimationFrame | Interactive Portfolio\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Browser Fundamentals - requestAnimationFrame\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"7\",{\"property\":\"article:published_time\",\"content\":\"2025-06-22\"}],[\"$\",\"meta\",\"8\",{\"property\":\"article:tag\",\"content\":\"Browser\"}],[\"$\",\"meta\",\"9\",{\"property\":\"article:tag\",\"content\":\"Fundamentals\"}],[\"$\",\"meta\",\"10\",{\"property\":\"article:tag\",\"content\":\"requestAnimationFrame\"}],[\"$\",\"meta\",\"11\",{\"property\":\"article:tag\",\"content\":\"Animation\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:title\",\"content\":\"requestAnimationFrame | Interactive Portfolio\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:description\",\"content\":\"Browser Fundamentals - requestAnimationFrame\"}],[\"$\",\"link\",\"15\",{\"rel\":\"icon\",\"href\":\"/MilkWind-Website/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"32x32\"}]],\"error\":null,\"digest\":\"$undefined\"}\n14:{\"metadata\":\"$1c:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>