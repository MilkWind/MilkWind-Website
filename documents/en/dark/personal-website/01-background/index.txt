1:"$Sreact.fragment"
2:I[38735,["46","static/chunks/46-268e24d727b280ef.js","7177","static/chunks/app/layout-af4a6e723c0ff668.js"],"default"]
3:I[19945,["46","static/chunks/46-268e24d727b280ef.js","7177","static/chunks/app/layout-af4a6e723c0ff668.js"],"default"]
4:I[65337,["46","static/chunks/46-268e24d727b280ef.js","7177","static/chunks/app/layout-af4a6e723c0ff668.js"],"default"]
5:I[96190,["46","static/chunks/46-268e24d727b280ef.js","7177","static/chunks/app/layout-af4a6e723c0ff668.js"],"ClientProviders"]
6:I[87555,[],""]
7:I[51901,["8039","static/chunks/app/error-dda32be1d095a86c.js"],"default"]
8:I[31295,[],""]
9:I[6874,["6874","static/chunks/6874-fbe9a08eb79b991c.js","4345","static/chunks/app/not-found-9ff98b2ccf24cac7.js"],""]
a:I[94970,[],"ClientSegmentRoot"]
b:I[44065,["206","static/chunks/206-4f4cbf4d7156f437.js","3092","static/chunks/app/documents/layout-28408791defde09e.js"],"default"]
e:I[59665,[],"MetadataBoundary"]
10:I[59665,[],"OutletBoundary"]
13:I[74911,[],"AsyncMetadataOutlet"]
15:I[39460,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","5650","static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js"],"default"]
16:I[88610,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","4209","static/chunks/app/loading-68f227fb49b3ac8c.js"],"default"]
17:I[59665,[],"ViewportBoundary"]
19:I[26614,[],""]
:HL["/MilkWind-Website/_next/static/css/f034c804622acb16.css","style"]
:HL["/MilkWind-Website/_next/static/css/276b387d8ca46690.css","style"]
:HL["/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css","style"]
0:{"P":null,"b":"VfIBorA4Pr-iS5Xp1a-dx","p":"/MilkWind-Website","c":["","documents","en","dark","personal-website","01-background",""],"i":false,"f":[[["",{"children":["documents",{"children":[["slug","en/dark/personal-website/01-background","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/MilkWind-Website/_next/static/css/f034c804622acb16.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/MilkWind-Website/_next/static/css/276b387d8ca46690.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_9b7fb1 __variable_ca2a15 __variable_591dcc font-sans antialiased min-h-screen bg-background text-foreground","suppressHydrationWarning":true,"children":[["$","$L2",null,{}],["$","$L3",null,{}],["$","$L4",null,{}],["$","$L5",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$7","errorStyles":[],"errorScripts":[],"template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"z-10 relative min-h-screen flex items-center justify-center bg-background p-8","children":["$","div",null,{"className":"text-center max-w-md","children":[["$","div",null,{"className":"text-8xl font-bold text-primary mb-4","children":"404"}],["$","h2",null,{"className":"text-2xl font-bold text-foreground mb-4","children":"Page Not Found"}],["$","p",null,{"className":"text-foreground/70 mb-8","children":"The page you're looking for doesn't exist or has been moved to a different location."}],["$","div",null,{"className":"flex flex-col sm:flex-row gap-4 justify-center","children":[["$","$L9",null,{"href":"/","className":"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors","children":"Go Home"}],["$","$L9",null,{"href":"/works","className":"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors","children":"View Works"}]]}],["$","div",null,{"className":"absolute inset-0 overflow-hidden pointer-events-none -z-10","children":[["$","div",null,{"className":"absolute top-1/4 left-1/4 w-2 h-2 bg-primary/20 rounded-full animate-float"}],["$","div",null,{"className":"absolute top-3/4 right-1/4 w-3 h-3 bg-accent/20 rounded-full animate-float","style":{"animationDelay":"1s"}}],["$","div",null,{"className":"absolute bottom-1/4 left-1/3 w-1 h-1 bg-secondary/20 rounded-full animate-float","style":{"animationDelay":"2s"}}]]}]]}]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]}]]}],{"children":["documents",["$","$1","c",{"children":[null,["$","$La",null,{"Component":"$b","slots":{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@c"}]]}],{"children":[["slug","en/dark/personal-website/01-background","c"],["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Ld",["$","$Le",null,{"children":"$Lf"}],[["$","link","0",{"rel":"stylesheet","href":"/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L10",null,{"children":["$L11","$L12",["$","$L13",null,{"promise":"$@14"}]]}]]}],{},null,false]},null,false]},[["$","$L15","l",{}],[],[]],false]},[["$","$L16","l",{}],[],[]],false],["$","$1","h",{"children":[null,["$","$1","TtuStjzbG74fM4zpj28D2",{"children":[["$","$L17",null,{"children":"$L18"}],null]}],null]}],false]],"m":"$undefined","G":["$19","$undefined"],"s":false,"S":true}
1a:"$Sreact.suspense"
1b:I[74911,[],"AsyncMetadata"]
c:{}
f:["$","$1a",null,{"fallback":null,"children":["$","$L1b",null,{"promise":"$@1c"}]}]
1d:I[57340,["5584","static/chunks/b498d07c-095637f0f10883c6.js","2415","static/chunks/2415-689c103fb3d2c28d.js","6874","static/chunks/6874-fbe9a08eb79b991c.js","9554","static/chunks/9554-b714f9de28e85d30.js","1873","static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js"],"DocumentPageClient"]
1e:T26825,<h1 id="binary-rain-curtain-a-glimpse-into-the-machine-computing-world" class="group relative text-4xl font-bold mt-8 mb-4 text-foreground leading-tight">
            <a href="#binary-rain-curtain-a-glimpse-into-the-machine-computing-world" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Binary Rain Curtain: A Glimpse into the Machine Computing World">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Binary Rain Curtain: A Glimpse into the Machine Computing World
        </h1>
<p class="text-base leading-7 mb-4 text-foreground">Somehow thinking of ‚ÄúThe Matrix‚Äù when creating the background led to this.</p>
<p class="text-base leading-7 mb-4 text-foreground">This article will dissect every line of code from character grid to radial masking, completely deconstructing this visual effect that gives the mouse cursor ‚Äúillumination magic.‚Äù</p>
<h2 id="canvas-initialization-building-the-digital-stage" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#canvas-initialization-building-the-digital-stage" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Canvas Initialization: Building the Digital Stage">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Canvas Initialization: Building the Digital Stage
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">The importance of Canvas in frontend graphics cannot be overstated‚Äîit serves as the canvas that carries the entire background.</p>
<h3 id="precise-adaptation-of-responsive-canvas" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#precise-adaptation-of-responsive-canvas" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Precise Adaptation of Responsive Canvas">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Precise Adaptation of Responsive Canvas
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="12:25:src/components/ui/background/BinaryRainBackground.tsx" data-code="const%20resizeCanvas%20%3D%20useCallback(()%20%3D%3E%20%7B%0Aconst%20canvas%20%3D%20canvasRef.current%3B%0Aif%20(!canvas)%20return%3B%0Aconst%20rect%20%3D%20canvas.getBoundingClientRect()%3B%0Acanvas.width%20%3D%20rect.width%3B%0Acanvas.height%20%3D%20rect.height%3B%0A%2F%2F%20Generate%20particles%20grid%0Aconst%20binaryChars%20%3D%20%5B'0'%2C%20'1'%5D%3B%0Aconst%20gridSize%20%3D%2020%3B%0AparticlesRef.current%20%3D%20%5B%5D%3B%0A%7D%2C%20%5B%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">12:25:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-12:25:src/components/ui/background/BinaryRainBackground.tsx"><span class="hljs-type inline">const</span> resizeCanvas = <span class="hljs-built_in inline">useCallback</span>(() =&gt; {
    <span class="hljs-type inline">const</span> canvas = canvasRef.current;
    <span class="hljs-keyword inline">if</span> (!canvas) <span class="hljs-keyword inline">return</span>;

    <span class="hljs-type inline">const</span> rect = canvas.<span class="hljs-built_in inline">getBoundingClientRect</span>();
    canvas.width = rect.width;
    canvas.height = rect.height;

    <span class="hljs-comment inline">// Generate particles grid</span>
    <span class="hljs-type inline">const</span> binaryChars = [<span class="hljs-string inline">&#x27;0&#x27;</span>, <span class="hljs-string inline">&#x27;1&#x27;</span>];
    <span class="hljs-type inline">const</span> gridSize = <span class="hljs-number inline">20</span>;
    particlesRef.current = [];
}, []);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">getBoundingClientRect Precise Positioning</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">This seemingly simple method is actually a precision instrument in the Web API, returning not just the element‚Äôs position, but a complete report containing all spatial information:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Absolute Position</strong>: Precise coordinates relative to the viewport</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Actual Dimensions</strong>: Real size after CSS transformations</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Boundary Information</strong>: Including all layout-affecting factors like border, padding, etc.</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why set canvas.width directly instead of CSS styles?</strong></p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="canvas.width%20%3D%20rect.width%3B%20%20%20%2F%2F%20Set%20the%20actual%20resolution%20of%20the%20canvas%0A%2F%2F%20Instead%20of%3A%0A%2F%2F%20canvas.style.width%20%3D%20rect.width%20%2B%20'px'%3B%20%20%2F%2F%20Just%20visual%20scaling">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">canvas.<span class="hljs-property inline">width</span> = rect.<span class="hljs-property inline">width</span>;   <span class="hljs-comment inline">// Set the actual resolution of the canvas</span>
<span class="hljs-comment inline">// Instead of:</span>
<span class="hljs-comment inline">// canvas.style.width = rect.width + &#x27;px&#x27;;  // Just visual scaling</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">This is a classic trap in Canvas development! CSS dimensions are just visual scaling, while canvas.width sets the actual pixel resolution. If you only set CSS dimensions, you‚Äôll get a blurry mess like looking at pixel games through a magnifying glass.</p>
<h3 id="grid-generation-20-pixel-mathematical-art" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#grid-generation-20-pixel-mathematical-art" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Grid Generation: 20-Pixel Mathematical Art">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Grid Generation: 20-Pixel Mathematical Art
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="26:39:src/components/ui/background/BinaryRainBackground.tsx" data-code="%2F%2F%20Generate%20particles%20grid%0Aconst%20binaryChars%20%3D%20%5B'0'%2C%20'1'%5D%3B%0Aconst%20gridSize%20%3D%2020%3B%0AparticlesRef.current%20%3D%20%5B%5D%3B%0Afor%20(let%20y%20%3D%200%3B%20y%20y%20%2B%3D%20gridSize)%20%7B%0Afor%20(let%20x%20%3D%200%3B%20x%20x%20%2B%3D%20gridSize)%20%7B%0AparticlesRef.current.push(%7B%0Ax%2C%0Ay%2C%0Achar%3A%20binaryChars%5BMath.floor(Math.random()%20*%202)%5D%0A%7D)%3B%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">26:39:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-26:39:src/components/ui/background/BinaryRainBackground.tsx"><span class="hljs-comment inline">// Generate particles grid</span>
const binaryChars = [<span class="hljs-string inline">&#x27;0&#x27;</span>, <span class="hljs-string inline">&#x27;1&#x27;</span>];
const gridSize = <span class="hljs-number inline">20</span>;
particlesRef.current = [];

<span class="hljs-keyword inline">for</span> (let <span class="hljs-variable language_ inline">y</span> = <span class="hljs-number inline">0</span>; <span class="hljs-variable language_ inline">y</span> &lt; canvas.height; <span class="hljs-variable language_ inline">y</span> += gridSize) {
    <span class="hljs-keyword inline">for</span> (let <span class="hljs-variable language_ inline">x</span> = <span class="hljs-number inline">0</span>; <span class="hljs-variable language_ inline">x</span> &lt; canvas.width; <span class="hljs-variable language_ inline">x</span> += gridSize) {
        particlesRef.current.push({
            <span class="hljs-variable language_ inline">x</span>,
            <span class="hljs-variable language_ inline">y</span>,
            char: binaryChars[Math.<span class="hljs-built_in inline">floor</span>(Math.<span class="hljs-built_in inline">random</span>() * <span class="hljs-number inline">2</span>)]
        });
    }
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why choose a 20-pixel grid?</strong> <del class="line-through opacity-60">(Mainly because other pixel values don‚Äôt look as good visually)</del></p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Too small (like 10px)</strong>: Character density too high, GPU cries, frame rate dives üíî</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Too large (like 40px)</strong>: Characters sparse, looks like scattered stars rather than matrix rain</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">20px just right</strong>: Ensures sufficient visual density without obvious lag</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Mathematical estimation of character count</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">For a full-screen 1920√ó1080 display:<br class="block">
<span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>e</mi><mi>r</mi><mtext>¬†</mtext><mi>C</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi><mo>=</mo><mfrac><mn>1920</mn><mn>20</mn></mfrac><mo>√ó</mo><mfrac><mn>1080</mn><mn>20</mn></mfrac><mo>=</mo><mn>96</mn><mo>√ó</mo><mn>54</mn><mo>=</mo><mn>5184</mn><mtext>¬†</mtext><mi>c</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">Character\ Count = \frac{1920}{20} \times \frac{1080}{20} = 96 \times 54 = 5184\ characters</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.6944em;"></span><span class="mord mathnormal inline" style="margin-right:0.07153em;">C</span><span class="mord mathnormal inline">ha</span><span class="mord mathnormal inline" style="margin-right:0.02778em;">r</span><span class="mord mathnormal inline">a</span><span class="mord mathnormal inline">c</span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline" style="margin-right:0.02778em;">er</span><span class="mspace inline">¬†</span><span class="mord mathnormal inline" style="margin-right:0.07153em;">C</span><span class="mord mathnormal inline">o</span><span class="mord mathnormal inline">u</span><span class="mord mathnormal inline">n</span><span class="mord mathnormal inline">t</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.3214em;"><span style="top:-2.314em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord inline">20</span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord inline">1920</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.686em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">√ó</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.3214em;"><span style="top:-2.314em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord inline">20</span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord inline">1080</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.686em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord inline">96</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">√ó</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.6444em;"></span><span class="mord inline">54</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.6944em;"></span><span class="mord inline">5184</span><span class="mspace inline">¬†</span><span class="mord mathnormal inline">c</span><span class="mord mathnormal inline">ha</span><span class="mord mathnormal inline" style="margin-right:0.02778em;">r</span><span class="mord mathnormal inline">a</span><span class="mord mathnormal inline">c</span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline">ers</span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">Each character object contains 3 properties (x, y, char), occupying about 24 bytes in JavaScript, with total memory usage around 124KB‚Äîcompletely within controllable range!</p>
<h3 id="minimalist-design-of-character-objects" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#minimalist-design-of-character-objects" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Minimalist Design of Character Objects">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Minimalist Design of Character Objects
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="interface%20ParticleData%20%7B%0Ax%3A%20number%3B%0Ay%3A%20number%3B%0Achar%3A%20string%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">ParticleData</span> {
    <span class="hljs-attr inline">x</span>: <span class="hljs-built_in inline">number</span>;
    <span class="hljs-attr inline">y</span>: <span class="hljs-built_in inline">number</span>;
    <span class="hljs-attr inline">char</span>: <span class="hljs-built_in inline">string</span>;
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">This interface design embodies the ‚ÄúLess is More‚Äù philosophy:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">x, y</strong>: Absolute position of the character in the grid</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">char</strong>: Currently displayed character (‚Äò0‚Äô or ‚Äò1‚Äô)</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">No color</strong>: Uniformly uses theme color, reducing memory usage</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">No velocity</strong>: Fixed position, no need for velocity property</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">No lifecycle</strong>: Characters are eternal, only content changes</li>
</ul>
<h3 id="continuous-injection-of-randomness" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#continuous-injection-of-randomness" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Continuous Injection of Randomness">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Continuous Injection of Randomness
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="93:96:src/components/ui/background/BinaryRainBackground.tsx" data-code="const%20updateCharacters%20%3D%20useCallback(()%20%3D%3E%20%7B%0AparticlesRef.current.forEach(p%20%3D%3E%20%7B%0Ap.char%20%3D%20%5B'0'%2C%20'1'%5D%5BMath.floor(Math.random()%20*%202)%5D%3B%0A%7D)%3B%0A%7D%2C%20%5B%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">93:96:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-93:96:src/components/ui/background/BinaryRainBackground.tsx">const updateCharacters = useCallback(<span class="hljs-function inline"><span class="hljs-params inline">()</span> =&gt;</span> {
    particlesRef.current.forEach(<span class="hljs-function inline"><span class="hljs-params inline">p</span> =&gt;</span> {
        p.char = [<span class="hljs-string inline">&#x27;0&#x27;</span>, <span class="hljs-string inline">&#x27;1&#x27;</span>][Math.<span class="hljs-built_in inline">floor</span>(Math.<span class="hljs-built_in inline">random</span>() * <span class="hljs-number inline">2</span>)];
    });
}, []);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Attempts to reset the display character of each character object every second.</p>
<h2 id="animation-rendering-visual-feast-of-light-and-shadow" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#animation-rendering-visual-feast-of-light-and-shadow" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Animation Rendering: Visual Feast of Light and Shadow">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Animation Rendering: Visual Feast of Light and Shadow
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">The core of Canvas animation lies in the rendering loop, and our binary rain curtain uses some clever tricks to create unique visual effects.</p>
<h2 id="mouse-tracking-and-radial-masking" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#mouse-tracking-and-radial-masking" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Mouse Tracking and Radial Masking">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Mouse Tracking and Radial Masking
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">‚ÄúMouse Spotlight and Character Matrix‚Äù</p>
<h3 id="coordinate-transformation" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#coordinate-transformation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Coordinate Transformation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Coordinate Transformation
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="45:51:src/components/ui/background/BinaryRainBackground.tsx" data-code="%2F%2F%20Mouse%20move%20event%3A%20update%20mouse%20coordinates%0Athis.canvas.addEventListener('mousemove'%2C%20(e)%20%3D%3E%20%7B%0Aconst%20rect%20%3D%20this.canvas.getBoundingClientRect()%3B%0A%2F%2F%20Convert%20screen%20coordinates%20to%20Canvas%20coordinates%0Athis.mouseX%20%3D%20e.clientX%20-%20rect.left%3B%0Athis.mouseY%20%3D%20e.clientY%20-%20rect.top%3B%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">45:51:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-45:51:src/components/ui/background/BinaryRainBackground.tsx"><span class="hljs-comment inline">// Mouse move event: update mouse coordinates</span>
<span class="hljs-keyword inline">this</span>.canvas.addEventListener(<span class="hljs-string inline">&#x27;mousemove&#x27;</span>, (e) =&gt; {
    <span class="hljs-keyword inline">const</span> rect = <span class="hljs-keyword inline">this</span>.canvas.getBoundingClientRect();
    <span class="hljs-comment inline">// Convert screen coordinates to Canvas coordinates</span>
    <span class="hljs-keyword inline">this</span>.mouseX = e.clientX - rect.left;
    <span class="hljs-keyword inline">this</span>.mouseY = e.clientY - rect.top;
});
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Mathematical transformation of coordinate systems</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Multiple coordinate systems exist in browsers:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Screen coordinate system</strong>: <code>e.clientX, e.clientY</code> (relative to viewport)</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Page coordinate system</strong>: <code>e.pageX, e.pageY</code> (relative to entire page)</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Canvas coordinate system</strong>: <code>mouseX, mouseY</code> (relative to canvas)</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">Transformation formula:<br class="block">
<span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mi>a</mi><mi>n</mi><mi>v</mi><mi>a</mi><msub><mi>s</mi><mi>x</mi></msub><mo>=</mo><mi>S</mi><mi>c</mi><mi>r</mi><mi>e</mi><mi>e</mi><msub><mi>n</mi><mi>x</mi></msub><mo>‚àí</mo><mi>C</mi><mi>a</mi><mi>n</mi><mi>v</mi><mi>a</mi><msub><mi>s</mi><mrow><mi>o</mi><mi>f</mi><mi>f</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>X</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Canvas_{x} = Screen_{x} - Canvas_{offsetX}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal inline" style="margin-right:0.07153em;">C</span><span class="mord mathnormal inline">an</span><span class="mord mathnormal inline" style="margin-right:0.03588em;">v</span><span class="mord mathnormal inline">a</span><span class="mord inline"><span class="mord mathnormal inline">s</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">x</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal inline" style="margin-right:0.05764em;">S</span><span class="mord mathnormal inline">cree</span><span class="mord inline"><span class="mord mathnormal inline">n</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">x</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚àí</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord mathnormal inline" style="margin-right:0.07153em;">C</span><span class="mord mathnormal inline">an</span><span class="mord mathnormal inline" style="margin-right:0.03588em;">v</span><span class="mord mathnormal inline">a</span><span class="mord inline"><span class="mord mathnormal inline">s</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">o</span><span class="mord mathnormal mtight inline" style="margin-right:0.10764em;">ff</span><span class="mord mathnormal mtight inline">se</span><span class="mord mathnormal mtight inline" style="margin-right:0.07847em;">tX</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span></span></span></span></span></span><br class="block">
<span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mi>a</mi><mi>n</mi><mi>v</mi><mi>a</mi><msub><mi>s</mi><mi>y</mi></msub><mo>=</mo><mi>S</mi><mi>c</mi><mi>r</mi><mi>e</mi><mi>e</mi><msub><mi>n</mi><mi>y</mi></msub><mo>‚àí</mo><mi>C</mi><mi>a</mi><mi>n</mi><mi>v</mi><mi>a</mi><msub><mi>s</mi><mrow><mi>o</mi><mi>f</mi><mi>f</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>Y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Canvas_{y} = Screen_{y} - Canvas_{offsetY}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord mathnormal inline" style="margin-right:0.07153em;">C</span><span class="mord mathnormal inline">an</span><span class="mord mathnormal inline" style="margin-right:0.03588em;">v</span><span class="mord mathnormal inline">a</span><span class="mord inline"><span class="mord mathnormal inline">s</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord mathnormal inline" style="margin-right:0.05764em;">S</span><span class="mord mathnormal inline">cree</span><span class="mord inline"><span class="mord mathnormal inline">n</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚àí</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord mathnormal inline" style="margin-right:0.07153em;">C</span><span class="mord mathnormal inline">an</span><span class="mord mathnormal inline" style="margin-right:0.03588em;">v</span><span class="mord mathnormal inline">a</span><span class="mord inline"><span class="mord mathnormal inline">s</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">o</span><span class="mord mathnormal mtight inline" style="margin-right:0.10764em;">ff</span><span class="mord mathnormal mtight inline">se</span><span class="mord mathnormal mtight inline">t</span><span class="mord mathnormal mtight inline" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">Where <code>rect.left</code> and <code>rect.top</code> are the Canvas offsets relative to the viewport.</p>
<h3 id="radial-gradient" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#radial-gradient" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Radial Gradient">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Radial Gradient
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="78:85:src/components/ui/background/BinaryRainBackground.tsx" data-code="%2F%2F%20Create%20mask%0Actx.globalCompositeOperation%20%3D%20'destination-in'%3B%0Aconst%20gradient%20%3D%20ctx.createRadialGradient(%0AmousePosRef.current.x%2C%20mousePosRef.current.y%2C%200%2C%0AmousePosRef.current.x%2C%20mousePosRef.current.y%2C%20200%0A)%3B%0Agradient.addColorStop(0%2C%20'rgba(255%2C%20255%2C%20255%2C%201)')%3B%0Agradient.addColorStop(1%2C%20'rgba(255%2C%20255%2C%20255%2C%200)')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">78:85:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-78:85:src/components/ui/background/BinaryRainBackground.tsx"><span class="hljs-comment inline">// Create mask</span>
ctx.globalCompositeOperation = <span class="hljs-string inline">&#x27;destination-in&#x27;</span>;
const gradient = ctx.createRadialGradient(
    mousePosRef.current.<span class="hljs-variable language_ inline">x</span>, mousePosRef.current.<span class="hljs-variable language_ inline">y</span>, <span class="hljs-number inline">0</span>,
    mousePosRef.current.<span class="hljs-variable language_ inline">x</span>, mousePosRef.current.<span class="hljs-variable language_ inline">y</span>, <span class="hljs-number inline">200</span>
);
gradient.addColorStop(<span class="hljs-number inline">0</span>, <span class="hljs-string inline">&#x27;rgba(255, 255, 255, 1)&#x27;</span>);
gradient.addColorStop(<span class="hljs-number inline">1</span>, <span class="hljs-string inline">&#x27;rgba(255, 255, 255, 0)&#x27;</span>);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Geometric principles of radial gradient</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground"><code>createRadialGradient</code> creates a gradient from inner circle to outer circle:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Inner circle</strong>: Radius 0, position (mouseX, mouseY), completely opaque</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Outer circle</strong>: Radius 200, position (mouseX, mouseY), completely transparent</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">Mathematical expression:<br class="block">
<span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>O</mi><mi>p</mi><mi>a</mi><mi>c</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if¬†</mtext><mi>r</mi><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>‚àí</mo><mfrac><mi>r</mi><mn>200</mn></mfrac></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if¬†</mtext><mn>0</mn><mo>&lt;</mo><mi>r</mi><mo>&lt;</mo><mn>200</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if¬†</mtext><mi>r</mi><mo>‚â•</mo><mn>200</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">Opacity(r) = \begin{cases} 1 &amp; \text{if } r = 0 \\ 1 - \frac{r}{200} &amp; \text{if } 0 &lt; r &lt; 200 \\ 0 &amp; \text{if } r \geq 200 \end{cases}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal inline">Op</span><span class="mord mathnormal inline">a</span><span class="mord mathnormal inline">c</span><span class="mord mathnormal inline">i</span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline" style="margin-right:0.03588em;">y</span><span class="mopen inline">(</span><span class="mord mathnormal inline" style="margin-right:0.02778em;">r</span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:4.32em;vertical-align:-1.91em;"></span><span class="minner inline"><span class="mopen inline"><span class="delimsizing mult inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:2.35em;"><span style="top:-2.2em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span class="delimsizinginner delim-size4 inline"><span class="inline">‚é©</span></span></span><span style="top:-2.192em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;" class="inline"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"/></svg></span></span><span style="top:-3.15em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span class="delimsizinginner delim-size4 inline"><span class="inline">‚é®</span></span></span><span style="top:-4.292em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;" class="inline"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"/></svg></span></span><span style="top:-4.6em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span class="delimsizinginner delim-size4 inline"><span class="inline">‚éß</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:1.85em;"><span class="inline"></span></span></span></span></span></span><span class="mord inline"><span class="mtable inline"><span class="col-align-l inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:2.41em;"><span style="top:-4.41em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord inline">1</span></span></span><span style="top:-2.97em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord inline">1</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚àí</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.6954em;"><span style="top:-2.655em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mtight inline">200</span></span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.345em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span><span style="top:-1.53em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord inline">0</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:1.91em;"><span class="inline"></span></span></span></span></span><span class="arraycolsep inline" style="width:1em;"></span><span class="col-align-l inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:2.41em;"><span style="top:-4.41em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord text inline"><span class="mord inline">if¬†</span></span><span class="mord mathnormal inline" style="margin-right:0.02778em;">r</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mord inline">0</span></span></span><span style="top:-2.97em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord text inline"><span class="mord inline">if¬†</span></span><span class="mord inline">0</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">&lt;</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mord mathnormal inline" style="margin-right:0.02778em;">r</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">&lt;</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mord inline">200</span></span></span><span style="top:-1.53em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord text inline"><span class="mord inline">if¬†</span></span><span class="mord mathnormal inline" style="margin-right:0.02778em;">r</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">‚â•</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mord inline">200</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:1.91em;"><span class="inline"></span></span></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">Where <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><msqrt><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>‚àí</mo><mi>m</mi><mi>o</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>X</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>y</mi><mo>‚àí</mo><mi>m</mi><mi>o</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>Y</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">r = \sqrt{(x-mouseX)^2 + (y-mouseY)^2}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.4306em;"></span><span class="mord mathnormal inline" style="margin-right:0.02778em;">r</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:1.24em;vertical-align:-0.305em;"></span><span class="mord sqrt inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.935em;"><span class="svg-align inline" style="top:-3.2em;"><span class="pstrut inline" style="height:3.2em;"></span><span class="mord inline" style="padding-left:1em;"><span class="mopen inline">(</span><span class="mord mathnormal inline">x</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚àí</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mord mathnormal inline">m</span><span class="mord mathnormal inline">o</span><span class="mord mathnormal inline">u</span><span class="mord mathnormal inline">se</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">X</span><span class="mclose inline"><span class="mclose inline">)</span><span class="msupsub inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline">2</span></span></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">+</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mopen inline">(</span><span class="mord mathnormal inline" style="margin-right:0.03588em;">y</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚àí</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mord mathnormal inline">m</span><span class="mord mathnormal inline">o</span><span class="mord mathnormal inline">u</span><span class="mord mathnormal inline">se</span><span class="mord mathnormal inline" style="margin-right:0.22222em;">Y</span><span class="mclose inline"><span class="mclose inline">)</span><span class="msupsub inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.895em;" class="inline"><span class="pstrut inline" style="height:3.2em;"></span><span class="hide-tail inline" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.305em;"><span class="inline"></span></span></span></span></span></span></span></span> is the distance from pixel to mouse.</p>
<h3 id="destination-in-blending-mode" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#destination-in-blending-mode" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to destination-in Blending Mode">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            destination-in Blending Mode
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="ctx.globalCompositeOperation%20%3D%20'destination-in'%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">ctx.<span class="hljs-property inline">globalCompositeOperation</span> = <span class="hljs-string inline">&#x27;destination-in&#x27;</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Working principle</strong>:</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">destination</strong>: Content already drawn on canvas (our characters)</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">source</strong>: Newly drawn content (radial gradient mask)</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">destination-in</strong>: Only keeps the part of destination that overlaps with source and where source is opaque</li>
</ol>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Specific explanation of destination-in blending mode algorithm:</strong></p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20Pseudocode%0Afor%20(each%20pixel(x%2C%20y))%20%7B%0Aconst%20characterOpacity%20%3D%20destination%5Bx%5D%5By%5D.alpha%3B%20%20%20%20%2F%2F%20Original%20opacity%20of%20character%0Aconst%20gradientOpacity%20%3D%20source%5Bx%5D%5By%5D.alpha%3B%20%20%20%20%20%20%20%20%20%2F%2F%20Opacity%20of%20radial%20gradient%0A%2F%2F%20destination-in%20blending%20formula%0AfinalOpacity%20%3D%20characterOpacity%20*%20gradientOpacity%3B%0A%2F%2F%20If%20gradient%20is%20transparent%20at%20this%20position%20(alpha%3D0)%2C%20character%20becomes%20transparent%0A%2F%2F%20If%20gradient%20is%20opaque%20at%20this%20position%20(alpha%3D1)%2C%20character%20remains%20as%20is%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// Pseudocode</span>
<span class="hljs-keyword inline">for</span> (each <span class="hljs-title function_ inline">pixel</span>(x, y)) {
    <span class="hljs-keyword inline">const</span> characterOpacity = destination[x][y].<span class="hljs-property inline">alpha</span>;    <span class="hljs-comment inline">// Original opacity of character</span>
    <span class="hljs-keyword inline">const</span> gradientOpacity = source[x][y].<span class="hljs-property inline">alpha</span>;         <span class="hljs-comment inline">// Opacity of radial gradient</span>
    
    <span class="hljs-comment inline">// destination-in blending formula</span>
    finalOpacity = characterOpacity * gradientOpacity;
    
    <span class="hljs-comment inline">// If gradient is transparent at this position (alpha=0), character becomes transparent</span>
    <span class="hljs-comment inline">// If gradient is opaque at this position (alpha=1), character remains as is</span>
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Visual effect</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Gradient center (opaque): Characters fully visible</li>
<li class="text-foreground leading-relaxed">Gradient edge (transparent): Characters completely hidden</li>
<li class="text-foreground leading-relaxed">Gradient middle (semi-transparent): Characters partially visible</li>
</ul>
<h2 id="character-updates-double-barrel-approach" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#character-updates-double-barrel-approach" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Character Updates: Double-Barrel Approach">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Character Updates: Double-Barrel Approach
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">Binary rain curtain uses a dual timeline system, separately handling update and rendering responsibilities.</p>
<h3 id="division-of-labor-between-timer-and-animation-frames" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#division-of-labor-between-timer-and-animation-frames" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Division of Labor between Timer and Animation Frames">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Division of Labor between Timer and Animation Frames
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="98:102:src/components/ui/background/BinaryRainBackground.tsx" data-code="%2F%2F%20Character%20update%20interval%0AintervalIdRef.current%20%3D%20setInterval(updateCharacters%2C%201000)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">98:102:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-98:102:src/components/ui/background/BinaryRainBackground.tsx">// <span class="hljs-type inline">Character</span> <span class="hljs-keyword inline">update</span> <span class="hljs-type inline">interval</span>
intervalIdRef.<span class="hljs-keyword inline">current</span> = setInterval(updateCharacters, <span class="hljs-number inline">1000</span>);
</code></pre>
            </div>
        

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="107:115:src/components/ui/background/BinaryRainBackground.tsx" data-code="const%20animate%20%3D%20useCallback(()%20%3D%3E%20%7B%0A%2F%2F%20...%20rendering%20logic%0AanimationIdRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%7D%2C%20%5Bcolor%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">107:115:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-107:115:src/components/ui/background/BinaryRainBackground.tsx">const animate = useCallback(<span class="hljs-function inline"><span class="hljs-params inline">()</span> =&gt;</span> {
    <span class="hljs-comment inline">// ... rendering logic</span>
    animationIdRef.current = requestAnimationFrame(animate);
}, [color]);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why use two timing systems?</strong></p>
<p class="text-base leading-7 mb-4 text-foreground">This is a classic separation strategy for performance optimization:</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">setInterval (1000ms) - Content Updates</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Updates character content</li>
<li class="text-foreground leading-relaxed">Relatively low frequency</li>
<li class="text-foreground leading-relaxed">No need to sync with screen refresh</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">requestAnimationFrame (~16.67ms) - Visual Rendering</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Draws current frame</li>
<li class="text-foreground leading-relaxed">Syncs with screen refresh rate</li>
<li class="text-foreground leading-relaxed">Automatically pauses when page is not visible</li>
</ul>
<h3 id="memory-friendly-character-updates" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#memory-friendly-character-updates" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Memory-Friendly Character Updates">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Memory-Friendly Character Updates
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="93:96:src/components/ui/background/BinaryRainBackground.tsx" data-code="const%20updateCharacters%20%3D%20useCallback(()%20%3D%3E%20%7B%0AparticlesRef.current.forEach(p%20%3D%3E%20%7B%0Ap.char%20%3D%20%5B'0'%2C%20'1'%5D%5BMath.floor(Math.random()%20*%202)%5D%3B%0A%7D)%3B%0A%7D%2C%20%5B%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">93:96:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-93:96:src/components/ui/background/BinaryRainBackground.tsx">const updateCharacters = useCallback(<span class="hljs-function inline"><span class="hljs-params inline">()</span> =&gt;</span> {
    particlesRef.current.forEach(<span class="hljs-function inline"><span class="hljs-params inline">p</span> =&gt;</span> {
        p.char = [<span class="hljs-string inline">&#x27;0&#x27;</span>, <span class="hljs-string inline">&#x27;1&#x27;</span>][Math.<span class="hljs-built_in inline">floor</span>(Math.<span class="hljs-built_in inline">random</span>() * <span class="hljs-number inline">2</span>)];
    });
}, []);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why not recreate objects?</strong></p>
<p class="text-base leading-7 mb-4 text-foreground">Wrong approach:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E2%9D%8C%20Creates%20lots%20of%20garbage%20objects%0AparticlesRef.current%20%3D%20particlesRef.current.map(p%20%3D%3E%20(%7B%0A...p%2C%0Achar%3A%20%5B'0'%2C%20'1'%5D%5BMath.floor(Math.random()%20*%202)%5D%0A%7D))%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// ‚ùå Creates lots of garbage objects</span>
particlesRef.<span class="hljs-property inline">current</span> = particlesRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">map</span>(<span class="hljs-function inline"><span class="hljs-params inline">p</span> =&gt;</span> ({
    ...p,
    <span class="hljs-attr inline">char</span>: [<span class="hljs-string inline">&#x27;0&#x27;</span>, <span class="hljs-string inline">&#x27;1&#x27;</span>][<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>() * <span class="hljs-number inline">2</span>)]
}));
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Correct approach:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E2%9C%85%20Directly%20modify%20properties%2C%20zero%20garbage%20generation%0AparticlesRef.current.forEach(p%20%3D%3E%20%7B%0Ap.char%20%3D%20%5B'0'%2C%20'1'%5D%5BMath.floor(Math.random()%20*%202)%5D%3B%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// ‚úÖ Directly modify properties, zero garbage generation</span>
particlesRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">forEach</span>(<span class="hljs-function inline"><span class="hljs-params inline">p</span> =&gt;</span> {
    p.<span class="hljs-property inline">char</span> = [<span class="hljs-string inline">&#x27;0&#x27;</span>, <span class="hljs-string inline">&#x27;1&#x27;</span>][<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>() * <span class="hljs-number inline">2</span>)];
});
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Advantages of this approach:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Zero memory allocation</strong>: No new objects created</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Garbage collection friendly</strong>: Reduces GC pressure</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Stable performance</strong>: Avoids frame rate fluctuations</li>
</ul>
<h2 id="performance-optimization" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#performance-optimization" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Performance Optimization">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Performance Optimization
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">The usual three optimization strategies, but let‚Äôs write them anyway.</p>
<h3 id="usecallback-caching" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#usecallback-caching" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to useCallback Caching">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            useCallback Caching
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="12:40:src/components/ui/background/BinaryRainBackground.tsx" data-code="const%20resizeCanvas%20%3D%20useCallback(()%20%3D%3E%20%7B%0A%2F%2F%20...%20size%20adjustment%20logic%0A%7D%2C%20%5B%5D)%3B%0Aconst%20updateMousePos%20%3D%20useCallback((e%3A%20MouseEvent)%20%3D%3E%20%7B%0A%2F%2F%20...%20mouse%20position%20update%0A%7D%2C%20%5B%5D)%3B%0Aconst%20animate%20%3D%20useCallback(()%20%3D%3E%20%7B%0A%2F%2F%20...%20animation%20loop%0A%7D%2C%20%5Bcolor%5D)%3B%0Aconst%20updateCharacters%20%3D%20useCallback(()%20%3D%3E%20%7B%0A%2F%2F%20...%20character%20update%0A%7D%2C%20%5B%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">12:40:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-12:40:src/components/ui/background/BinaryRainBackground.tsx">const resizeCanvas = useCallback(<span class="hljs-function inline"><span class="hljs-params inline">()</span> =&gt;</span> {
    <span class="hljs-regexp inline">//</span> ... size adjustment logic
}, []);

const updateMousePos = useCallback(<span class="hljs-function inline"><span class="hljs-params inline">(e: MouseEvent)</span> =&gt;</span> {
    <span class="hljs-regexp inline">//</span> ... mouse position update
}, []);

const animate = useCallback(<span class="hljs-function inline"><span class="hljs-params inline">()</span> =&gt;</span> {
    <span class="hljs-regexp inline">//</span> ... animation <span class="hljs-keyword inline">loop</span>
}, [color]);

const updateCharacters = useCallback(<span class="hljs-function inline"><span class="hljs-params inline">()</span> =&gt;</span> {
    <span class="hljs-regexp inline">//</span> ... character update
}, []);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Problems without useCallback</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E2%9D%8C%20Creates%20new%20functions%20on%20every%20render%0AuseEffect(()%20%3D%3E%20%7B%0Aconst%20animate%20%3D%20()%20%3D%3E%20%7B%20%2F*%20...%20*%2F%20%7D%3B%20%20%2F%2F%20New%20function%20reference%0ArequestAnimationFrame(animate)%3B%0A%7D%2C%20%5Bcolor%5D)%3B%20%20%2F%2F%20Creates%20animate%20repeatedly%20when%20color%20changes">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// ‚ùå Creates new functions on every render</span>
<span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">animate</span> = (<span class="hljs-params inline"></span>) =&gt; { <span class="hljs-comment inline">/* ... */</span> };  <span class="hljs-comment inline">// New function reference</span>
    <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);
}, [color]);  <span class="hljs-comment inline">// Creates animate repeatedly when color changes</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Advantages of using useCallback</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E2%9C%85%20Stable%20function%20reference%2C%20avoids%20repeated%20creation%0Aconst%20animate%20%3D%20useCallback(()%20%3D%3E%20%7B%20%2F*%20...%20*%2F%20%7D%2C%20%5Bcolor%5D)%3B%0AuseEffect(()%20%3D%3E%20%7B%0ArequestAnimationFrame(animate)%3B%20%20%2F%2F%20Uses%20cached%20function%0A%7D%2C%20%5Banimate%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// ‚úÖ Stable function reference, avoids repeated creation</span>
<span class="hljs-keyword inline">const</span> animate = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">() =&gt;</span> { <span class="hljs-comment inline">/* ... */</span> }, [color]);
<span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);  <span class="hljs-comment inline">// Uses cached function</span>
}, [animate]);
</code></pre>
            </div>
        
<h3 id="event-listener-lifecycle-management" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#event-listener-lifecycle-management" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Event Listener Lifecycle Management">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Event Listener Lifecycle Management
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="104:112:src/components/ui/background/BinaryRainBackground.tsx" data-code="%2F%2F%20Set%20up%20event%20listeners%0Awindow.addEventListener('resize'%2C%20resizeCanvas)%3B%0Adocument.addEventListener('mousemove'%2C%20updateMousePos)%3B%0A%2F%2F%20Cleanup%0Areturn%20()%20%3D%3E%20%7B%0Awindow.removeEventListener('resize'%2C%20resizeCanvas)%3B%0Adocument.removeEventListener('mousemove'%2C%20updateMousePos)%3B%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">104:112:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-104:112:src/components/ui/background/BinaryRainBackground.tsx"><span class="hljs-comment inline">// Set up event listeners</span>
<span class="hljs-built_in inline">window</span>.addEventListener(<span class="hljs-string inline">&#x27;resize&#x27;</span>, resizeCanvas);
<span class="hljs-built_in inline">document</span>.addEventListener(<span class="hljs-string inline">&#x27;mousemove&#x27;</span>, updateMousePos);

<span class="hljs-comment inline">// Cleanup</span>
<span class="hljs-keyword inline">return</span> () =&gt; {
    <span class="hljs-built_in inline">window</span>.removeEventListener(<span class="hljs-string inline">&#x27;resize&#x27;</span>, resizeCanvas);
    <span class="hljs-built_in inline">document</span>.removeEventListener(<span class="hljs-string inline">&#x27;mousemove&#x27;</span>, updateMousePos);
};
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why is cleanup so important?</strong></p>
<p class="text-base leading-7 mb-4 text-foreground">Event listeners are a common source of memory leaks:</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Memory leak scenarios</strong>:</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Component unmounts but event listeners still exist</li>
<li class="text-foreground leading-relaxed">Listeners reference destroyed DOM elements</li>
<li class="text-foreground leading-relaxed">Closures hold large memory references</li>
</ol>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Protection mechanism of cleanup functions</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Ensures immediate cleanup when component unmounts</li>
<li class="text-foreground leading-relaxed">Avoids ‚Äúzombie listeners‚Äù continuing to run</li>
<li class="text-foreground leading-relaxed">Releases memory references in closures</li>
</ul>
<h3 id="gpu-acceleration-tricks-for-canvas-rendering" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#gpu-acceleration-tricks-for-canvas-rendering" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to GPU Acceleration Tricks for Canvas Rendering">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            GPU Acceleration Tricks for Canvas Rendering
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="60:76:src/components/ui/background/BinaryRainBackground.tsx" data-code="%2F%2F%20Clear%20canvas%0Actx.clearRect(0%2C%200%2C%20canvas.width%2C%20canvas.height)%3B%0A%2F%2F%20Draw%20background%0Actx.fillStyle%20%3D%20'rgba(10%2C%2010%2C%2010%2C%200.1)'%3B%0Actx.fillRect(0%2C%200%2C%20canvas.width%2C%20canvas.height)%3B%0A%2F%2F%20Text%20styling%0Actx.fillStyle%20%3D%20color%3B%0Actx.font%20%3D%20'14px%20monospace'%3B%0Actx.textAlign%20%3D%20'left'%3B%0Actx.textBaseline%20%3D%20'top'%3B%0A%2F%2F%20Draw%20characters%0AparticlesRef.current.forEach(p%20%3D%3E%20%7B%0Actx.fillText(p.char%2C%20p.x%2C%20p.y)%3B%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">60:76:src/components/ui/background/BinaryRainBackground.tsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-60:76:src/components/ui/background/BinaryRainBackground.tsx"><span class="hljs-comment inline">// Clear canvas</span>
ctx.clearRect(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">0</span>, <span class="hljs-keyword inline">canvas</span>.width, <span class="hljs-keyword inline">canvas</span>.height);

<span class="hljs-comment inline">// Draw background</span>
ctx.fillStyle = <span class="hljs-string inline">&#x27;rgba(10, 10, 10, 0.1)&#x27;</span>;
ctx.fillRect(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">0</span>, <span class="hljs-keyword inline">canvas</span>.width, <span class="hljs-keyword inline">canvas</span>.height);

<span class="hljs-comment inline">// Text styling</span>
ctx.fillStyle = <span class="hljs-keyword inline">color</span>;
ctx.font = <span class="hljs-string inline">&#x27;14px monospace&#x27;</span>;
ctx.textAlign = <span class="hljs-string inline">&#x27;left&#x27;</span>;
ctx.textBaseline = <span class="hljs-string inline">&#x27;top&#x27;</span>;

<span class="hljs-comment inline">// Draw characters</span>
particlesRef.current.forEach(p =&gt; {
    ctx.fillText(p.char, p.x, p.y);
});
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Batch setting of rendering states</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Inefficient approach before optimization:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E2%9D%8C%20Set%20styles%20for%20each%20character%0AparticlesRef.current.forEach(p%20%3D%3E%20%7B%0Actx.fillStyle%20%3D%20color%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Repeated%20setting%0Actx.font%20%3D%20'14px%20monospace'%3B%20%20%20%20%2F%2F%20Repeated%20setting%0Actx.fillText(p.char%2C%20p.x%2C%20p.y)%3B%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// ‚ùå Set styles for each character</span>
particlesRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">forEach</span>(<span class="hljs-function inline"><span class="hljs-params inline">p</span> =&gt;</span> {
    ctx.<span class="hljs-property inline">fillStyle</span> = color;          <span class="hljs-comment inline">// Repeated setting</span>
    ctx.<span class="hljs-property inline">font</span> = <span class="hljs-string inline">&#x27;14px monospace&#x27;</span>;    <span class="hljs-comment inline">// Repeated setting</span>
    ctx.<span class="hljs-title function_ inline">fillText</span>(p.<span class="hljs-property inline">char</span>, p.<span class="hljs-property inline">x</span>, p.<span class="hljs-property inline">y</span>);
});
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Efficient approach after optimization:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E2%9C%85%20Batch%20set%20styles%2C%20then%20batch%20draw%0Actx.fillStyle%20%3D%20color%3B%0Actx.font%20%3D%20'14px%20monospace'%3B%0AparticlesRef.current.forEach(p%20%3D%3E%20%7B%0Actx.fillText(p.char%2C%20p.x%2C%20p.y)%3B%20%20%2F%2F%20Focus%20only%20on%20drawing%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// ‚úÖ Batch set styles, then batch draw</span>
ctx.<span class="hljs-property inline">fillStyle</span> = color;
ctx.<span class="hljs-property inline">font</span> = <span class="hljs-string inline">&#x27;14px monospace&#x27;</span>;
particlesRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">forEach</span>(<span class="hljs-function inline"><span class="hljs-params inline">p</span> =&gt;</span> {
    ctx.<span class="hljs-title function_ inline">fillText</span>(p.<span class="hljs-property inline">char</span>, p.<span class="hljs-property inline">x</span>, p.<span class="hljs-property inline">y</span>);  <span class="hljs-comment inline">// Focus only on drawing</span>
});
</code></pre>
            </div>
        
<h2 id="complete-source-code-analysis" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#complete-source-code-analysis" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Complete Source Code Analysis">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Complete Source Code Analysis
        </h2>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="'use%20client'%3B%0Aimport%20%7BuseEffect%2C%20useRef%2C%20memo%2C%20useCallback%7D%20from%20'react'%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Type%20Definitions%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Ainterface%20BinaryRainBackgroundProps%20%7B%0AclassName%3F%3A%20string%3B%20%20%20%20%2F%2F%20Custom%20style%20class%20name%0Aopacity%3F%3A%20number%3B%20%20%20%20%20%20%2F%2F%20Overall%20opacity%20%5B0-1%5D%0Acolor%3F%3A%20string%3B%20%20%20%20%20%20%20%20%2F%2F%20Character%20color%20(RGBA%20format)%0A%7D%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Main%20Component%3A%20Binary%20Rain%20Background%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aexport%20const%20BinaryRainBackground%20%3D%20memo(function%20BinaryRainBackground(%7B%0AclassName%20%3D%20''%2C%0Aopacity%20%3D%200.6%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Default%2060%25%20opacity%0Acolor%20%3D%20'rgba(0%2C%20255%2C%20255%2C%201)'%20%20%2F%2F%20Default%20cyan%0A%7D%3A%20BinaryRainBackgroundProps)%20%7B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Refs%20Management%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20canvasRef%20%3D%20useRefHTMLCanvasElement%3E(null)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Canvas%20DOM%20reference%0Aconst%20animationIdRef%20%3D%20useRefnumber%20%7C%20null%3E(null)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20RAF%20animation%20ID%0Aconst%20particlesRef%20%3D%20useRefArrayx%3A%20number%3B%20y%3A%20number%3B%20char%3A%20string%20%7D%3E%3E(%5B%5D)%3B%20%20%2F%2F%20Character%20grid%20array%0Aconst%20mousePosRef%20%3D%20useRef(%7Bx%3A%200%2C%20y%3A%200%7D)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Mouse%20position%20cache%0Aconst%20intervalIdRef%20%3D%20useRefNodeJS.Timeout%20%7C%20null%3E(null)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Character%20update%20timer%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Canvas%20Size%20Management%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20resizeCanvas%20%3D%20useCallback(()%20%3D%3E%20%7B%0Aconst%20canvas%20%3D%20canvasRef.current%3B%0Aif%20(!canvas)%20return%3B%0A%2F%2F%20Get%20actual%20display%20size%20of%20Canvas%0Aconst%20rect%20%3D%20canvas.getBoundingClientRect()%3B%0Acanvas.width%20%3D%20rect.width%3B%20%20%20%2F%2F%20Set%20actual%20resolution%0Acanvas.height%20%3D%20rect.height%3B%20%2F%2F%20Avoid%20blur%20issues%0A%2F%2F%20Generate%20character%20grid%3A%20regular%20grid%20with%2020px%20spacing%0Aconst%20binaryChars%20%3D%20%5B'0'%2C%20'1'%5D%3B%0Aconst%20gridSize%20%3D%2020%3B%20%20%2F%2F%20Grid%20size%0AparticlesRef.current%20%3D%20%5B%5D%3B%0A%2F%2F%20Double%20loop%20to%20generate%20grid%20points%0Afor%20(let%20y%20%3D%200%3B%20y%20height%3B%20y%20%2B%3D%20gridSize)%20%7B%0Afor%20(let%20x%20%3D%200%3B%20x%20width%3B%20x%20%2B%3D%20gridSize)%20%7B%0AparticlesRef.current.push(%7B%0Ax%2C%0Ay%2C%0Achar%3A%20binaryChars%5BMath.floor(Math.random()%20*%202)%5D%20%20%2F%2F%20Random%200%20or%201%0A%7D)%3B%0A%7D%0A%7D%0A%7D%2C%20%5B%5D)%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Mouse%20Position%20Tracking%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20updateMousePos%20%3D%20useCallback((e%3A%20MouseEvent)%20%3D%3E%20%7B%0Aconst%20canvas%20%3D%20canvasRef.current%3B%0Aif%20(!canvas)%20return%3B%0A%2F%2F%20Coordinate%20system%20conversion%3A%20Screen%20coordinates%20%E2%86%92%20Canvas%20coordinates%0Aconst%20rect%20%3D%20canvas.getBoundingClientRect()%3B%0AmousePosRef.current.x%20%3D%20e.clientX%20-%20rect.left%3B%0AmousePosRef.current.y%20%3D%20e.clientY%20-%20rect.top%3B%0A%7D%2C%20%5B%5D)%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Core%20Animation%20Loop%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20animate%20%3D%20useCallback(()%20%3D%3E%20%7B%0Aconst%20canvas%20%3D%20canvasRef.current%3B%0Aif%20(!canvas)%20return%3B%0Aconst%20ctx%20%3D%20canvas.getContext('2d')%3B%0Aif%20(!ctx)%20return%3B%0A%2F%2F%20Register%20next%20frame%0AanimationIdRef.current%20%3D%20requestAnimationFrame(animate)%3B%0A%2F%2F%20Step%201%3A%20Clear%20canvas%20(prepare%20new%20frame)%0Actx.clearRect(0%2C%200%2C%20canvas.width%2C%20canvas.height)%3B%0A%2F%2F%20Step%202%3A%20Set%20text%20styles%20(batch%20setting%20improves%20performance)%0Actx.fillStyle%20%3D%20color%3B%0Actx.font%20%3D%20'14px%20monospace'%3B%20%20%20%20%2F%2F%20Monospace%20font%20ensures%20alignment%0Actx.textAlign%20%3D%20'left'%3B%0Actx.textBaseline%20%3D%20'top'%3B%0A%2F%2F%20Step%203%3A%20Draw%20all%20characters%0AparticlesRef.current.forEach(p%20%3D%3E%20%7B%0Actx.fillText(p.char%2C%20p.x%2C%20p.y)%3B%0A%7D)%3B%0A%2F%2F%20Step%204%3A%20Create%20radial%20mask%0Actx.globalCompositeOperation%20%3D%20'destination-in'%3B%20%20%2F%2F%20Mask%20blending%20mode%0A%2F%2F%20Create%20radial%20gradient%20centered%20on%20mouse%0Aconst%20gradient%20%3D%20ctx.createRadialGradient(%0AmousePosRef.current.x%2C%20mousePosRef.current.y%2C%200%2C%20%20%20%20%20%20%2F%2F%20Inner%20circle%3A%20mouse%20position%2C%20radius%200%0AmousePosRef.current.x%2C%20mousePosRef.current.y%2C%20200%20%20%20%20%20%2F%2F%20Outer%20circle%3A%20mouse%20position%2C%20radius%20200px%0A)%3B%0Agradient.addColorStop(0%2C%20'rgba(255%2C%20255%2C%20255%2C%201)')%3B%20%20%20%20%20%20%2F%2F%20Center%3A%20completely%20opaque%0Agradient.addColorStop(1%2C%20'rgba(255%2C%20255%2C%20255%2C%200)')%3B%20%20%20%20%20%20%2F%2F%20Edge%3A%20completely%20transparent%0A%2F%2F%20Apply%20gradient%20mask%0Actx.fillStyle%20%3D%20gradient%3B%0Actx.fillRect(0%2C%200%2C%20canvas.width%2C%20canvas.height)%3B%0A%2F%2F%20Step%206%3A%20Reset%20blending%20mode%0Actx.globalCompositeOperation%20%3D%20'source-over'%3B%0A%7D%2C%20%5Bcolor%5D)%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Character%20Content%20Update%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20updateCharacters%20%3D%20useCallback(()%20%3D%3E%20%7B%0A%2F%2F%20Iterate%20through%20all%20characters%2C%20randomly%20update%20content%0AparticlesRef.current.forEach(p%20%3D%3E%20%7B%0Ap.char%20%3D%20%5B'0'%2C%20'1'%5D%5BMath.floor(Math.random()%20*%202)%5D%3B%0A%7D)%3B%0A%7D%2C%20%5B%5D)%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Component%20Lifecycle%20Management%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0AuseEffect(()%20%3D%3E%20%7B%0Aconst%20canvas%20%3D%20canvasRef.current%3B%0Aif%20(!canvas)%20return%3B%0A%2F%2F%20Start%20character%20update%20timer%20(1%20second%20interval)%0AintervalIdRef.current%20%3D%20setInterval(updateCharacters%2C%201000)%3B%0A%2F%2F%20Register%20event%20listeners%0Awindow.addEventListener('resize'%2C%20resizeCanvas)%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Window%20size%20change%0Adocument.addEventListener('mousemove'%2C%20updateMousePos)%3B%20%20%20%2F%2F%20Mouse%20movement%0A%2F%2F%20Initial%20setup%0AresizeCanvas()%3B%20%20%2F%2F%20Calculate%20initial%20grid%0Aanimate()%3B%20%20%20%20%20%20%20%2F%2F%20Start%20animation%20loop%0A%2F%2F%20Cleanup%20function%3A%20executed%20when%20component%20unmounts%0Areturn%20()%20%3D%3E%20%7B%0A%2F%2F%20Cleanup%20animation%20loop%0Aif%20(animationIdRef.current)%20%7B%0AcancelAnimationFrame(animationIdRef.current)%3B%0A%7D%0A%2F%2F%20Cleanup%20timer%0Aif%20(intervalIdRef.current)%20%7B%0AclearInterval(intervalIdRef.current)%3B%0A%7D%0A%2F%2F%20Cleanup%20event%20listeners%0Awindow.removeEventListener('resize'%2C%20resizeCanvas)%3B%0Adocument.removeEventListener('mousemove'%2C%20updateMousePos)%3B%0A%7D%3B%0A%7D%2C%20%5Bcolor%2C%20resizeCanvas%2C%20updateMousePos%2C%20animate%2C%20updateCharacters%5D)%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Component%20Rendering%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Areturn%20(%0Acanvas%0Aref%3D%7BcanvasRef%7D%0AclassName%3D%7B%60absolute%20inset-0%20w-full%20h-full%20pointer-events-none%20%24%7BclassName%7D%60%7D%0Astyle%3D%7B%7B%0Aopacity%2C%20%20%20%20%20%20%2F%2F%20Apply%20opacity%0AzIndex%3A%200%20%20%20%20%20%2F%2F%20Ensure%20background%20layer%0A%7D%7D%0A%2F%3E%0A)%3B%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-string inline">&#x27;use client&#x27;</span>;

<span class="hljs-keyword inline">import</span> {useEffect, useRef, memo, useCallback} <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;react&#x27;</span>;

<span class="hljs-comment inline">// ==================== Type Definitions ====================</span>
<span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">BinaryRainBackgroundProps</span> {
    <span class="hljs-attr inline">className</span>?: <span class="hljs-built_in inline">string</span>;    <span class="hljs-comment inline">// Custom style class name</span>
    <span class="hljs-attr inline">opacity</span>?: <span class="hljs-built_in inline">number</span>;      <span class="hljs-comment inline">// Overall opacity [0-1]</span>
    <span class="hljs-attr inline">color</span>?: <span class="hljs-built_in inline">string</span>;        <span class="hljs-comment inline">// Character color (RGBA format)</span>
}

<span class="hljs-comment inline">// ==================== Main Component: Binary Rain Background ====================</span>
<span class="hljs-keyword inline">export</span> <span class="hljs-keyword inline">const</span> <span class="hljs-title class_ inline">BinaryRainBackground</span> = <span class="hljs-title function_ inline">memo</span>(<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">BinaryRainBackground</span>(<span class="hljs-params inline">{
                                         className = <span class="hljs-string inline">&#x27;&#x27;</span>,
                                         opacity = <span class="hljs-number inline">0.6</span>,              // Default <span class="hljs-number inline">60</span>% opacity
                                         color = <span class="hljs-string inline">&#x27;rgba(0, 255, 255, 1)&#x27;</span>  // Default cyan
                                     }: <span class="hljs-title class_ inline">BinaryRainBackgroundProps</span></span>) {
    
    <span class="hljs-comment inline">// ==================== Refs Management ====================</span>
    <span class="hljs-keyword inline">const</span> canvasRef = useRef&lt;<span class="hljs-title class_ inline">HTMLCanvasElement</span>&gt;(<span class="hljs-literal inline">null</span>);                              <span class="hljs-comment inline">// Canvas DOM reference</span>
    <span class="hljs-keyword inline">const</span> animationIdRef = useRef&lt;<span class="hljs-built_in inline">number</span> | <span class="hljs-literal inline">null</span>&gt;(<span class="hljs-literal inline">null</span>);                             <span class="hljs-comment inline">// RAF animation ID</span>
    <span class="hljs-keyword inline">const</span> particlesRef = useRef&lt;<span class="hljs-title class_ inline">Array</span>&lt;{ <span class="hljs-attr inline">x</span>: <span class="hljs-built_in inline">number</span>; <span class="hljs-attr inline">y</span>: <span class="hljs-built_in inline">number</span>; <span class="hljs-attr inline">char</span>: <span class="hljs-built_in inline">string</span> }&gt;&gt;([]);  <span class="hljs-comment inline">// Character grid array</span>
    <span class="hljs-keyword inline">const</span> mousePosRef = <span class="hljs-title function_ inline">useRef</span>({<span class="hljs-attr inline">x</span>: <span class="hljs-number inline">0</span>, <span class="hljs-attr inline">y</span>: <span class="hljs-number inline">0</span>});                                       <span class="hljs-comment inline">// Mouse position cache</span>
    <span class="hljs-keyword inline">const</span> intervalIdRef = useRef&lt;<span class="hljs-title class_ inline">NodeJS</span>.<span class="hljs-property inline">Timeout</span> | <span class="hljs-literal inline">null</span>&gt;(<span class="hljs-literal inline">null</span>);                      <span class="hljs-comment inline">// Character update timer</span>

    <span class="hljs-comment inline">// ==================== Canvas Size Management ====================</span>
    <span class="hljs-keyword inline">const</span> resizeCanvas = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">const</span> canvas = canvasRef.<span class="hljs-property inline">current</span>;
        <span class="hljs-keyword inline">if</span> (!canvas) <span class="hljs-keyword inline">return</span>;

        <span class="hljs-comment inline">// Get actual display size of Canvas</span>
        <span class="hljs-keyword inline">const</span> rect = canvas.<span class="hljs-title function_ inline">getBoundingClientRect</span>();
        canvas.<span class="hljs-property inline">width</span> = rect.<span class="hljs-property inline">width</span>;   <span class="hljs-comment inline">// Set actual resolution</span>
        canvas.<span class="hljs-property inline">height</span> = rect.<span class="hljs-property inline">height</span>; <span class="hljs-comment inline">// Avoid blur issues</span>

        <span class="hljs-comment inline">// Generate character grid: regular grid with 20px spacing</span>
        <span class="hljs-keyword inline">const</span> binaryChars = [<span class="hljs-string inline">&#x27;0&#x27;</span>, <span class="hljs-string inline">&#x27;1&#x27;</span>];
        <span class="hljs-keyword inline">const</span> gridSize = <span class="hljs-number inline">20</span>;  <span class="hljs-comment inline">// Grid size</span>
        particlesRef.<span class="hljs-property inline">current</span> = [];

        <span class="hljs-comment inline">// Double loop to generate grid points</span>
        <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> y = <span class="hljs-number inline">0</span>; y &lt; canvas.<span class="hljs-property inline">height</span>; y += gridSize) {
            <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> x = <span class="hljs-number inline">0</span>; x &lt; canvas.<span class="hljs-property inline">width</span>; x += gridSize) {
                particlesRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">push</span>({
                    x,
                    y,
                    <span class="hljs-attr inline">char</span>: binaryChars[<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>() * <span class="hljs-number inline">2</span>)]  <span class="hljs-comment inline">// Random 0 or 1</span>
                });
            }
        }
    }, []);

    <span class="hljs-comment inline">// ==================== Mouse Position Tracking ====================</span>
    <span class="hljs-keyword inline">const</span> updateMousePos = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">e</span>: <span class="hljs-title class_ inline">MouseEvent</span></span>) =&gt;</span> {
        <span class="hljs-keyword inline">const</span> canvas = canvasRef.<span class="hljs-property inline">current</span>;
        <span class="hljs-keyword inline">if</span> (!canvas) <span class="hljs-keyword inline">return</span>;
        
        <span class="hljs-comment inline">// Coordinate system conversion: Screen coordinates ‚Üí Canvas coordinates</span>
        <span class="hljs-keyword inline">const</span> rect = canvas.<span class="hljs-title function_ inline">getBoundingClientRect</span>();
        mousePosRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">x</span> = e.<span class="hljs-property inline">clientX</span> - rect.<span class="hljs-property inline">left</span>;
        mousePosRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">y</span> = e.<span class="hljs-property inline">clientY</span> - rect.<span class="hljs-property inline">top</span>;
    }, []);

    <span class="hljs-comment inline">// ==================== Core Animation Loop ====================</span>
    <span class="hljs-keyword inline">const</span> animate = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">const</span> canvas = canvasRef.<span class="hljs-property inline">current</span>;
        <span class="hljs-keyword inline">if</span> (!canvas) <span class="hljs-keyword inline">return</span>;
        
        <span class="hljs-keyword inline">const</span> ctx = canvas.<span class="hljs-title function_ inline">getContext</span>(<span class="hljs-string inline">&#x27;2d&#x27;</span>);
        <span class="hljs-keyword inline">if</span> (!ctx) <span class="hljs-keyword inline">return</span>;

        <span class="hljs-comment inline">// Register next frame</span>
        animationIdRef.<span class="hljs-property inline">current</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(animate);

        <span class="hljs-comment inline">// Step 1: Clear canvas (prepare new frame)</span>
        ctx.<span class="hljs-title function_ inline">clearRect</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">0</span>, canvas.<span class="hljs-property inline">width</span>, canvas.<span class="hljs-property inline">height</span>);

        <span class="hljs-comment inline">// Step 2: Set text styles (batch setting improves performance)</span>
        ctx.<span class="hljs-property inline">fillStyle</span> = color;
        ctx.<span class="hljs-property inline">font</span> = <span class="hljs-string inline">&#x27;14px monospace&#x27;</span>;    <span class="hljs-comment inline">// Monospace font ensures alignment</span>
        ctx.<span class="hljs-property inline">textAlign</span> = <span class="hljs-string inline">&#x27;left&#x27;</span>;
        ctx.<span class="hljs-property inline">textBaseline</span> = <span class="hljs-string inline">&#x27;top&#x27;</span>;

        <span class="hljs-comment inline">// Step 3: Draw all characters</span>
        particlesRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">forEach</span>(<span class="hljs-function inline"><span class="hljs-params inline">p</span> =&gt;</span> {
            ctx.<span class="hljs-title function_ inline">fillText</span>(p.<span class="hljs-property inline">char</span>, p.<span class="hljs-property inline">x</span>, p.<span class="hljs-property inline">y</span>);
        });

        <span class="hljs-comment inline">// Step 4: Create radial mask</span>
        ctx.<span class="hljs-property inline">globalCompositeOperation</span> = <span class="hljs-string inline">&#x27;destination-in&#x27;</span>;  <span class="hljs-comment inline">// Mask blending mode</span>
        
        <span class="hljs-comment inline">// Create radial gradient centered on mouse</span>
        <span class="hljs-keyword inline">const</span> gradient = ctx.<span class="hljs-title function_ inline">createRadialGradient</span>(
            mousePosRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">x</span>, mousePosRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">y</span>, <span class="hljs-number inline">0</span>,      <span class="hljs-comment inline">// Inner circle: mouse position, radius 0</span>
            mousePosRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">x</span>, mousePosRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">y</span>, <span class="hljs-number inline">200</span>     <span class="hljs-comment inline">// Outer circle: mouse position, radius 200px</span>
        );
        gradient.<span class="hljs-title function_ inline">addColorStop</span>(<span class="hljs-number inline">0</span>, <span class="hljs-string inline">&#x27;rgba(255, 255, 255, 1)&#x27;</span>);      <span class="hljs-comment inline">// Center: completely opaque</span>
        gradient.<span class="hljs-title function_ inline">addColorStop</span>(<span class="hljs-number inline">1</span>, <span class="hljs-string inline">&#x27;rgba(255, 255, 255, 0)&#x27;</span>);      <span class="hljs-comment inline">// Edge: completely transparent</span>
        
        <span class="hljs-comment inline">// Apply gradient mask</span>
        ctx.<span class="hljs-property inline">fillStyle</span> = gradient;
        ctx.<span class="hljs-title function_ inline">fillRect</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">0</span>, canvas.<span class="hljs-property inline">width</span>, canvas.<span class="hljs-property inline">height</span>);

        <span class="hljs-comment inline">// Step 6: Reset blending mode</span>
        ctx.<span class="hljs-property inline">globalCompositeOperation</span> = <span class="hljs-string inline">&#x27;source-over&#x27;</span>;
    }, [color]);

    <span class="hljs-comment inline">// ==================== Character Content Update ====================</span>
    <span class="hljs-keyword inline">const</span> updateCharacters = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-comment inline">// Iterate through all characters, randomly update content</span>
        particlesRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">forEach</span>(<span class="hljs-function inline"><span class="hljs-params inline">p</span> =&gt;</span> {
            p.<span class="hljs-property inline">char</span> = [<span class="hljs-string inline">&#x27;0&#x27;</span>, <span class="hljs-string inline">&#x27;1&#x27;</span>][<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>() * <span class="hljs-number inline">2</span>)];
        });
    }, []);

    <span class="hljs-comment inline">// ==================== Component Lifecycle Management ====================</span>
    <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">const</span> canvas = canvasRef.<span class="hljs-property inline">current</span>;
        <span class="hljs-keyword inline">if</span> (!canvas) <span class="hljs-keyword inline">return</span>;

        <span class="hljs-comment inline">// Start character update timer (1 second interval)</span>
        intervalIdRef.<span class="hljs-property inline">current</span> = <span class="hljs-built_in inline">setInterval</span>(updateCharacters, <span class="hljs-number inline">1000</span>);

        <span class="hljs-comment inline">// Register event listeners</span>
        <span class="hljs-variable language_ inline">window</span>.<span class="hljs-title function_ inline">addEventListener</span>(<span class="hljs-string inline">&#x27;resize&#x27;</span>, resizeCanvas);          <span class="hljs-comment inline">// Window size change</span>
        <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">addEventListener</span>(<span class="hljs-string inline">&#x27;mousemove&#x27;</span>, updateMousePos);   <span class="hljs-comment inline">// Mouse movement</span>

        <span class="hljs-comment inline">// Initial setup</span>
        <span class="hljs-title function_ inline">resizeCanvas</span>();  <span class="hljs-comment inline">// Calculate initial grid</span>
        <span class="hljs-title function_ inline">animate</span>();       <span class="hljs-comment inline">// Start animation loop</span>

        <span class="hljs-comment inline">// Cleanup function: executed when component unmounts</span>
        <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
            <span class="hljs-comment inline">// Cleanup animation loop</span>
            <span class="hljs-keyword inline">if</span> (animationIdRef.<span class="hljs-property inline">current</span>) {
                <span class="hljs-title function_ inline">cancelAnimationFrame</span>(animationIdRef.<span class="hljs-property inline">current</span>);
            }
            <span class="hljs-comment inline">// Cleanup timer</span>
            <span class="hljs-keyword inline">if</span> (intervalIdRef.<span class="hljs-property inline">current</span>) {
                <span class="hljs-built_in inline">clearInterval</span>(intervalIdRef.<span class="hljs-property inline">current</span>);
            }
            <span class="hljs-comment inline">// Cleanup event listeners</span>
            <span class="hljs-variable language_ inline">window</span>.<span class="hljs-title function_ inline">removeEventListener</span>(<span class="hljs-string inline">&#x27;resize&#x27;</span>, resizeCanvas);
            <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">removeEventListener</span>(<span class="hljs-string inline">&#x27;mousemove&#x27;</span>, updateMousePos);
        };
    }, [color, resizeCanvas, updateMousePos, animate, updateCharacters]);

    <span class="hljs-comment inline">// ==================== Component Rendering ====================</span>
    <span class="hljs-keyword inline">return</span> (
        <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">canvas</span>
            <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{canvasRef}</span>
            <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">{</span>`<span class="hljs-attr inline">absolute</span> <span class="hljs-attr inline">inset-0</span> <span class="hljs-attr inline">w-full</span> <span class="hljs-attr inline">h-full</span> <span class="hljs-attr inline">pointer-events-none</span> ${<span class="hljs-attr inline">className</span>}`}
            <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{</span>
                <span class="hljs-attr inline">opacity</span>,      // <span class="hljs-attr inline">Apply</span> <span class="hljs-attr inline">opacity</span>
                <span class="hljs-attr inline">zIndex:</span> <span class="hljs-attr inline">0</span>     // <span class="hljs-attr inline">Ensure</span> <span class="hljs-attr inline">background</span> <span class="hljs-attr inline">layer</span>
            }}
        /&gt;</span></span>
    );
}); 
</code></pre>
            </div>
        
<h3 id="core-algorithm-flowchart" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#core-algorithm-flowchart" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Core Algorithm Flowchart">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Core Algorithm Flowchart
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="Initialize%20%E2%86%92%20Grid%20Generation%20%E2%86%92%20Animation%20Loop%20%E2%86%92%20Character%20Update%20%E2%86%92%20Cleanup%20Resources%0A%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%0ACanvas%20%20%20%20%20%20%2020px%20Grid%20%20%20%20%20%20RAF%20Loop%20%20%20%20%20%20%20%201s%20Timer%20%20%20%20%20%20useEffect%20Cleanup%0ASize%20Adapt%20%20%20Character%20Dist%20%20%20Render%20Opt%20%20%20%20Random%20Update%20%20%20Memory%20Release%0A%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%0AResponsive%20%20%20%20Binary%20Chars%20%20%20%20Mouse%20Track%20%20%20%20Visual%20Refresh%20%20Complete%20Lifecycle%0ADesign%20%20%20%20%20%20Random%20Dist%20%20%20%20%20Radial%20Mask%20%20%20%20Keep%20Vitality%20%20%20%20%20Management">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code><span class="hljs-built_in inline">Initialize</span> ‚Üí <span class="hljs-built_in inline">Grid</span> <span class="hljs-variable inline">Generation</span> ‚Üí <span class="hljs-variable inline">Animation</span> <span class="hljs-variable inline">Loop</span> ‚Üí <span class="hljs-built_in inline">Character</span> <span class="hljs-built_in inline">Update</span> ‚Üí <span class="hljs-variable inline">Cleanup</span> <span class="hljs-variable inline">Resources</span>
     ‚Üì            ‚Üì               ‚Üì               ‚Üì               ‚Üì
   <span class="hljs-built_in inline">Canvas</span>       <span class="hljs-number inline">20</span><span class="hljs-variable inline">px</span> <span class="hljs-built_in inline">Grid</span>      <span class="hljs-variable inline">RAF</span> <span class="hljs-variable inline">Loop</span>        <span class="hljs-number inline">1</span><span class="hljs-variable inline">s</span> <span class="hljs-variable inline">Timer</span>      <span class="hljs-variable inline">useEffect</span> <span class="hljs-variable inline">Cleanup</span>
 <span class="hljs-variable inline">Size</span> <span class="hljs-variable inline">Adapt</span>   <span class="hljs-built_in inline">Character</span> <span class="hljs-variable inline">Dist</span>   <span class="hljs-variable inline">Render</span> <span class="hljs-variable inline">Opt</span>    <span class="hljs-built_in inline">Random</span> <span class="hljs-built_in inline">Update</span>   <span class="hljs-variable inline">Memory</span> <span class="hljs-built_in inline">Release</span>
     ‚Üì            ‚Üì               ‚Üì               ‚Üì               ‚Üì
  <span class="hljs-variable inline">Responsive</span>    <span class="hljs-variable inline">Binary</span> <span class="hljs-variable inline">Chars</span>    <span class="hljs-variable inline">Mouse</span> <span class="hljs-variable inline">Track</span>    <span class="hljs-variable inline">Visual</span> <span class="hljs-built_in inline">Refresh</span>  <span class="hljs-variable inline">Complete</span> <span class="hljs-variable inline">Lifecycle</span>
   <span class="hljs-variable inline">Design</span>      <span class="hljs-built_in inline">Random</span> <span class="hljs-variable inline">Dist</span>     <span class="hljs-variable inline">Radial</span> <span class="hljs-variable inline">Mask</span>    <span class="hljs-variable inline">Keep</span> <span class="hljs-variable inline">Vitality</span>     <span class="hljs-variable inline">Management</span>
</code></pre>
            </div>
        
<h3 id="key-technical-points-summary" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#key-technical-points-summary" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Key Technical Points Summary">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Key Technical Points Summary
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">1. Mathematical Implementation of Radial Masking</strong></p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Real-time mouse position tracking, precise coordinate conversion</li>
<li class="text-foreground leading-relaxed">Radial gradient creates spotlight effect</li>
<li class="text-foreground leading-relaxed">destination-in blending mode implements masking</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">2. Dual Timeline Design</strong></p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">requestAnimationFrame: 60fps visual rendering</li>
<li class="text-foreground leading-relaxed">setInterval: 1s character content update</li>
<li class="text-foreground leading-relaxed">Separation of concerns, each with its own responsibility</li>
</ul>
<h2 id="final-words" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#final-words" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Final Words">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Final Words
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">I seriously thought for a while and realized I don‚Äôt really have much to write‚Ä¶</p>
<p class="text-base leading-7 mb-4 text-foreground">Never mind, it‚Äôs time for my favorite wishing session again! Mua!</p>
<p class="text-base leading-7 mb-4 text-foreground"><em class="italic text-foreground">May your code be like the digital rain in The Matrix, weaving the most beautiful digital poetry in users‚Äô sight.</em> ‚ú®</p>
d:["$","$L1d",null,{"htmlContent":"$1e","frontMatter":{"title":"Binary Rain Curtain: A Glimpse into the Machine Computing World","description":"In-depth analysis of the complete implementation principles of Canvas character grid, radial masking, and mouse tracking","date":"2025-06-22","author":"MilkWind","tags":["Canvas","Interaction Design"],"references":{}},"readingTime":"12 min read","category":"personal-website","tocItems":[{"id":"binary-rain-curtain-a-glimpse-into-the-machine-computing-world","text":"Binary Rain Curtain: A Glimpse into the Machine Computing World","level":1},{"id":"canvas-initialization-building-the-digital-stage","text":"Canvas Initialization: Building the Digital Stage","level":2},{"id":"precise-adaptation-of-responsive-canvas","text":"Precise Adaptation of Responsive Canvas","level":3},{"id":"grid-generation-20-pixel-mathematical-art","text":"Grid Generation: 20-Pixel Mathematical Art","level":3},{"id":"minimalist-design-of-character-objects","text":"Minimalist Design of Character Objects","level":3},{"id":"continuous-injection-of-randomness","text":"Continuous Injection of Randomness","level":3},{"id":"animation-rendering-visual-feast-of-light-and-shadow","text":"Animation Rendering: Visual Feast of Light and Shadow","level":2},{"id":"mouse-tracking-and-radial-masking","text":"Mouse Tracking and Radial Masking","level":2},{"id":"coordinate-transformation","text":"Coordinate Transformation","level":3},{"id":"radial-gradient","text":"Radial Gradient","level":3},{"id":"destination-in-blending-mode","text":"destination-in Blending Mode","level":3},{"id":"character-updates-double-barrel-approach","text":"Character Updates: Double-Barrel Approach","level":2},{"id":"division-of-labor-between-timer-and-animation-frames","text":"Division of Labor between Timer and Animation Frames","level":3},{"id":"memory-friendly-character-updates","text":"Memory-Friendly Character Updates","level":3},{"id":"performance-optimization","text":"Performance Optimization","level":2},{"id":"usecallback-caching","text":"useCallback Caching","level":3},{"id":"event-listener-lifecycle-management","text":"Event Listener Lifecycle Management","level":3},{"id":"gpu-acceleration-tricks-for-canvas-rendering","text":"GPU Acceleration Tricks for Canvas Rendering","level":3},{"id":"complete-source-code-analysis","text":"Complete Source Code Analysis","level":2},{"id":"core-algorithm-flowchart","text":"Core Algorithm Flowchart","level":3},{"id":"key-technical-points-summary","text":"Key Technical Points Summary","level":3},{"id":"final-words","text":"Final Words","level":2}],"translations":{"common":{"welcome":"Welcome","loading":"Loading...","error":"Something went wrong","retry":"Try again","theme":"Theme","language":"Language","light":"Light","dark":"Dark"},"navigation":{"home":"Home","personal":"Personal","works":"Works","contributions":"Contributions","documents":"Documents","about":"About","contact":"Contact"},"personal":{"technicalSkills":"Technical Skills","email":"Email","github":"GitHub","resume":"Resume","codeRepository":"Code Repository","loadingPersonalInfo":"Loading personal information...","loadingResume":"Loading resume...","closeResume":"Close Resume","emailCopied":"Email copied to clipboard!","galaxyDefaultDescription":"Expert in full-stack development, cross-platform architecture, AI technology integration, and high-performance system optimization","skillGalaxy":"Skill Galaxy","stirGalaxy":"Stir Galaxy","stirring":"Stirring...","fullStackEngineer":"MilkWind - Full Stack Engineer","professionalProfile":"About Me"},"documents":{"technicalDocuments":"Technical Documents","description":"Basic principles, code splitting, and some random thoughts.","articles":"Articles","categories":"Categories","allCategories":"All Categories","noArticlesFound":"No articles found","noArticlesAvailable":"No articles available in English.","noArticlesInCategory":"No articles found in the category.","readMore":"Read more","loadingDocuments":"Loading documents...","backToDocuments":"‚Üê Back to Documents","documentNotFound":"Document Not Found","documentNotFoundDescription":"The requested document could not be found.","technicalInsights":"Insights","untitledDocument":"Untitled Document","byAuthor":"By","search":"Search articles...","searchByTags":"Filter by tags","searching":"Searching...","noSearchResults":"No articles match your search criteria","clearSearch":"Clear search","selectedTags":"Selected tags","allTags":"All tags","searchInTitle":"Search in titles, descriptions, and content","enterImmersiveMode":"Immersive Reading","exitImmersiveMode":"Exit Immersive Mode","immersiveReading":"Immersive Reading Mode","exploreContent":"Explore content by category","browseBy":"Browse by","exploreAll":"All content in one place","categoryDescription":"Articles in this category","totalArticles":"Articles","totalCategories":"Categories","foundArticles":"Found articles","categoriesWithResults":"Categories with results"},"works":{"workCases":"Work Cases","projects":"Portfolio","loadingProjects":"Loading projects...","grid":"Grid","stack":"Stack","of":"of","workCasesPageTitle":"Work Cases Page","pageWorkingCorrectly":"This page is working! The routing is correct.","try3DVersion":"Try 3D Version","dragToScroll":"Drag to scroll","dragToChange":"Drag to change","swipeCards":"Swipe cards","keyboardNav":"Keyboard navigation"},"contributions":{"contributionCases":"Open Source","contributions":"Contributions","loadingContributions":"Loading contributions...","grid":"Grid","stack":"Stack","of":"of","contributionCasesPageTitle":"Contribution Cases Page","pageWorkingCorrectly":"This page is working! The routing is correct.","try3DVersion":"Try 3D Version","dragToScroll":"Drag to scroll","dragToChange":"Drag to change","swipeCards":"Swipe cards","keyboardNav":"Keyboard navigation"},"contribution":{"contributionPreview":"Contribution Preview","accessible":"Accessible","code":"Code","maintenance":"Maintenance","enhancement":"Enhancement","documentation":"Documentation","community":"Community","moreItems":"more","technicalDetails":"Technical Details","technologies":"Technologies:","contributionDetail":"Contribution Detail","description":"Description:","seeDetails":"See Details","github":"GitHub","viewContribution":"View Contribution","viewCode":"View Code"},"project":{"projectPreview":"Project Preview","accessible":"Accessible","tool":"Tool","plugin":"Plugin","toy":"Toy","moreItems":"more","technicalDetails":"Technical Details","technologies":"Technologies:","description":"Description:","seeDetails":"See Details","github":"GitHub","gitee":"Gitee","viewLiveDemo":"View Live Demo","viewCode":"View Code","access":"Access","videos":"Videos","watchVideo":"Watch Video","hasVideo":"Has Video"},"codeblock":{"copy":"Copy","copySuccess":"Code copied to clipboard!","copyError":"Failed to copy code","copyTooltip":"Copy code"},"toc":{"contents":"Contents","autoScroll":"Auto-scroll to section","collapse":"Collapse","expand":"Expand"},"loading":{"loading":"LOADING","preparingExperience":"Preparing experience"}},"lang":"en","theme":"dark"}]
12:null
18:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
11:null
1c:{"metadata":[["$","title","0",{"children":"Binary Rain Curtain: A Glimpse into the Machine Computing World | Interactive Portfolio"}],["$","meta","1",{"name":"description","content":"In-depth analysis of the complete implementation principles of Canvas character grid, radial masking, and mouse tracking"}],["$","meta","2",{"name":"author","content":"Developer"}],["$","meta","3",{"name":"keywords","content":"portfolio,3D,interactive,web development,Three.js,Next.js"}],["$","meta","4",{"property":"og:title","content":"Binary Rain Curtain: A Glimpse into the Machine Computing World | Interactive Portfolio"}],["$","meta","5",{"property":"og:description","content":"In-depth analysis of the complete implementation principles of Canvas character grid, radial masking, and mouse tracking"}],["$","meta","6",{"property":"og:type","content":"article"}],["$","meta","7",{"property":"article:published_time","content":"2025-06-22"}],["$","meta","8",{"property":"article:tag","content":"Canvas"}],["$","meta","9",{"property":"article:tag","content":"Interaction Design"}],["$","meta","10",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","11",{"name":"twitter:title","content":"Binary Rain Curtain: A Glimpse into the Machine Computing World | Interactive Portfolio"}],["$","meta","12",{"name":"twitter:description","content":"In-depth analysis of the complete implementation principles of Canvas character grid, radial masking, and mouse tracking"}],["$","link","13",{"rel":"icon","href":"/MilkWind-Website/favicon.ico","type":"image/x-icon","sizes":"32x32"}]],"error":null,"digest":"$undefined"}
14:{"metadata":"$1c:metadata","error":null,"digest":"$undefined"}
