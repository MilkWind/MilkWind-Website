1:"$Sreact.fragment"
2:I[38735,["46","static/chunks/46-72724587da45cdb8.js","7177","static/chunks/app/layout-af4a6e723c0ff668.js"],"default"]
3:I[19945,["46","static/chunks/46-72724587da45cdb8.js","7177","static/chunks/app/layout-af4a6e723c0ff668.js"],"default"]
4:I[65337,["46","static/chunks/46-72724587da45cdb8.js","7177","static/chunks/app/layout-af4a6e723c0ff668.js"],"default"]
5:I[96190,["46","static/chunks/46-72724587da45cdb8.js","7177","static/chunks/app/layout-af4a6e723c0ff668.js"],"ClientProviders"]
6:I[87555,[],""]
7:I[51901,["8039","static/chunks/app/error-dda32be1d095a86c.js"],"default"]
8:I[31295,[],""]
9:I[6874,["6874","static/chunks/6874-fbe9a08eb79b991c.js","4345","static/chunks/app/not-found-9ff98b2ccf24cac7.js"],""]
a:I[94970,[],"ClientSegmentRoot"]
b:I[44065,["206","static/chunks/206-4f4cbf4d7156f437.js","3092","static/chunks/app/documents/layout-28408791defde09e.js"],"default"]
e:I[59665,[],"MetadataBoundary"]
10:I[59665,[],"OutletBoundary"]
13:I[74911,[],"AsyncMetadataOutlet"]
15:I[39460,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","5650","static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js"],"default"]
16:I[88610,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","4209","static/chunks/app/loading-68f227fb49b3ac8c.js"],"default"]
17:I[59665,[],"ViewportBoundary"]
19:I[26614,[],""]
:HL["/_next/static/css/f034c804622acb16.css","style"]
:HL["/_next/static/css/b226d7ef8e491b72.css","style"]
:HL["/_next/static/css/5eacd01f773eed7f.css","style"]
0:{"P":null,"b":"8iYUZMse8Ho5_L3OUpHmO","p":"","c":["","documents","en","light","personal-website","particle-text",""],"i":false,"f":[[["",{"children":["documents",{"children":[["slug","en/light/personal-website/particle-text","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f034c804622acb16.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/b226d7ef8e491b72.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_d4c88d __variable_7b4e2b __variable_c3272d font-sans antialiased min-h-screen bg-background text-foreground","suppressHydrationWarning":true,"children":[["$","$L2",null,{}],["$","$L3",null,{}],["$","$L4",null,{}],["$","$L5",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$7","errorStyles":[],"errorScripts":[],"template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"z-10 relative min-h-screen flex items-center justify-center bg-background p-8","children":["$","div",null,{"className":"text-center max-w-md","children":[["$","div",null,{"className":"text-8xl font-bold text-primary mb-4","children":"404"}],["$","h2",null,{"className":"text-2xl font-bold text-foreground mb-4","children":"Page Not Found"}],["$","p",null,{"className":"text-foreground/70 mb-8","children":"The page you're looking for doesn't exist or has been moved to a different location."}],["$","div",null,{"className":"flex flex-col sm:flex-row gap-4 justify-center","children":[["$","$L9",null,{"href":"/","className":"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors","children":"Go Home"}],["$","$L9",null,{"href":"/works","className":"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors","children":"View Works"}]]}],["$","div",null,{"className":"absolute inset-0 overflow-hidden pointer-events-none -z-10","children":[["$","div",null,{"className":"absolute top-1/4 left-1/4 w-2 h-2 bg-primary/20 rounded-full animate-float"}],["$","div",null,{"className":"absolute top-3/4 right-1/4 w-3 h-3 bg-accent/20 rounded-full animate-float","style":{"animationDelay":"1s"}}],["$","div",null,{"className":"absolute bottom-1/4 left-1/3 w-1 h-1 bg-secondary/20 rounded-full animate-float","style":{"animationDelay":"2s"}}]]}]]}]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]}]]}],{"children":["documents",["$","$1","c",{"children":[null,["$","$La",null,{"Component":"$b","slots":{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@c"}]]}],{"children":[["slug","en/light/personal-website/particle-text","c"],["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Ld",["$","$Le",null,{"children":"$Lf"}],[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/5eacd01f773eed7f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L10",null,{"children":["$L11","$L12",["$","$L13",null,{"promise":"$@14"}]]}]]}],{},null,false]},null,false]},[["$","$L15","l",{}],[],[]],false]},[["$","$L16","l",{}],[],[]],false],["$","$1","h",{"children":[null,["$","$1","53LrquDN0GHrdxNSF4sCn",{"children":[["$","$L17",null,{"children":"$L18"}],null]}],null]}],false]],"m":"$undefined","G":["$19","$undefined"],"s":false,"S":true}
1a:"$Sreact.suspense"
1b:I[74911,[],"AsyncMetadata"]
c:{}
f:["$","$1a",null,{"fallback":null,"children":["$","$L1b",null,{"promise":"$@1c"}]}]
1d:I[57340,["5584","static/chunks/b498d07c-095637f0f10883c6.js","2415","static/chunks/2415-689c103fb3d2c28d.js","6874","static/chunks/6874-fbe9a08eb79b991c.js","9554","static/chunks/9554-b714f9de28e85d30.js","1873","static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js"],"DocumentPageClient"]
1e:T42ead,<h1 id="particle-text-digital-alchemy-from-pixels-to-particles" class="group relative text-4xl font-bold mt-8 mb-4 text-foreground leading-tight">
            <a href="#particle-text-digital-alchemy-from-pixels-to-particles" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Particle Text: Digital Alchemy from Pixels to Particles">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Particle Text: Digital Alchemy from Pixels to Particles
        </h1>
<p class="text-base leading-7 mb-4 text-foreground">HyperGryph‚Äôs official website particle effects (This is particle impact! This is particle text! However, this is‚Ä¶ particle headache! Ahahahahahaha!!!)</p>
<p class="text-base leading-7 mb-4 text-foreground">This particle text system can transform static text into thousands of active particles that fly from all corners of the screen to their target positions, forming the shape of text while responding physically to mouse proximity‚Äîlike the feeling of reaching your hand into a pile of rice grains. In this article, I‚Äôll start from the most basic type definitions and gradually dive deep into every implementation detail, comprehensively dissecting this digital alchemy that transforms pixels into particles.</p>
<p class="text-base leading-7 mb-4 text-foreground"><em class="italic text-foreground">Warning: Contains advanced mathematics and may cause temporary dizziness in developers allergic to physics equations! ü§Ø</em></p>
<h2 id="component-structure-and-type-definitions" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#component-structure-and-type-definitions" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Component Structure and Type Definitions">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Component Structure and Type Definitions
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">In fact, each particle is an individual object with its own personality and destiny.</p>
<h3 id="particle-entity-design" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#particle-entity-design" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Particle Entity Design">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Particle Entity Design
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="interface%20ParticleData%20%7B%0Ax%3A%20number%3B%0Ay%3A%20number%3B%0Acolor%3A%20number%5B%5D%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">ParticleData</span> {
    <span class="hljs-attr inline">x</span>: <span class="hljs-built_in inline">number</span>;
    <span class="hljs-attr inline">y</span>: <span class="hljs-built_in inline">number</span>;
    <span class="hljs-attr inline">color</span>: <span class="hljs-built_in inline">number</span>[];
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Field explanations:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">x &amp; y</strong>: The target position coordinates of the particle. Note that this stores the final position, not the current position. This design lets particles know their exact destination on the canvas‚Äîlike giving each particle a GPS coordinate!</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">color</strong>: RGB values in array format can be directly used for <code>rgba()</code> function construction, enjoying JavaScript‚Äôs syntax support for array element operations in code writing. It‚Äôs like giving each particle its own personal color palette! üé®</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">This type definition describes the basic properties of a particle without involving motion state or rendering details.</p>
<h3 id="component-props" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#component-props" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Component Props">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Component Props
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="interface%20ParticleWordProps%20%7B%0Atext%3F%3A%20string%3B%0AclassName%3F%3A%20string%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">ParticleWordProps</span> {
    <span class="hljs-attr inline">text</span>?: <span class="hljs-built_in inline">string</span>;
    <span class="hljs-attr inline">className</span>?: <span class="hljs-built_in inline">string</span>;
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Field explanations:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">text?: string</strong>: Optional text content. When not provided, it uses a default value to avoid null pointer exceptions.</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">className?: string</strong>: Style extension interface, following React component‚Äôs standard design pattern.</li>
</ul>
<h3 id="particle-class-design" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#particle-class-design" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Particle Class Design">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Particle Class Design
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="class%20Particle%20%7B%0Ax%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Current%20X%20position%0Ay%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Current%20Y%20position%0AtotalX%3A%20number%3B%20%20%20%20%20%20%2F%2F%20Target%20X%20position%0AtotalY%3A%20number%3B%20%20%20%20%20%20%2F%2F%20Target%20Y%20position%0Amx%3A%20number%20%3D%200%3B%20%20%20%20%20%20%2F%2F%20X-axis%20movement%20distance%0Amy%3A%20number%20%3D%200%3B%20%20%20%20%20%20%2F%2F%20Y-axis%20movement%20distance%0Avx%3A%20number%20%3D%200%3B%20%20%20%20%20%20%2F%2F%20X-axis%20velocity%0Avy%3A%20number%20%3D%200%3B%20%20%20%20%20%20%2F%2F%20Y-axis%20velocity%0Atime%3A%20number%3B%20%20%20%20%20%20%20%20%2F%2F%20Animation%20time%0Ar%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Particle%20radius%0Acolor%3A%20number%5B%5D%3B%20%20%20%20%20%2F%2F%20Particle%20color%0Aopacity%3A%20number%3B%20%20%20%20%20%2F%2F%20Opacity%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">class</span> <span class="hljs-title class_ inline">Particle</span> {
    <span class="hljs-attr inline">x</span>: <span class="hljs-built_in inline">number</span>;           <span class="hljs-comment inline">// Current X position</span>
    <span class="hljs-attr inline">y</span>: <span class="hljs-built_in inline">number</span>;           <span class="hljs-comment inline">// Current Y position</span>
    <span class="hljs-attr inline">totalX</span>: <span class="hljs-built_in inline">number</span>;      <span class="hljs-comment inline">// Target X position</span>
    <span class="hljs-attr inline">totalY</span>: <span class="hljs-built_in inline">number</span>;      <span class="hljs-comment inline">// Target Y position</span>
    <span class="hljs-attr inline">mx</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;      <span class="hljs-comment inline">// X-axis movement distance</span>
    <span class="hljs-attr inline">my</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;      <span class="hljs-comment inline">// Y-axis movement distance</span>
    <span class="hljs-attr inline">vx</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;      <span class="hljs-comment inline">// X-axis velocity</span>
    <span class="hljs-attr inline">vy</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;      <span class="hljs-comment inline">// Y-axis velocity</span>
    <span class="hljs-attr inline">time</span>: <span class="hljs-built_in inline">number</span>;        <span class="hljs-comment inline">// Animation time</span>
    <span class="hljs-attr inline">r</span>: <span class="hljs-built_in inline">number</span>;           <span class="hljs-comment inline">// Particle radius</span>
    <span class="hljs-attr inline">color</span>: <span class="hljs-built_in inline">number</span>[];     <span class="hljs-comment inline">// Particle color</span>
    <span class="hljs-attr inline">opacity</span>: <span class="hljs-built_in inline">number</span>;     <span class="hljs-comment inline">// Opacity</span>
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Property grouping analysis:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Position-related</strong>: <code>x, y</code> (current position) vs <code>totalX, totalY</code> (target position) separation design lets particles ‚Äúknow‚Äù where they need to go‚Äîlike having both a current location and a dream destination!</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Motion-related</strong>: <code>mx, my</code> are movement distances, <code>vx, vy</code> are calculated velocities, a simple but effective kinematic model that would make Newton proud üçé</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Visual-related</strong>: <code>time</code> controls animation rhythm, <code>r</code> controls size, <code>color</code> and <code>opacity</code> control appearance‚Äîthe full makeup kit for our digital particles!</li>
</ul>
<h2 id="configuration-constants-analysis" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#configuration-constants-analysis" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Configuration Constants Analysis">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Configuration Constants Analysis
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">Defining the basic properties of the canvas.</p>
<h3 id="canvas-dimensions" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#canvas-dimensions" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Canvas Dimensions">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Canvas Dimensions
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20CANVAS_WIDTH%20%3D%20600%3B%0Aconst%20CANVAS_HEIGHT%20%3D%20200%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span> = <span class="hljs-number inline">600</span>;
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span> = <span class="hljs-number inline">200</span>;
</code></pre>
            </div>
        
<h3 id="animation-parameters" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#animation-parameters" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Animation Parameters">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Animation Parameters
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20ANIMATE_TIME%20%3D%2030%3B%0Aconst%20OPACITY_STEP%20%3D%201%20%2F%20ANIMATE_TIME%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">ANIMATE_TIME</span> = <span class="hljs-number inline">30</span>;
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">OPACITY_STEP</span> = <span class="hljs-number inline">1</span> / <span class="hljs-variable constant_ inline">ANIMATE_TIME</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">ANIMATE_TIME = 30</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Note, this 30 is not 30 milliseconds, but 30 frames! In a 60fps animation loop, particles need 30 frames (about 500ms) to reach their target position. It‚Äôs like giving each particle exactly half a second to find its way home! ‚è±Ô∏è</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Opacity Gradient</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20OPACITY_STEP%20%3D%201%20%2F%2030%20%3D%200.0333...">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">OPACITY_STEP</span> = <span class="hljs-number inline">1</span> / <span class="hljs-number inline">30</span> = <span class="hljs-number inline">0.0333</span>...
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Each frame increases opacity by about 3.33%, reaching full opacity after 30 frames. This linear gradient creates a natural ‚Äúappearing from the quantum vacuum‚Äù effect for particles‚Äîbecause apparently, our particles have learned quantum mechanics! üî¨</p>
<h3 id="interaction-parameters" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#interaction-parameters" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Interaction Parameters">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Interaction Parameters
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20RADIUS%20%3D%2040%3B%0Aconst%20INTENSITY%20%3D%200.95%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">RADIUS</span> = <span class="hljs-number inline">40</span>;
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">INTENSITY</span> = <span class="hljs-number inline">0.95</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Parameter explanations:</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">RADIUS</strong>: The interaction radius between cursor and particles is 40 pixels</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">INTENSITY</strong>: The cursor‚Äôs ‚Äúpushing force‚Äù coefficient, meaning that during the continuous position updates of particles, the force applied by the cursor gradually weakens</p>
<h2 id="particle-system-design" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#particle-system-design" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Particle System Design">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Particle System Design
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">The particle system is the core of the entire effect. Each particle is a small intelligent agent with its own lifecycle and behavior patterns‚Äîbasically, we‚Äôre running a tiny civilization on your screen!</p>
<h3 id="particles-born-from-random-positions" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#particles-born-from-random-positions" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Particles Born from Random Positions">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Particles Born from Random Positions
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="constructor(totalX%3A%20number%2C%20totalY%3A%20number%2C%20time%3A%20number%2C%20color%3A%20number%5B%5D)%20%7B%0Athis.x%20%3D%20Math.random()%20*%20CANVAS_WIDTH%3B%0Athis.y%20%3D%20Math.random()%20*%20CANVAS_HEIGHT%3B%0Athis.totalX%20%3D%20totalX%3B%0Athis.totalY%20%3D%20totalY%3B%0Athis.time%20%3D%20time%3B%0Athis.r%20%3D%201.2%3B%0Athis.color%20%3D%20%5B...color%5D%3B%0Athis.opacity%20%3D%200%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-title function_ inline">constructor</span>(<span class="hljs-params inline"><span class="hljs-attr inline">totalX</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">totalY</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">time</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">color</span>: <span class="hljs-built_in inline">number</span>[]</span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span> = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>() * <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span> = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>() * <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalX</span> = totalX;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalY</span> = totalY;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">time</span> = time;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">r</span> = <span class="hljs-number inline">1.2</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">color</span> = [...color];
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">opacity</span> = <span class="hljs-number inline">0</span>;
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Random Initial Position</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Each particle starts its journey from a random position on the canvas, creating a visual effect of ‚Äúorder emerging from chaos.‚Äù If all particles started from the same corner, it would seem too monotonous, lacking that feeling of cosmic stardust condensing into text. It‚Äôs like having a cosmic Big Bang, but instead of creating the universe, we‚Äôre creating the word &quot;Hello&quot;! üåå</p>
<p class="text-base leading-7 mb-4 text-foreground">Parameter explanations:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>totalX, totalY</code>: Target coordinates of the particle</li>
<li class="text-foreground leading-relaxed"><code>time</code>: Time needed for the particle to reach its destination</li>
<li class="text-foreground leading-relaxed"><code>color</code>: Color of the particle</li>
</ul>
<h3 id="particles-decelerate-in-diffusion" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#particles-decelerate-in-diffusion" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Particles Decelerate in Diffusion">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Particles Decelerate in Diffusion
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="update(mouseX%3F%3A%20number%2C%20mouseY%3F%3A%20number)%20%7B%0Athis.mx%20%3D%20this.totalX%20-%20this.x%3B%0Athis.my%20%3D%20this.totalY%20-%20this.y%3B%0Athis.vx%20%3D%20this.mx%20%2F%20this.time%3B%0Athis.vy%20%3D%20this.my%20%2F%20this.time%3B%0A%2F%2F%20...%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-title function_ inline">update</span>(<span class="hljs-params inline"><span class="hljs-attr inline">mouseX</span>?: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">mouseY</span>?: <span class="hljs-built_in inline">number</span></span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mx</span> = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalX</span> - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">my</span> = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalY</span> - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vx</span> = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mx</span> / <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">time</span>;
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vy</span> = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">my</span> / <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">time</span>;
    <span class="hljs-comment inline">// ...</span>
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Displacement‚ÜíVelocity Mathematical Transformation</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Known kinematic formula: <code>Velocity = Displacement / Time</code></p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="vx%20%3D%20(Target%20X%20-%20Current%20X)%20%2F%20Time%20Constant%0Avy%20%3D%20(Target%20Y%20-%20Current%20Y)%20%2F%20Time%20Constant">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code>vx = (Target X - <span class="hljs-keyword inline">Current</span> X) / <span class="hljs-type inline">Time</span> <span class="hljs-keyword inline">Constant</span>
vy = (Target Y - <span class="hljs-keyword inline">Current</span> Y) / <span class="hljs-type inline">Time</span> <span class="hljs-keyword inline">Constant</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why divide by the time constant</strong>?</p>
<p class="text-base leading-7 mb-4 text-foreground">This creates a ‚Äúgradual approach‚Äù effect‚Äîthe closer to the target, the slower the speed. It‚Äôs like particles get more and more excited as they approach their destination, but also more careful not to overshoot! Think of it as particles practicing good parking etiquette. üöó</p>
<h3 id="touching-the-sea-of-particles" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#touching-the-sea-of-particles" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Touching the Sea of Particles">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Touching the Sea of Particles
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="if%20(mouseX%20!%3D%3D%20undefined%20%26%26%20mouseY%20!%3D%3D%20undefined%20%26%26%20mouseX%20%3E%200%20%26%26%20mouseY%20%3E%200)%20%7B%0Aconst%20dx%20%3D%20mouseX%20-%20this.x%3B%0Aconst%20dy%20%3D%20mouseY%20-%20this.y%3B%0Aconst%20distance%20%3D%20Math.sqrt(dx%20**%202%20%2B%20dy%20**%202)%3B%0Aif%20(distance%20RADIUS)%20%7B%0Alet%20disPercent%20%3D%20RADIUS%20%2F%20distance%3B%0AdisPercent%20%3D%20disPercent%20%3E%207%20%3F%207%20%3A%20disPercent%3B%0Aconst%20angle%20%3D%20Math.atan2(dy%2C%20dx)%3B%0Aconst%20cos%20%3D%20Math.cos(angle)%3B%0Aconst%20sin%20%3D%20Math.sin(angle)%3B%0Aconst%20repX%20%3D%20cos%20*%20disPercent%20*%20-INTENSITY%3B%0Aconst%20repY%20%3D%20sin%20*%20disPercent%20*%20-INTENSITY%3B%0Athis.vx%20%2B%3D%20repX%3B%0Athis.vy%20%2B%3D%20repY%3B%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">if</span> (mouseX !== <span class="hljs-literal inline">undefined</span> &amp;&amp; mouseY !== <span class="hljs-literal inline">undefined</span> &amp;&amp; mouseX &gt; <span class="hljs-number inline">0</span> &amp;&amp; mouseY &gt; <span class="hljs-number inline">0</span>) {
    <span class="hljs-keyword inline">const</span> dx = mouseX - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span>;
    <span class="hljs-keyword inline">const</span> dy = mouseY - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span>;
    <span class="hljs-keyword inline">const</span> distance = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sqrt</span>(dx ** <span class="hljs-number inline">2</span> + dy ** <span class="hljs-number inline">2</span>);

    <span class="hljs-keyword inline">if</span> (distance &lt; <span class="hljs-variable constant_ inline">RADIUS</span>) {
        <span class="hljs-keyword inline">let</span> disPercent = <span class="hljs-variable constant_ inline">RADIUS</span> / distance;
        disPercent = disPercent &gt; <span class="hljs-number inline">7</span> ? <span class="hljs-number inline">7</span> : disPercent;

        <span class="hljs-keyword inline">const</span> angle = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">atan2</span>(dy, dx);
        <span class="hljs-keyword inline">const</span> cos = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">cos</span>(angle);
        <span class="hljs-keyword inline">const</span> sin = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(angle);

        <span class="hljs-keyword inline">const</span> repX = cos * disPercent * -<span class="hljs-variable constant_ inline">INTENSITY</span>;
        <span class="hljs-keyword inline">const</span> repY = sin * disPercent * -<span class="hljs-variable constant_ inline">INTENSITY</span>;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vx</span> += repX;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vy</span> += repY;
    }
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Geometric Principle of Distance Calculation</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20distance%20%3D%20Math.sqrt(dx%20**%202%20%2B%20dy%20**%202)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> distance = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sqrt</span>(dx ** <span class="hljs-number inline">2</span> + dy ** <span class="hljs-number inline">2</span>);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Uses the Euclidean distance formula to calculate the straight-line distance between mouse and particle. Although square root operations are somewhat computationally heavy, this load is completely not a problem in modern browsers‚Äîthey‚Äôve gotten pretty good at math since the 90s! üìê</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Force Decay Function</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="let%20disPercent%20%3D%20RADIUS%20%2F%20distance%3B%0AdisPercent%20%3D%20disPercent%20%3E%207%20%3F%207%20%3A%20disPercent%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">let</span> disPercent = <span class="hljs-variable constant_ inline">RADIUS</span> / distance;
disPercent = disPercent &gt; <span class="hljs-number inline">7</span> ? <span class="hljs-number inline">7</span> : disPercent;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">This is an inverse proportional decay function‚Äîthe closer the distance, the stronger the force:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">When <code>distance = RADIUS</code>, <code>disPercent = 1</code> (standard intensity)</li>
<li class="text-foreground leading-relaxed">When <code>distance = RADIUS/2</code>, <code>disPercent = 2</code> (double intensity)</li>
<li class="text-foreground leading-relaxed">When <code>distance ‚Üí 0</code>, <code>disPercent ‚Üí ‚àû</code></li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why limit to within 7</strong>? To prevent particles from gaining excessive acceleration when directly under the mouse and ‚Äúflying out of the galaxy.‚Äù We need to keep our particles grounded‚Äîor at least within the observable universe! üöÄ</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Angle Calculation and Force Decomposition</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20angle%20%3D%20Math.atan2(dy%2C%20dx)%3B%0Aconst%20repX%20%3D%20cos%20*%20disPercent%20*%20-INTENSITY%3B%0Aconst%20repY%20%3D%20sin%20*%20disPercent%20*%20-INTENSITY%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> angle = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">atan2</span>(dy, dx);
<span class="hljs-keyword inline">const</span> repX = cos * disPercent * -<span class="hljs-variable constant_ inline">INTENSITY</span>;
<span class="hljs-keyword inline">const</span> repY = sin * disPercent * -<span class="hljs-variable constant_ inline">INTENSITY</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">This uses the classic vector decomposition method:</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Calculate the angle from particle pointing to mouse</li>
<li class="text-foreground leading-relaxed">Use trigonometric functions to decompose force into X and Y components</li>
<li class="text-foreground leading-relaxed">The negative sign creates a ‚Äúrepulsion‚Äù effect (remove the negative sign for ‚Äúattraction‚Äù)</li>
</ol>
<p class="text-base leading-7 mb-4 text-foreground">It‚Äôs basically teaching particles to maintain social distancing from your cursor! üò∑</p>
<h3 id="rendering-optimization" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#rendering-optimization" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Rendering Optimization">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Rendering Optimization
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="draw(ctx%3A%20CanvasRenderingContext2D)%20%7B%0Actx.fillStyle%20%3D%20%60rgba(%24%7Bthis.color.join('%2C')%7D%2C%20%24%7Bthis.opacity%7D)%60%3B%0Actx.strokeStyle%20%3D%20%60rgba(%24%7Bthis.color.join('%2C')%7D%2C%20%24%7Bthis.opacity%7D)%60%3B%0Actx.fillRect(this.x%2C%20this.y%2C%20this.r%20*%202%2C%20this.r%20*%202)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-title function_ inline">draw</span>(<span class="hljs-params inline"><span class="hljs-attr inline">ctx</span>: <span class="hljs-title class_ inline">CanvasRenderingContext2D</span></span>) {
    ctx.<span class="hljs-property inline">fillStyle</span> = <span class="hljs-string inline">`rgba(<span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.color.join(<span class="hljs-string inline">&#x27;,&#x27;</span>)}</span>, <span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.opacity}</span>)`</span>;
    ctx.<span class="hljs-property inline">strokeStyle</span> = <span class="hljs-string inline">`rgba(<span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.color.join(<span class="hljs-string inline">&#x27;,&#x27;</span>)}</span>, <span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.opacity}</span>)`</span>;
    ctx.<span class="hljs-title function_ inline">fillRect</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span>, <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span>, <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">r</span> * <span class="hljs-number inline">2</span>, <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">r</span> * <span class="hljs-number inline">2</span>);
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why use fillRect instead of arc</strong>?</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Performance advantage</strong>: Rectangle drawing is about 30% faster than circles, and this difference is obvious when there are thousands of particles</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Visual effect</strong>: 1.2√ó1.2 pixel small rectangles are almost indistinguishable from circles when viewed from a distance‚Äîit‚Äôs the digital equivalent of &quot;close enough for jazz&quot;! üé∑</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Pixel perfect</strong>: Rectangles avoid the anti-aliasing issues of circles</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Color interpolation string concatenation</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="ctx.fillStyle%20%3D%20%60rgba(%24%7Bthis.color.join('%2C')%7D%2C%20%24%7Bthis.opacity%7D)%60%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">ctx.<span class="hljs-property inline">fillStyle</span> = <span class="hljs-string inline">`rgba(<span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.color.join(<span class="hljs-string inline">&#x27;,&#x27;</span>)}</span>, <span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.opacity}</span>)`</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">We‚Äôre basically teaching JavaScript to speak RGB! üåà</p>
<h2 id="text-to-particle-principles" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#text-to-particle-principles" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Text-to-Particle Principles">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Text-to-Particle Principles
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">(The underlying logic of the cyber magnetic board‚Äîor as I like to call it, ‚ÄúHow to Turn Letters into Digital Confetti‚Äù)</p>
<h3 id="off-screen-canvas" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#off-screen-canvas" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Off-screen Canvas">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Off-screen Canvas
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20tempCanvas%20%3D%20document.createElement('canvas')%3B%0Aconst%20tempCtx%20%3D%20tempCanvas.getContext('2d')!%3B%0AtempCanvas.width%20%3D%20CANVAS_WIDTH%3B%0AtempCanvas.height%20%3D%20CANVAS_HEIGHT%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> tempCanvas = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">createElement</span>(<span class="hljs-string inline">&#x27;canvas&#x27;</span>);
<span class="hljs-keyword inline">const</span> tempCtx = tempCanvas.<span class="hljs-title function_ inline">getContext</span>(<span class="hljs-string inline">&#x27;2d&#x27;</span>)!;
tempCanvas.<span class="hljs-property inline">width</span> = <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>;
tempCanvas.<span class="hljs-property inline">height</span> = <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why need a temporary Canvas</strong>?</p>
<p class="text-base leading-7 mb-4 text-foreground">Off-screen rendering is a classic technique in computer graphics:</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Isolated environment</strong>: Temporary Canvas doesn‚Äôt affect the main canvas state‚Äîit‚Äôs like having a secret laboratory where we can experiment without blowing up the main building! üß™</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Pixel reading</strong>: Only by first ‚Äúdrawing‚Äù the text can we read pixel data</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Memory efficiency</strong>: Temporary Canvas is garbage collected after use, not occupying long-term memory</li>
</ol>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Performance advantages of off-screen rendering</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Avoids repeated clearing and redrawing of the main canvas</li>
<li class="text-foreground leading-relaxed">Can be performed in any thread</li>
<li class="text-foreground leading-relaxed">If rendering complexity increases, Web Workers can be used in the future to parallelize rendering for performance improvement (current rendering needs don‚Äôt require this level of sophistication‚Äîyet!)</li>
</ul>
<h3 id="text-rendering-parameters" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#text-rendering-parameters" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Text Rendering Parameters">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Text Rendering Parameters
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="tempCtx.font%20%3D%20'bold%20100px%20Arial%2C%20sans-serif'%3B%0AtempCtx.textAlign%20%3D%20'center'%3B%0AtempCtx.textBaseline%20%3D%20'middle'%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">tempCtx.<span class="hljs-property inline">font</span> = <span class="hljs-string inline">&#x27;bold 100px Arial, sans-serif&#x27;</span>;
tempCtx.<span class="hljs-property inline">textAlign</span> = <span class="hljs-string inline">&#x27;center&#x27;</span>;
tempCtx.<span class="hljs-property inline">textBaseline</span> = <span class="hljs-string inline">&#x27;middle&#x27;</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Mathematical calculation for center alignment</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="tempCtx.fillText(text%2C%20CANVAS_WIDTH%20%2F%202%2C%20CANVAS_HEIGHT%20%2F%202)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">tempCtx.<span class="hljs-title function_ inline">fillText</span>(text, <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span> / <span class="hljs-number inline">2</span>, <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span> / <span class="hljs-number inline">2</span>);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">By drawing text at the geometric center of the canvas (300, 100), it ensures that regardless of text length, it can be centered on the canvas.</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Impact of font choice on particle effects</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">sans-serif</strong>: Sans-serif fonts avoid excessive detail that could cause particle noise</li>
</ul>
<h3 id="pixel-sampling-algorithm-wisdom-from-continuous-to-discrete" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#pixel-sampling-algorithm-wisdom-from-continuous-to-discrete" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Pixel Sampling Algorithm: Wisdom from Continuous to Discrete">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Pixel Sampling Algorithm: Wisdom from Continuous to Discrete
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">Original algorithm author: <a href="https://github.com/XIwE1" class="text-primary hover:text-accent underline transition-colors duration-200">XIwE1</a>, thanks and respect orz (The hero we needed but didn‚Äôt deserve! ü¶∏‚Äç‚ôÇÔ∏è)</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="for%20(let%20y%20%3D%200%3B%20y%20CANVAS_HEIGHT%3B%20y%20%2B%3D%203)%20%7B%0Afor%20(let%20x%20%3D%200%3B%20x%20CANVAS_WIDTH%3B%20x%20%2B%3D%203)%20%7B%0Aconst%20index%20%3D%20(x%20%2B%20y%20*%20CANVAS_WIDTH)%20*%204%3B%0Aconst%20a%20%3D%20data%5Bindex%20%2B%203%5D%3B%0Aif%20(a%20%3E%20128)%20%7B%0Aparticles.push(%7B%0Ax%2C%0Ay%2C%0Acolor%3A%20%5B...rgbColor%5D%0A%7D)%3B%0A%7D%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> y = <span class="hljs-number inline">0</span>; y &lt; <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>; y += <span class="hljs-number inline">3</span>) {
    <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> x = <span class="hljs-number inline">0</span>; x &lt; <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>; x += <span class="hljs-number inline">3</span>) {
        <span class="hljs-keyword inline">const</span> index = (x + y * <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>) * <span class="hljs-number inline">4</span>;
        <span class="hljs-keyword inline">const</span> a = data[index + <span class="hljs-number inline">3</span>];
        <span class="hljs-keyword inline">if</span> (a &gt; <span class="hljs-number inline">128</span>) {
            particles.<span class="hljs-title function_ inline">push</span>({
                x,
                y,
                <span class="hljs-attr inline">color</span>: [...rgbColor]
            });
        }
    }
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Sampling logic of nested loops</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">This nested loop traverses the entire canvas, but not pixel by pixel‚Äîrather sampling every 3 pixels. It‚Äôs like reading every third word in a book and still understanding the story! üìñ</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why is the step size 3</strong>?</p>
<p class="text-base leading-7 mb-4 text-foreground">This is a delicate balance between performance and quality:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Step size 1: Every pixel is sampled, enormous number of particles (about 40,000), terrible performance‚Äîyour computer would cry! üò≠</li>
<li class="text-foreground leading-relaxed">Step size 5: Too few particles, text outline unclear‚Äîit‚Äôs like trying to draw the Mona Lisa with only 10 pixels</li>
<li class="text-foreground leading-relaxed">Step size 3: Moderate number of particles (about 4,000-8,000), maintaining text clarity while ensuring smooth animation‚Äîthe Goldilocks zone of particle sampling! üêª</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Memory layout of RGBA data structure</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20index%20%3D%20(x%20%2B%20y%20*%20CANVAS_WIDTH)%20*%204%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> index = (x + y * <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>) * <span class="hljs-number inline">4</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Canvas ImageData stores each pixel in RGBA order:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="%5BR0%2C%20G0%2C%20B0%2C%20A0%2C%20R1%2C%20G1%2C%20B1%2C%20A1%2C%20R2%2C%20G2%2C%20B2%2C%20A2%2C%20...%5D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code>[R0, G0, <span class="hljs-keyword inline">B0, </span><span class="hljs-built_in inline">A0</span>, R1, G1, <span class="hljs-keyword inline">B1, </span><span class="hljs-built_in inline">A1</span>, R2, G2, <span class="hljs-keyword inline">B2, </span><span class="hljs-built_in inline">A2</span>, ...]
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">So the alpha value of pixel (x,y) is located at: <code>(x + y * width) * 4 + 3</code></p>
<p class="text-base leading-7 mb-4 text-foreground">It‚Äôs like having every pixel tell you its life story: ‚ÄúHi, I‚Äôm Red 255, Green 100, Blue 50, and I‚Äôm 80% visible!‚Äù üé≠</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Principle of alpha threshold 128 selection</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="if%20(a%20%3E%20128)%20%7B%0Aparticles.push(%7Bx%2C%20y%2C%20color%3A%20%5B...rgbColor%5D%7D)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">if</span> (a &gt; <span class="hljs-number inline">128</span>) {
    particles.<span class="hljs-title function_ inline">push</span>({x, y, <span class="hljs-attr inline">color</span>: [...rgbColor]});
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Alpha value range is 0-255, 128 is exactly half. This threshold ensures:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Completely transparent background (alpha=0) won‚Äôt generate particles</li>
<li class="text-foreground leading-relaxed">Text edges with some transparency are also included</li>
<li class="text-foreground leading-relaxed">Avoids noise from semi-transparent pixels caused by anti-aliasing</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">It‚Äôs basically asking each pixel: ‚ÄúAre you at least half-committed to existing?‚Äù ü§î</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">RGB decomposition of color conversion</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="color%3A%20%5B...rgbColor%5D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-attr inline">color</span>: [...rgbColor]
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Using the spread operator to copy the color array avoids the problem of all particles sharing the same color array (shallow copy trap).</p>
<h2 id="particlecanvas-class-kei-zero-particle-commander" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#particlecanvas-class-kei-zero-particle-commander" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to ParticleCanvas Class: Kei & Zero Particle Commander">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            ParticleCanvas Class: <del class="line-through opacity-60">Kei &amp; Zero</del> Particle Commander
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">If Particle is the soldier, then ParticleCanvas is the commander, coordinating the entire particle army‚Äôs actions. Think of it as the general in our microscopic war against boring static text! ‚öîÔ∏è</p>
<h3 id="event-system-design-coordinate-transformation" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#event-system-design-coordinate-transformation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Event System Design: Coordinate Transformation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Event System Design: Coordinate Transformation
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="setupMouseEvents()%20%7B%0Athis.canvas.addEventListener('mousemove'%2C%20(e)%20%3D%3E%20%7B%0Aconst%20rect%20%3D%20this.canvas.getBoundingClientRect()%3B%0Athis.mouseX%20%3D%20e.clientX%20-%20rect.left%3B%0Athis.mouseY%20%3D%20e.clientY%20-%20rect.top%3B%0A%7D)%3B%0Athis.canvas.addEventListener('mouseleave'%2C%20()%20%3D%3E%20%7B%0Athis.mouseX%20%3D%200%3B%0Athis.mouseY%20%3D%200%3B%0A%7D)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-title function_ inline">setupMouseEvents</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">canvas</span>.<span class="hljs-title function_ inline">addEventListener</span>(<span class="hljs-string inline">&#x27;mousemove&#x27;</span>, <span class="hljs-function inline">(<span class="hljs-params inline">e</span>) =&gt;</span> {
        <span class="hljs-keyword inline">const</span> rect = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">canvas</span>.<span class="hljs-title function_ inline">getBoundingClientRect</span>();
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseX</span> = e.<span class="hljs-property inline">clientX</span> - rect.<span class="hljs-property inline">left</span>;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseY</span> = e.<span class="hljs-property inline">clientY</span> - rect.<span class="hljs-property inline">top</span>;
    });

    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">canvas</span>.<span class="hljs-title function_ inline">addEventListener</span>(<span class="hljs-string inline">&#x27;mouseleave&#x27;</span>, <span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseX</span> = <span class="hljs-number inline">0</span>;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseY</span> = <span class="hljs-number inline">0</span>;
    });
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Precise positioning with getBoundingClientRect</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">This method returns the precise position of elements relative to the viewport, considering:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">CSS transforms</li>
<li class="text-foreground leading-relaxed">Scroll offsets</li>
<li class="text-foreground leading-relaxed">Border widths</li>
<li class="text-foreground leading-relaxed">Padding</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">It‚Äôs like having a GPS system that works inside your browser! üó∫Ô∏è</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Mathematical principle of coordinate transformation</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="this.mouseX%20%3D%20e.clientX%20-%20rect.left%3B%0Athis.mouseY%20%3D%20e.clientY%20-%20rect.top%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseX</span> = e.<span class="hljs-property inline">clientX</span> - rect.<span class="hljs-property inline">left</span>;
<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseY</span> = e.<span class="hljs-property inline">clientY</span> - rect.<span class="hljs-property inline">top</span>;
</code></pre>
            </div>
        
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>e.clientX/Y</code>: Mouse coordinates relative to viewport</li>
<li class="text-foreground leading-relaxed"><code>rect.left/top</code>: Canvas element coordinates relative to viewport</li>
<li class="text-foreground leading-relaxed">Subtraction gives mouse coordinates relative to Canvas</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">It‚Äôs coordinate system translation‚Äîwe‚Äôre basically teaching the mouse to speak Canvas! üñ±Ô∏è</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why need mouseleave handling</strong>?</p>
<p class="text-base leading-7 mb-4 text-foreground">When the mouse leaves the Canvas, setting coordinates to (0,0) ensures particles don‚Äôt continue to be affected by a ‚Äúghost mouse.‚Äù This is more natural than maintaining the last position‚Äînobody likes phantom cursors haunting their animations! üëª</p>
<h3 id="animation-loop-lifecycle" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#animation-loop-lifecycle" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Animation Loop Lifecycle">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Animation Loop Lifecycle
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="animate()%20%7B%0Athis.ctx.clearRect(0%2C%200%2C%20CANVAS_WIDTH%2C%20CANVAS_HEIGHT)%3B%0Athis.particles.forEach(particle%20%3D%3E%20%7B%0Aparticle.update(this.mouseX%2C%20this.mouseY)%3B%0Aparticle.draw(this.ctx)%3B%0A%7D)%3B%0Athis.animationId%20%3D%20requestAnimationFrame(()%20%3D%3E%20this.animate())%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-title function_ inline">animate</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">ctx</span>.<span class="hljs-title function_ inline">clearRect</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">0</span>, <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>, <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>);

    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">particles</span>.<span class="hljs-title function_ inline">forEach</span>(<span class="hljs-function inline"><span class="hljs-params inline">particle</span> =&gt;</span> {
        particle.<span class="hljs-title function_ inline">update</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseX</span>, <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseY</span>);
        particle.<span class="hljs-title function_ inline">draw</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">ctx</span>);
    });

    <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(<span class="hljs-function inline">() =&gt;</span> <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">animate</span>());
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Standard cycle of Clear‚ÜíUpdate‚ÜíDraw</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">This is the classic pattern for Canvas animation:</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Clear</strong>: Erase previous frame content</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Update</strong>: Calculate new states</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Draw</strong>: Render current frame</li>
</ol>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Advantages of requestAnimationFrame</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Compared to <code>setTimeout</code>, <code>requestAnimationFrame</code> has many advantages:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Vertical sync</strong>: Synchronized with monitor refresh rate, avoiding tearing</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Automatic throttling</strong>: Automatically pauses when page is not visible</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Performance optimization</strong>: Browser performs better optimization</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Importance of animation ID management</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="this.animationId%20%3D%20requestAnimationFrame(()%20%3D%3E%20this.animate())%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(<span class="hljs-function inline">() =&gt;</span> <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">animate</span>());
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">Saving the animation ID is for subsequent cancellation operations. Without this ID, the animation loop cannot be stopped, causing memory leaks.</p>
<h3 id="resource-management-and-memory-leak-protection" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#resource-management-and-memory-leak-protection" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Resource Management and Memory Leak Protection">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Resource Management and Memory Leak Protection
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="destroy()%20%7B%0Aif%20(this.animationId)%20%7B%0AcancelAnimationFrame(this.animationId)%3B%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-title function_ inline">destroy</span>(<span class="hljs-params inline"></span>) {
    <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span>) {
        <span class="hljs-title function_ inline">cancelAnimationFrame</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span>);
    }
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Why need manual destruction</strong>?</p>
<p class="text-base leading-7 mb-4 text-foreground">Although JavaScript‚Äôs garbage collection mechanism is powerful, the following resources need manual cleanup:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Animation loops (requestAnimationFrame)</li>
<li class="text-foreground leading-relaxed">Event listeners (though these auto-clean with DOM element deletion)</li>
<li class="text-foreground leading-relaxed">Timers (setTimeout/setInterval)</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Cleanup work during React component unmounting</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">In React‚Äôs lifecycle, these resources must be cleaned up when components unmount, otherwise:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Animations continue running, consuming CPU</li>
<li class="text-foreground leading-relaxed">Memory cannot be released</li>
<li class="text-foreground leading-relaxed">Possible erroneous state updates</li>
</ul>
<h2 id="react-integration-best-practices" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#react-integration-best-practices" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to React Integration Best Practices">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            React Integration Best Practices
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">Integrating Canvas animation into React components requires handling multiple challenges like lifecycle, performance optimization, and state synchronization.</p>
<h3 id="useeffect-dependency-management" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#useeffect-dependency-management" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to useEffect Dependency Management">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            useEffect Dependency Management
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="useEffect(()%20%3D%3E%20%7B%0Aif%20(canvasRef.current)%20%7B%0Aif%20(particleCanvasRef.current)%20%7B%0AparticleCanvasRef.current.destroy()%3B%0A%7D%0AparticleCanvasRef.current%20%3D%20new%20ParticleCanvas(canvasRef.current)%3B%0AparticleCanvasRef.current.generateTextParticles(text%2C%20currentTheme.colors.primary)%3B%0AparticleCanvasRef.current.animate()%3B%0AsetIsLoaded(true)%3B%0A%7D%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(particleCanvasRef.current)%20%7B%0AparticleCanvasRef.current.destroy()%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5Btext%2C%20currentTheme.colors.primary%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (canvasRef.<span class="hljs-property inline">current</span>) {
        <span class="hljs-keyword inline">if</span> (particleCanvasRef.<span class="hljs-property inline">current</span>) {
            particleCanvasRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">destroy</span>();
        }
        particleCanvasRef.<span class="hljs-property inline">current</span> = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">ParticleCanvas</span>(canvasRef.<span class="hljs-property inline">current</span>);
        particleCanvasRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">generateTextParticles</span>(text, currentTheme.<span class="hljs-property inline">colors</span>.<span class="hljs-property inline">primary</span>);
        particleCanvasRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">animate</span>();
        <span class="hljs-title function_ inline">setIsLoaded</span>(<span class="hljs-literal inline">true</span>);
    }

    <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">if</span> (particleCanvasRef.<span class="hljs-property inline">current</span>) {
            particleCanvasRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">destroy</span>();
        }
    };
}, [text, currentTheme.<span class="hljs-property inline">colors</span>.<span class="hljs-property inline">primary</span>]);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Dependency array selection strategy</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Only includes <code>text</code> and <code>currentTheme.colors.primary</code> as dependencies:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">text</strong>: Need to regenerate particles when text changes</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">currentTheme.colors.primary</strong>: Need to update particle colors when theme changes</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">No other values</strong>: Avoid unnecessary re-initialization</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Responsive updates for theme color changes</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">When users switch themes, particle colors need immediate updates. By monitoring theme changes and regenerating the particle system, visual consistency is ensured.</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Necessity of cleanup function</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">The returned cleanup function ensures:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Stop animation when component unmounts</li>
<li class="text-foreground leading-relaxed">Clean old instance before creating new instance when dependencies change</li>
<li class="text-foreground leading-relaxed">Avoid multiple animation loops running simultaneously</li>
</ul>
<h2 id="mathematical-principles-deep-analysis" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#mathematical-principles-deep-analysis" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Mathematical Principles Deep Analysis">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Mathematical Principles Deep Analysis
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">Next is the ‚Äúwhat is this magic‚Äù stage (Prepare for mathematical enlightenment or confusion‚Äîpossibly both!) ü§ì</p>
<h3 id="vector-operations-in-particle-systems" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#vector-operations-in-particle-systems" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Vector Operations in Particle Systems">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Vector Operations in Particle Systems
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Relationship between position vectors and velocity vectors</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">In our system, each particle‚Äôs motion can be described using vectors:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Position vector: <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>P</mi><mo>‚Éó</mo></mover><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{P} = (x, y)</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.9663em;"></span><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline" style="margin-right:0.13889em;">P</span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.1522em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen inline">(</span><span class="mord mathnormal inline">x</span><span class="mpunct inline">,</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="mord mathnormal inline" style="margin-right:0.03588em;">y</span><span class="mclose inline">)</span></span></span></span></li>
<li class="text-foreground leading-relaxed">Target vector: <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>T</mi><mo>‚Éó</mo></mover><mo>=</mo><mo stretchy="false">(</mo><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>X</mi><mo separator="true">,</mo><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi><mi>Y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{T} = (totalX, totalY)</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.9663em;"></span><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline" style="margin-right:0.13889em;">T</span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.1522em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen inline">(</span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline">o</span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline">a</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">lX</span><span class="mpunct inline">,</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline">o</span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline">a</span><span class="mord mathnormal inline" style="margin-right:0.01968em;">l</span><span class="mord mathnormal inline" style="margin-right:0.22222em;">Y</span><span class="mclose inline">)</span></span></span></span></li>
<li class="text-foreground leading-relaxed">Movement vector: <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>M</mi><mo>‚Éó</mo></mover><mo>=</mo><mover accent="true"><mi>T</mi><mo>‚Éó</mo></mover><mo>‚àí</mo><mover accent="true"><mi>P</mi><mo>‚Éó</mo></mover></mrow><annotation encoding="application/x-tex">\vec{M} = \vec{T} - \vec{P}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.9663em;"></span><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline" style="margin-right:0.10903em;">M</span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.1522em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:1.0497em;vertical-align:-0.0833em;"></span><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline" style="margin-right:0.13889em;">T</span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.1522em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚àí</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.9663em;"></span><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline" style="margin-right:0.13889em;">P</span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.1522em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span></span></span></li>
<li class="text-foreground leading-relaxed">Velocity vector: <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>V</mi><mo>‚Éó</mo></mover><mo>=</mo><mfrac><mover accent="true"><mi>M</mi><mo>‚Éó</mo></mover><mrow><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\vec{V} = \frac{\vec{M}}{time}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.9663em;"></span><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline" style="margin-right:0.22222em;">V</span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.2355em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:1.4154em;vertical-align:-0.345em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.0704em;"><span style="top:-2.655em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">t</span><span class="mord mathnormal mtight inline">im</span><span class="mord mathnormal mtight inline">e</span></span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord accent mtight inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-2.714em;" class="inline"><span class="pstrut inline" style="height:2.714em;"></span><span class="mord mathnormal mtight inline" style="margin-right:0.10903em;">M</span></span><span style="top:-2.9663em;" class="inline"><span class="pstrut inline" style="height:2.714em;"></span><span class="accent-body inline" style="left:-0.1522em;"><span class="overlay mtight inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.345em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span></span></li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">It‚Äôs like giving each particle a mathematical compass and map! üß≠</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Force composition and decomposition</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">When the mouse affects particles, particles are acted upon by two forces:</p>
<p class="text-base leading-7 mb-4 text-foreground"><span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><msub><mi>F</mi><mn>1</mn></msub><mo>‚Éó</mo></mover><mo>=</mo><mfrac><mover accent="true"><mi>M</mi><mo>‚Éó</mo></mover><mrow><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\vec{F_1} = \frac{\vec{M}}{time}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1.1163em;vertical-align:-0.15em;"></span><span class="mord accent inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.13889em;">F</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline">1</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span></span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.2355em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:2.3293em;vertical-align:-0.686em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.6433em;"><span style="top:-2.314em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline">im</span><span class="mord mathnormal inline">e</span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline" style="margin-right:0.10903em;">M</span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.1522em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.686em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground"><span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><msub><mi>F</mi><mn>2</mn></msub><mo>‚Éó</mo></mover><mo>=</mo><mo>‚àí</mo><mi>I</mi><mi>N</mi><mi>T</mi><mi>E</mi><mi>N</mi><mi>S</mi><mi>I</mi><mi>T</mi><mi>Y</mi><mo>‚ãÖ</mo><mfrac><mrow><mi>R</mi><mi>A</mi><mi>D</mi><mi>I</mi><mi>U</mi><mi>S</mi></mrow><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi></mrow></mfrac><mo>‚ãÖ</mo><mover accent="true"><mi>u</mi><mo>‚Éó</mo></mover></mrow><annotation encoding="application/x-tex">\vec{F_2} = -INTENSITY \cdot \frac{RADIUS}{distance} \cdot \vec{u}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1.1163em;vertical-align:-0.15em;"></span><span class="mord accent inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.13889em;">F</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline">2</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span></span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.2355em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord inline">‚àí</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">I</span><span class="mord mathnormal inline" style="margin-right:0.05764em;">NTENS</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">I</span><span class="mord mathnormal inline" style="margin-right:0.13889em;">T</span><span class="mord mathnormal inline" style="margin-right:0.22222em;">Y</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚ãÖ</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.3603em;"><span style="top:-2.314em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline">d</span><span class="mord mathnormal inline">i</span><span class="mord mathnormal inline">s</span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline">an</span><span class="mord mathnormal inline">ce</span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.00773em;">R</span><span class="mord mathnormal inline">A</span><span class="mord mathnormal inline" style="margin-right:0.02778em;">D</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">I</span><span class="mord mathnormal inline" style="margin-right:0.10903em;">U</span><span class="mord mathnormal inline" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.686em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚ãÖ</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.714em;"></span><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.714em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline">u</span></span><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.2077em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">Where <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>u</mi><mo>‚Éó</mo></mover></mrow><annotation encoding="application/x-tex">\vec{u}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.714em;"></span><span class="mord accent inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.714em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord mathnormal inline">u</span></span><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.2077em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span></span></span> is the unit vector from particle pointing to mouse.</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Final velocity</strong> is the vector sum of two forces:</p>
<p class="text-base leading-7 mb-4 text-foreground"><span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><msub><mi>V</mi><mrow><mi>f</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>‚Éó</mo></mover><mo>=</mo><mover accent="true"><msub><mi>F</mi><mn>1</mn></msub><mo>‚Éó</mo></mover><mo>+</mo><mover accent="true"><msub><mi>F</mi><mn>2</mn></msub><mo>‚Éó</mo></mover></mrow><annotation encoding="application/x-tex">\vec{V_{final}} = \vec{F_1} + \vec{F_2}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1.2524em;vertical-align:-0.2861em;"></span><span class="mord accent inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.22222em;">V</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight inline">ina</span><span class="mord mathnormal mtight inline" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span></span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.2355em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:1.1163em;vertical-align:-0.15em;"></span><span class="mord accent inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.13889em;">F</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline">1</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span></span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.2355em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">+</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:1.1163em;vertical-align:-0.15em;"></span><span class="mord accent inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.9663em;"><span style="top:-3em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.13889em;">F</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline">2</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span></span></span><span style="top:-3.2523em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="accent-body inline" style="left:-0.2355em;"><span class="overlay inline" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">This is basically physics class, but with more fun and fewer boring lectures! ‚ö°</p>
<h3 id="distance-decay-function-design" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#distance-decay-function-design" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Distance Decay Function Design">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Distance Decay Function Design
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Physical meaning of inverse proportion function</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">The decay function we use is:</p>
<p class="text-base leading-7 mb-4 text-foreground"><span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>R</mi><mi>A</mi><mi>D</mi><mi>I</mi><mi>U</mi><mi>S</mi></mrow><mi>d</mi></mfrac></mrow><annotation encoding="application/x-tex">f(d) = \frac{RADIUS}{d}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal inline" style="margin-right:0.10764em;">f</span><span class="mopen inline">(</span><span class="mord mathnormal inline">d</span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.3603em;"><span style="top:-2.314em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline">d</span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.00773em;">R</span><span class="mord mathnormal inline">A</span><span class="mord mathnormal inline" style="margin-right:0.02778em;">D</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">I</span><span class="mord mathnormal inline" style="margin-right:0.10903em;">U</span><span class="mord mathnormal inline" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.686em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">This simulates the decay law of Coulomb force (although Coulomb force is <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><msup><mi>d</mi><mn>2</mn></msup></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{d^2}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.8451em;"><span style="top:-2.655em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">d</span><span class="msupsub inline"><span class="vlist-t inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;" class="inline"><span class="pstrut inline" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight inline"><span class="mord mtight inline">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mtight inline">1</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.345em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span></span>, <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mi>d</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{d}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.8451em;"><span style="top:-2.655em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">d</span></span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mtight inline">1</span></span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.345em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span></span> has better visual effects). We‚Äôre not trying to solve electromagnetism here‚Äîjust make pretty animations! ‚ú®</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Boundary condition handling</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">When <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>‚Üí</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">d \to 0</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.6944em;"></span><span class="mord mathnormal inline">d</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">‚Üí</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.6444em;"></span><span class="mord inline">0</span></span></span></span>, <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo>‚Üí</mo><mi mathvariant="normal">‚àû</mi></mrow><annotation encoding="application/x-tex">f(d) \to \infty</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal inline" style="margin-right:0.10764em;">f</span><span class="mopen inline">(</span><span class="mord mathnormal inline">d</span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">‚Üí</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.4306em;"></span><span class="mord inline">‚àû</span></span></span></span>, which is mathematically divergent. We solve this by limiting the maximum value:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="disPercent%20%3D%20disPercent%20%3E%207%20%3F%207%20%3A%20disPercent%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">disPercent = disPercent &gt; <span class="hljs-number inline">7</span> ? <span class="hljs-number inline">7</span> : disPercent;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">This is equivalent to adding an upper bound to the function:</p>
<p class="text-base leading-7 mb-4 text-foreground"><span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">)</mo><mo>=</mo><mi>min</mi><mo>‚Å°</mo><mrow><mo fence="true">(</mo><mn>7</mn><mo separator="true">,</mo><mfrac><mrow><mi>R</mi><mi>A</mi><mi>D</mi><mi>I</mi><mi>U</mi><mi>S</mi></mrow><mi>d</mi></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">f(d) = \min\left(7, \frac{RADIUS}{d}\right)</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal inline" style="margin-right:0.10764em;">f</span><span class="mopen inline">(</span><span class="mord mathnormal inline">d</span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mop inline">min</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="minner inline"><span class="mopen delimcenter inline" style="top:0em;"><span class="delimsizing size3 inline">(</span></span><span class="mord inline">7</span><span class="mpunct inline">,</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.3603em;"><span style="top:-2.314em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline">d</span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.00773em;">R</span><span class="mord mathnormal inline">A</span><span class="mord mathnormal inline" style="margin-right:0.02778em;">D</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">I</span><span class="mord mathnormal inline" style="margin-right:0.10903em;">U</span><span class="mord mathnormal inline" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.686em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span><span class="mclose delimcenter inline" style="top:0em;"><span class="delimsizing size3 inline">)</span></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">We‚Äôre basically telling particles: ‚ÄúYou can be excited, but not TOO excited!‚Äù üìà</p>
<h3 id="color-space-conversion" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#color-space-conversion" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Color Space Conversion">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Color Space Conversion
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Mathematical transformation from HEX to RGB</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">The color conversion function <code>hexToRGB</code> performs the following transformation:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Input: <code>&quot;#ff6432&quot;</code></li>
<li class="text-foreground leading-relaxed">Parse: <code>ff</code>(255), <code>64</code>(100), <code>32</code>(50)</li>
<li class="text-foreground leading-relaxed">Output: <code>[255, 100, 50]</code></li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Interpolation algorithm for opacity gradient</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Opacity changes use linear interpolation:</p>
<p class="text-base leading-7 mb-4 text-foreground"><span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>o</mi><mi>p</mi><mi>a</mi><mi>c</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo>+</mo><mfrac><mi>t</mi><mrow><mi>A</mi><mi>N</mi><mi>I</mi><mi>M</mi><mi>A</mi><mi>T</mi><mi>E</mi><mi mathvariant="normal">_</mi><mi>T</mi><mi>I</mi><mi>M</mi><mi>E</mi></mrow></mfrac><mo>‚ãÖ</mo><mo stretchy="false">(</mo><mn>1</mn><mo>‚àí</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mi>t</mi><mn>30</mn></mfrac></mrow><annotation encoding="application/x-tex">opacity(t) = 0 + \frac{t}{ANIMATE\_TIME} \cdot (1 - 0) = \frac{t}{30}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal inline">o</span><span class="mord mathnormal inline">p</span><span class="mord mathnormal inline">a</span><span class="mord mathnormal inline">c</span><span class="mord mathnormal inline">i</span><span class="mord mathnormal inline">t</span><span class="mord mathnormal inline" style="margin-right:0.03588em;">y</span><span class="mopen inline">(</span><span class="mord mathnormal inline">t</span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord inline">0</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">+</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:2.2881em;vertical-align:-0.996em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.2921em;"><span style="top:-2.314em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline">A</span><span class="mord mathnormal inline" style="margin-right:0.10903em;">N</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">I</span><span class="mord mathnormal inline" style="margin-right:0.10903em;">M</span><span class="mord mathnormal inline">A</span><span class="mord mathnormal inline" style="margin-right:0.05764em;">TE</span><span class="mord inline" style="margin-right:0.02778em;">_</span><span class="mord mathnormal inline" style="margin-right:0.13889em;">T</span><span class="mord mathnormal inline" style="margin-right:0.07847em;">I</span><span class="mord mathnormal inline" style="margin-right:0.05764em;">ME</span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline">t</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.996em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚ãÖ</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen inline">(</span><span class="mord inline">1</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">‚àí</span><span class="mspace inline" style="margin-right:0.2222em;"></span></span><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mord inline">0</span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:1.9781em;vertical-align:-0.686em;"></span><span class="mord inline"><span class="mopen nulldelimiter inline"></span><span class="mfrac inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:1.2921em;"><span style="top:-2.314em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord inline">30</span></span></span><span style="top:-3.23em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="frac-line inline" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;" class="inline"><span class="pstrut inline" style="height:3em;"></span><span class="mord inline"><span class="mord mathnormal inline">t</span></span></span></span><span class="vlist-s inline">‚Äã</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.686em;"><span class="inline"></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">Where <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.6151em;"></span><span class="mord mathnormal inline">t</span></span></span></span> is the current frame number, <span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>‚àà</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>30</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">t \in [0, 30]</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal inline">t</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">‚àà</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen inline">[</span><span class="mord inline">0</span><span class="mpunct inline">,</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="mord inline">30</span><span class="mclose inline">]</span></span></span></span>.</p>
<h2 id="performance-optimization-deep-thinking" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#performance-optimization-deep-thinking" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Performance Optimization Deep Thinking">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Performance Optimization Deep Thinking
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">The following optimizations can be considered for future needs, such as when particles or text to be drawn change frequently. (Also known as ‚ÄúHow to make your animations fast enough to impress your colleagues‚Äù) üöÑ</p>
<h3 id="rendering-performance-optimization" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#rendering-performance-optimization" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Rendering Performance Optimization">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Rendering Performance Optimization
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Minimizing Canvas draw calls</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Each particle calls <code>fillRect</code> once, which is unavoidable, but drawing calls can be reduced through:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Batch setting of drawing states</li>
<li class="text-foreground leading-relaxed">Using path drawing instead of multiple fillRect calls</li>
<li class="text-foreground leading-relaxed">Implementing particle pooling to avoid object creation/destruction</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">It‚Äôs like organizing your particles into an efficient assembly line! üè≠</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">GPU acceleration enabling conditions</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Modern browsers automatically enable GPU acceleration for Canvas, conditions being:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Using specific operations of 2D context</li>
<li class="text-foreground leading-relaxed">Moderate canvas size (current 600√ó200 meets conditions)</li>
<li class="text-foreground leading-relaxed">No complex transforms or filters</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">Your graphics card is basically volunteering to help with the particle math‚Äîwhat a team player! üéÆ</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Garbage collection timing control</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">GC pressure can be reduced through:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Reusing particle objects instead of recreating them</li>
<li class="text-foreground leading-relaxed">Avoiding temporary object creation in animation loops</li>
<li class="text-foreground leading-relaxed">Properly setting object lifecycles</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">We‚Äôre essentially teaching JavaScript to recycle‚Äîit‚Äôs environmentally friendly programming! ‚ôªÔ∏è</p>
<h2 id="complete-source-code-full-analysis" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#complete-source-code-full-analysis" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Complete Source Code Full Analysis">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Complete Source Code Full Analysis
        </h2>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="'use%20client'%3B%0Aimport%20React%2C%20%7BuseEffect%2C%20useRef%2C%20useState%7D%20from%20'react'%3B%0Aimport%20%7BuseThemeStore%7D%20from%20'%40%2Flib%2Fstores%2FthemeStore'%3B%0Aimport%20%7BhexToRGB%7D%20from%20%22%40%2Flib%2Futils%2Fcolor%22%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Core%20Configuration%20Constants%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20CANVAS_WIDTH%20%3D%20600%3B%20%20%20%2F%2F%20Canvas%20width%0Aconst%20CANVAS_HEIGHT%20%3D%20200%3B%20%20%2F%2F%20Canvas%20height%0A%2F%2F%20Animation%20parameters%0Aconst%20ANIMATE_TIME%20%3D%2030%3B%20%20%20%20%2F%2F%20Particle%20animation%20time%20(frames)%0Aconst%20OPACITY_STEP%20%3D%201%20%2F%20ANIMATE_TIME%3B%20%20%2F%2F%20Opacity%20gradient%20step%0Aconst%20RADIUS%20%3D%2040%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Mouse%20interaction%20radius%0Aconst%20INTENSITY%20%3D%200.95%3B%20%20%20%20%20%2F%2F%20Mouse%20repulsion%20intensity%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Type%20Definitions%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Ainterface%20ParticleData%20%7B%0Ax%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Particle%20target%20X%20coordinate%0Ay%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Particle%20target%20Y%20coordinate%0Acolor%3A%20number%5B%5D%3B%20%20%20%20%2F%2F%20Particle%20RGB%20color%20array%0A%7D%0Ainterface%20ParticleWordProps%20%7B%0Atext%3F%3A%20string%3B%20%20%20%20%20%20%2F%2F%20Text%20content%20to%20display%0AclassName%3F%3A%20string%3B%20%2F%2F%20Custom%20style%20class%20name%0A%7D%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Particle%20Class%3A%20Each%20Particle's%20Agent%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aclass%20Particle%20%7B%0A%2F%2F%20Position-related%20properties%0Ax%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Current%20X%20coordinate%0Ay%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Current%20Y%20coordinate%0AtotalX%3A%20number%3B%20%20%20%20%20%2F%2F%20Target%20X%20coordinate%0AtotalY%3A%20number%3B%20%20%20%20%20%2F%2F%20Target%20Y%20coordinate%0A%2F%2F%20Motion-related%20properties%0Amx%3A%20number%20%3D%200%3B%20%20%20%20%20%2F%2F%20X-axis%20movement%20distance%0Amy%3A%20number%20%3D%200%3B%20%20%20%20%20%2F%2F%20Y-axis%20movement%20distance%0Avx%3A%20number%20%3D%200%3B%20%20%20%20%20%2F%2F%20X-axis%20velocity%0Avy%3A%20number%20%3D%200%3B%20%20%20%20%20%2F%2F%20Y-axis%20velocity%0Atime%3A%20number%3B%20%20%20%20%20%20%20%2F%2F%20Time%20required%20to%20reach%20target%0A%2F%2F%20Visual-related%20properties%0Ar%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Particle%20radius%0Acolor%3A%20number%5B%5D%3B%20%20%20%20%2F%2F%20Particle%20color%20(RGB%20array)%0Aopacity%3A%20number%3B%20%20%20%20%2F%2F%20Opacity%0A%2F**%0A*%20Particle%20constructor%0A*%20%40param%20totalX%20Target%20X%20coordinate%0A*%20%40param%20totalY%20Target%20Y%20coordinate%0A*%20%40param%20time%20Animation%20time%0A*%20%40param%20color%20Particle%20color%0A*%2F%0Aconstructor(totalX%3A%20number%2C%20totalY%3A%20number%2C%20time%3A%20number%2C%20color%3A%20number%5B%5D)%20%7B%0A%2F%2F%20Random%20initial%20position%3A%20let%20particles%20%22fly%20toward%22%20target%20position%20from%20everywhere%20on%20canvas%0Athis.x%20%3D%20Math.random()%20*%20CANVAS_WIDTH%3B%0Athis.y%20%3D%20Math.random()%20*%20CANVAS_HEIGHT%3B%0A%2F%2F%20Set%20target%20position%0Athis.totalX%20%3D%20totalX%3B%0Athis.totalY%20%3D%20totalY%3B%0A%2F%2F%20Set%20animation%20parameters%0Athis.time%20%3D%20time%3B%0Athis.r%20%3D%201.2%3B%20%20%2F%2F%20Particle%20size%0A%2F%2F%20Copy%20color%20array%20to%20avoid%20reference%20issues%0Athis.color%20%3D%20%5B...color%5D%3B%0Athis.opacity%20%3D%200%3B%20%20%2F%2F%20Initial%20opacity%20is%200%2C%20implementing%20fade-in%20effect%0A%7D%0A%2F**%0A*%20Draw%20particle%20to%20Canvas%0A*%20%40param%20ctx%20Canvas%202D%20context%0A*%2F%0Adraw(ctx%3A%20CanvasRenderingContext2D)%20%7B%0A%2F%2F%20Set%20fill%20and%20stroke%20colors%20including%20opacity%0Actx.fillStyle%20%3D%20%60rgba(%24%7Bthis.color.join('%2C')%7D%2C%20%24%7Bthis.opacity%7D)%60%3B%0Actx.strokeStyle%20%3D%20%60rgba(%24%7Bthis.color.join('%2C')%7D%2C%20%24%7Bthis.opacity%7D)%60%3B%0A%2F%2F%20Draw%20rectangular%20particle%20(better%20performance%20than%20circles)%0Actx.fillRect(this.x%2C%20this.y%2C%20this.r%20*%202%2C%20this.r%20*%202)%3B%0A%7D%0A%2F**%0A*%20Update%20particle%20state%0A*%20%40param%20mouseX%20Mouse%20X%20coordinate%20(optional)%0A*%20%40param%20mouseY%20Mouse%20Y%20coordinate%20(optional)%0A*%2F%0Aupdate(mouseX%3F%3A%20number%2C%20mouseY%3F%3A%20number)%20%7B%0A%2F%2F%20Calculate%20distance%20to%20target%20position%0Athis.mx%20%3D%20this.totalX%20-%20this.x%3B%0Athis.my%20%3D%20this.totalY%20-%20this.y%3B%0A%2F%2F%20Calculate%20base%20velocity%3A%20distance%20divided%20by%20time%2C%20implementing%20gradual%20approach%20effect%0Athis.vx%20%3D%20this.mx%20%2F%20this.time%3B%0Athis.vy%20%3D%20this.my%20%2F%20this.time%3B%0A%2F%2F%20Mouse%20interaction%3A%20calculate%20repulsion%20force%0Aif%20(mouseX%20!%3D%3D%20undefined%20%26%26%20mouseY%20!%3D%3D%20undefined%20%26%26%20mouseX%20%3E%200%20%26%26%20mouseY%20%3E%200)%20%7B%0A%2F%2F%20Calculate%20distance%20between%20mouse%20and%20particle%0Aconst%20dx%20%3D%20mouseX%20-%20this.x%3B%0Aconst%20dy%20%3D%20mouseY%20-%20this.y%3B%0Aconst%20distance%20%3D%20Math.sqrt(dx%20**%202%20%2B%20dy%20**%202)%3B%0A%2F%2F%20If%20within%20interaction%20radius%2C%20apply%20repulsion%20force%0Aif%20(distance%20RADIUS)%20%7B%0A%2F%2F%20Calculate%20repulsion%20force%20intensity%3A%20closer%20distance%2C%20greater%20force%0Alet%20disPercent%20%3D%20RADIUS%20%2F%20distance%3B%0A%2F%2F%20Limit%20maximum%20repulsion%20force%20to%20prevent%20particles%20from%20%22flying%20out%20of%20the%20galaxy%22%0AdisPercent%20%3D%20disPercent%20%3E%207%20%3F%207%20%3A%20disPercent%3B%0A%2F%2F%20Calculate%20repulsion%20force%20direction%0Aconst%20angle%20%3D%20Math.atan2(dy%2C%20dx)%3B%0Aconst%20cos%20%3D%20Math.cos(angle)%3B%0Aconst%20sin%20%3D%20Math.sin(angle)%3B%0A%2F%2F%20Calculate%20repulsion%20force%20components%20(negative%20sign%20indicates%20repulsion)%0Aconst%20repX%20%3D%20cos%20*%20disPercent%20*%20-INTENSITY%3B%0Aconst%20repY%20%3D%20sin%20*%20disPercent%20*%20-INTENSITY%3B%0A%2F%2F%20Add%20repulsion%20force%20to%20velocity%0Athis.vx%20%2B%3D%20repX%3B%0Athis.vy%20%2B%3D%20repY%3B%0A%7D%0A%7D%0A%2F%2F%20Update%20position%0Athis.x%20%2B%3D%20this.vx%3B%0Athis.y%20%2B%3D%20this.vy%3B%0A%2F%2F%20Fade-in%20effect%3A%20gradually%20increase%20opacity%0Aif%20(this.opacity%201)%20this.opacity%20%2B%3D%20OPACITY_STEP%3B%0A%7D%0A%7D%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Particle%20Canvas%20Management%20Class%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aclass%20ParticleCanvas%20%7B%0Acanvas%3A%20HTMLCanvasElement%3B%20%20%20%20%20%20%2F%2F%20Canvas%20element%0Actx%3A%20CanvasRenderingContext2D%3B%20%20%2F%2F%202D%20drawing%20context%0Aparticles%3A%20Particle%5B%5D%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20Particle%20array%0AmouseX%3A%20number%20%3D%200%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Mouse%20X%20coordinate%0AmouseY%3A%20number%20%3D%200%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Mouse%20Y%20coordinate%0AanimationId%3A%20number%20%3D%200%3B%20%20%20%20%20%20%20%20%2F%2F%20Animation%20ID%20for%20canceling%20animation%0A%2F**%0A*%20Constructor%0A*%20%40param%20canvas%20Canvas%20element%0A*%2F%0Aconstructor(canvas%3A%20HTMLCanvasElement)%20%7B%0Athis.canvas%20%3D%20canvas%3B%0Athis.ctx%20%3D%20canvas.getContext('2d')!%3B%0Athis.particles%20%3D%20%5B%5D%3B%0Athis.setupMouseEvents()%3B%0A%7D%0A%2F**%0A*%20Setup%20mouse%20event%20listeners%0A*%2F%0AsetupMouseEvents()%20%7B%0A%2F%2F%20Mouse%20move%20event%3A%20update%20mouse%20coordinates%0Athis.canvas.addEventListener('mousemove'%2C%20(e)%20%3D%3E%20%7B%0Aconst%20rect%20%3D%20this.canvas.getBoundingClientRect()%3B%0A%2F%2F%20Convert%20screen%20coordinates%20to%20Canvas%20coordinates%0Athis.mouseX%20%3D%20e.clientX%20-%20rect.left%3B%0Athis.mouseY%20%3D%20e.clientY%20-%20rect.top%3B%0A%7D)%3B%0A%2F%2F%20Mouse%20leave%20event%3A%20clear%20mouse%20coordinates%0Athis.canvas.addEventListener('mouseleave'%2C%20()%20%3D%3E%20%7B%0Athis.mouseX%20%3D%200%3B%0Athis.mouseY%20%3D%200%3B%0A%7D)%3B%0A%7D%0A%2F**%0A*%20Generate%20particles%20based%20on%20text%0A*%20%40param%20text%20Text%20to%20display%0A*%20%40param%20color%20Particle%20color%20(hexadecimal)%0A*%2F%0AgenerateTextParticles(text%3A%20string%2C%20color%3A%20string%20%3D%20'%23000000')%20%7B%0A%2F%2F%20Create%20temporary%20Canvas%20for%20text%20rendering%0Aconst%20tempCanvas%20%3D%20document.createElement('canvas')%3B%0Aconst%20tempCtx%20%3D%20tempCanvas.getContext('2d')!%3B%0AtempCanvas.width%20%3D%20CANVAS_WIDTH%3B%0AtempCanvas.height%20%3D%20CANVAS_HEIGHT%3B%0A%2F%2F%20Set%20text%20style%0AtempCtx.font%20%3D%20'bold%20100px%20Arial%2C%20sans-serif'%3B%0AtempCtx.textAlign%20%3D%20'center'%3B%0AtempCtx.textBaseline%20%3D%20'middle'%3B%0A%2F%2F%20Draw%20text%20on%20temporary%20Canvas%0AtempCtx.fillText(text%2C%20CANVAS_WIDTH%20%2F%202%2C%20CANVAS_HEIGHT%20%2F%202)%3B%0A%2F%2F%20Get%20pixel%20data%0Aconst%20imageData%20%3D%20tempCtx.getImageData(0%2C%200%2C%20CANVAS_WIDTH%2C%20CANVAS_HEIGHT)%3B%0Aconst%20data%20%3D%20imageData.data%3B%0Aconst%20particles%3A%20ParticleData%5B%5D%20%3D%20%5B%5D%3B%0A%2F%2F%20Convert%20hexadecimal%20color%20to%20RGB%20array%0Aconst%20rgbColor%20%3D%20hexToRGB(color)%3B%0A%2F%2F%20Pixel%20sampling%3A%20sample%20every%203%20pixels%2C%20balancing%20performance%20and%20quality%0Afor%20(let%20y%20%3D%200%3B%20y%20CANVAS_HEIGHT%3B%20y%20%2B%3D%203)%20%7B%0Afor%20(let%20x%20%3D%200%3B%20x%20CANVAS_WIDTH%3B%20x%20%2B%3D%203)%20%7B%0A%2F%2F%20Calculate%20pixel%20index%20in%20ImageData%0Aconst%20index%20%3D%20(x%20%2B%20y%20*%20CANVAS_WIDTH)%20*%204%3B%0A%2F%2F%20Get%20Alpha%20channel%20value%0Aconst%20a%20%3D%20data%5Bindex%20%2B%203%5D%3B%0A%2F%2F%20Only%20generate%20particles%20for%20pixels%20with%20Alpha%20value%20greater%20than%20128%0Aif%20(a%20%3E%20128)%20%7B%0Aparticles.push(%7B%0Ax%2C%0Ay%2C%0Acolor%3A%20%5B...rgbColor%5D%0A%7D)%3B%0A%7D%0A%7D%0A%7D%0A%2F%2F%20Create%20Particle%20instances%20for%20each%20particle%20data%0Athis.particles%20%3D%20particles.map(%0Aparticle%20%3D%3E%20new%20Particle(particle.x%2C%20particle.y%2C%20ANIMATE_TIME%2C%20particle.color)%0A)%3B%0A%7D%0A%2F**%0A*%20Animation%20loop%20function%0A*%2F%0Aanimate()%20%7B%0A%2F%2F%20Clear%20canvas%0Athis.ctx.clearRect(0%2C%200%2C%20CANVAS_WIDTH%2C%20CANVAS_HEIGHT)%3B%0A%2F%2F%20Update%20and%20draw%20each%20particle%0Athis.particles.forEach(particle%20%3D%3E%20%7B%0Aparticle.update(this.mouseX%2C%20this.mouseY)%3B%0Aparticle.draw(this.ctx)%3B%0A%7D)%3B%0A%2F%2F%20Request%20next%20animation%20frame%0Athis.animationId%20%3D%20requestAnimationFrame(()%20%3D%3E%20this.animate())%3B%0A%7D%0A%2F**%0A*%20Destroy%20particle%20system%2C%20clean%20up%20resources%0A*%2F%0Adestroy()%20%7B%0Aif%20(this.animationId)%20%7B%0AcancelAnimationFrame(this.animationId)%3B%0A%7D%0A%7D%0A%7D%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20React%20Component%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aexport%20const%20ParticleWord%3A%20React.FCParticleWordProps%3E%20%3D%20(%7B%0Atext%20%3D%20'MilkWind'%2C%20%20%2F%2F%20Default%20text%0AclassName%20%3D%20''%20%20%20%20%20%20%2F%2F%20Default%20style%20class%0A%7D)%20%3D%3E%20%7B%0A%2F%2F%20React%20Hooks%0Aconst%20canvasRef%20%3D%20useRefHTMLCanvasElement%3E(null)%3B%0Aconst%20particleCanvasRef%20%3D%20useRefParticleCanvas%20%7C%20null%3E(null)%3B%0Aconst%20%5BisLoaded%2C%20setIsLoaded%5D%20%3D%20useState(false)%3B%0Aconst%20%7BcurrentTheme%7D%20%3D%20useThemeStore()%3B%0A%2F%2F%20Component%20lifecycle%20management%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(canvasRef.current)%20%7B%0A%2F%2F%20Clean%20up%20old%20particle%20system%0Aif%20(particleCanvasRef.current)%20%7B%0AparticleCanvasRef.current.destroy()%3B%0A%7D%0A%2F%2F%20Create%20new%20particle%20system%0AparticleCanvasRef.current%20%3D%20new%20ParticleCanvas(canvasRef.current)%3B%0AparticleCanvasRef.current.generateTextParticles(text%2C%20currentTheme.colors.primary)%3B%0AparticleCanvasRef.current.animate()%3B%0AsetIsLoaded(true)%3B%0A%7D%0A%2F%2F%20Cleanup%20function%3A%20clean%20up%20resources%20when%20component%20unmounts%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(particleCanvasRef.current)%20%7B%0AparticleCanvasRef.current.destroy()%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5Btext%2C%20currentTheme.colors.primary%5D)%3B%20%2F%2F%20Dependency%20array%3A%20recreate%20when%20text%20or%20theme%20color%20changes%0Areturn%20(%0Adiv%20className%3D%7B%60flex%20justify-center%20items-center%20%24%7BclassName%7D%60%7D%3E%0Adiv%20className%3D%22relative%22%3E%0A%7B%2F*%20Canvas%20element%20*%2F%7D%0Acanvas%0Aref%3D%7BcanvasRef%7D%0Awidth%3D%7BCANVAS_WIDTH%7D%0Aheight%3D%7BCANVAS_HEIGHT%7D%0AclassName%3D%22rounded-lg%20cursor-default%22%0Astyle%3D%7B%7B%0AmaxWidth%3A%20'100%25'%2C%0Aheight%3A%20'auto'%2C%0A%7D%7D%0A%2F%3E%0A%7B%2F*%20Loading%20status%20indicator%20*%2F%7D%0A%7B!isLoaded%20%26%26%20(%0Adiv%0AclassName%3D%22absolute%20inset-0%20flex%20items-center%20justify-center%22%0Astyle%3D%7B%7Bcolor%3A%20currentTheme.colors.foreground%7D%7D%0A%3E%0ALoading%20particle%20animation...%0Adiv%3E%0A)%7D%0Adiv%3E%0Adiv%3E%0A)%3B%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-string inline">&#x27;use client&#x27;</span>;

<span class="hljs-keyword inline">import</span> <span class="hljs-title class_ inline">React</span>, {useEffect, useRef, useState} <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;react&#x27;</span>;
<span class="hljs-keyword inline">import</span> {useThemeStore} <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;@/lib/stores/themeStore&#x27;</span>;
<span class="hljs-keyword inline">import</span> {hexToRGB} <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&quot;@/lib/utils/color&quot;</span>;

<span class="hljs-comment inline">// ==================== Core Configuration Constants ====================</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span> = <span class="hljs-number inline">600</span>;   <span class="hljs-comment inline">// Canvas width</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span> = <span class="hljs-number inline">200</span>;  <span class="hljs-comment inline">// Canvas height</span>

<span class="hljs-comment inline">// Animation parameters</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">ANIMATE_TIME</span> = <span class="hljs-number inline">30</span>;    <span class="hljs-comment inline">// Particle animation time (frames)</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">OPACITY_STEP</span> = <span class="hljs-number inline">1</span> / <span class="hljs-variable constant_ inline">ANIMATE_TIME</span>;  <span class="hljs-comment inline">// Opacity gradient step</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">RADIUS</span> = <span class="hljs-number inline">40</span>;          <span class="hljs-comment inline">// Mouse interaction radius</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">INTENSITY</span> = <span class="hljs-number inline">0.95</span>;     <span class="hljs-comment inline">// Mouse repulsion intensity</span>

<span class="hljs-comment inline">// ==================== Type Definitions ====================</span>
<span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">ParticleData</span> {
    <span class="hljs-attr inline">x</span>: <span class="hljs-built_in inline">number</span>;          <span class="hljs-comment inline">// Particle target X coordinate</span>
    <span class="hljs-attr inline">y</span>: <span class="hljs-built_in inline">number</span>;          <span class="hljs-comment inline">// Particle target Y coordinate</span>
    <span class="hljs-attr inline">color</span>: <span class="hljs-built_in inline">number</span>[];    <span class="hljs-comment inline">// Particle RGB color array</span>
}

<span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">ParticleWordProps</span> {
    <span class="hljs-attr inline">text</span>?: <span class="hljs-built_in inline">string</span>;      <span class="hljs-comment inline">// Text content to display</span>
    <span class="hljs-attr inline">className</span>?: <span class="hljs-built_in inline">string</span>; <span class="hljs-comment inline">// Custom style class name</span>
}

<span class="hljs-comment inline">// ==================== Particle Class: Each Particle&#x27;s Agent ====================</span>
<span class="hljs-keyword inline">class</span> <span class="hljs-title class_ inline">Particle</span> {
    <span class="hljs-comment inline">// Position-related properties</span>
    <span class="hljs-attr inline">x</span>: <span class="hljs-built_in inline">number</span>;          <span class="hljs-comment inline">// Current X coordinate</span>
    <span class="hljs-attr inline">y</span>: <span class="hljs-built_in inline">number</span>;          <span class="hljs-comment inline">// Current Y coordinate</span>
    <span class="hljs-attr inline">totalX</span>: <span class="hljs-built_in inline">number</span>;     <span class="hljs-comment inline">// Target X coordinate</span>
    <span class="hljs-attr inline">totalY</span>: <span class="hljs-built_in inline">number</span>;     <span class="hljs-comment inline">// Target Y coordinate</span>
    
    <span class="hljs-comment inline">// Motion-related properties</span>
    <span class="hljs-attr inline">mx</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;     <span class="hljs-comment inline">// X-axis movement distance</span>
    <span class="hljs-attr inline">my</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;     <span class="hljs-comment inline">// Y-axis movement distance</span>
    <span class="hljs-attr inline">vx</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;     <span class="hljs-comment inline">// X-axis velocity</span>
    <span class="hljs-attr inline">vy</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;     <span class="hljs-comment inline">// Y-axis velocity</span>
    <span class="hljs-attr inline">time</span>: <span class="hljs-built_in inline">number</span>;       <span class="hljs-comment inline">// Time required to reach target</span>
    
    <span class="hljs-comment inline">// Visual-related properties</span>
    <span class="hljs-attr inline">r</span>: <span class="hljs-built_in inline">number</span>;          <span class="hljs-comment inline">// Particle radius</span>
    <span class="hljs-attr inline">color</span>: <span class="hljs-built_in inline">number</span>[];    <span class="hljs-comment inline">// Particle color (RGB array)</span>
    <span class="hljs-attr inline">opacity</span>: <span class="hljs-built_in inline">number</span>;    <span class="hljs-comment inline">// Opacity</span>

    <span class="hljs-comment inline">/**
     * Particle constructor
     * <span class="hljs-doctag inline">@param</span> totalX Target X coordinate
     * <span class="hljs-doctag inline">@param</span> totalY Target Y coordinate
     * <span class="hljs-doctag inline">@param</span> time Animation time
     * <span class="hljs-doctag inline">@param</span> color Particle color
     */</span>
    <span class="hljs-title function_ inline">constructor</span>(<span class="hljs-params inline"><span class="hljs-attr inline">totalX</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">totalY</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">time</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">color</span>: <span class="hljs-built_in inline">number</span>[]</span>) {
        <span class="hljs-comment inline">// Random initial position: let particles &quot;fly toward&quot; target position from everywhere on canvas</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span> = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>() * <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span> = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>() * <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>;
        
        <span class="hljs-comment inline">// Set target position</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalX</span> = totalX;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalY</span> = totalY;
        
        <span class="hljs-comment inline">// Set animation parameters</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">time</span> = time;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">r</span> = <span class="hljs-number inline">1.2</span>;  <span class="hljs-comment inline">// Particle size</span>
        
        <span class="hljs-comment inline">// Copy color array to avoid reference issues</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">color</span> = [...color];
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">opacity</span> = <span class="hljs-number inline">0</span>;  <span class="hljs-comment inline">// Initial opacity is 0, implementing fade-in effect</span>
    }

    <span class="hljs-comment inline">/**
     * Draw particle to Canvas
     * <span class="hljs-doctag inline">@param</span> ctx Canvas 2D context
     */</span>
    <span class="hljs-title function_ inline">draw</span>(<span class="hljs-params inline"><span class="hljs-attr inline">ctx</span>: <span class="hljs-title class_ inline">CanvasRenderingContext2D</span></span>) {
        <span class="hljs-comment inline">// Set fill and stroke colors including opacity</span>
        ctx.<span class="hljs-property inline">fillStyle</span> = <span class="hljs-string inline">`rgba(<span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.color.join(<span class="hljs-string inline">&#x27;,&#x27;</span>)}</span>, <span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.opacity}</span>)`</span>;
        ctx.<span class="hljs-property inline">strokeStyle</span> = <span class="hljs-string inline">`rgba(<span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.color.join(<span class="hljs-string inline">&#x27;,&#x27;</span>)}</span>, <span class="hljs-subst inline">${<span class="hljs-variable language_ inline">this</span>.opacity}</span>)`</span>;
        
        <span class="hljs-comment inline">// Draw rectangular particle (better performance than circles)</span>
        ctx.<span class="hljs-title function_ inline">fillRect</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span>, <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span>, <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">r</span> * <span class="hljs-number inline">2</span>, <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">r</span> * <span class="hljs-number inline">2</span>);
    }

    <span class="hljs-comment inline">/**
     * Update particle state
     * <span class="hljs-doctag inline">@param</span> mouseX Mouse X coordinate (optional)
     * <span class="hljs-doctag inline">@param</span> mouseY Mouse Y coordinate (optional)
     */</span>
    <span class="hljs-title function_ inline">update</span>(<span class="hljs-params inline"><span class="hljs-attr inline">mouseX</span>?: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">mouseY</span>?: <span class="hljs-built_in inline">number</span></span>) {
        <span class="hljs-comment inline">// Calculate distance to target position</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mx</span> = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalX</span> - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span>;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">my</span> = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalY</span> - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span>;
        
        <span class="hljs-comment inline">// Calculate base velocity: distance divided by time, implementing gradual approach effect</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vx</span> = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mx</span> / <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">time</span>;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vy</span> = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">my</span> / <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">time</span>;

        <span class="hljs-comment inline">// Mouse interaction: calculate repulsion force</span>
        <span class="hljs-keyword inline">if</span> (mouseX !== <span class="hljs-literal inline">undefined</span> &amp;&amp; mouseY !== <span class="hljs-literal inline">undefined</span> &amp;&amp; mouseX &gt; <span class="hljs-number inline">0</span> &amp;&amp; mouseY &gt; <span class="hljs-number inline">0</span>) {
            <span class="hljs-comment inline">// Calculate distance between mouse and particle</span>
            <span class="hljs-keyword inline">const</span> dx = mouseX - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span>;
            <span class="hljs-keyword inline">const</span> dy = mouseY - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span>;
            <span class="hljs-keyword inline">const</span> distance = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sqrt</span>(dx ** <span class="hljs-number inline">2</span> + dy ** <span class="hljs-number inline">2</span>);

            <span class="hljs-comment inline">// If within interaction radius, apply repulsion force</span>
            <span class="hljs-keyword inline">if</span> (distance &lt; <span class="hljs-variable constant_ inline">RADIUS</span>) {
                <span class="hljs-comment inline">// Calculate repulsion force intensity: closer distance, greater force</span>
                <span class="hljs-keyword inline">let</span> disPercent = <span class="hljs-variable constant_ inline">RADIUS</span> / distance;
                <span class="hljs-comment inline">// Limit maximum repulsion force to prevent particles from &quot;flying out of the galaxy&quot;</span>
                disPercent = disPercent &gt; <span class="hljs-number inline">7</span> ? <span class="hljs-number inline">7</span> : disPercent;

                <span class="hljs-comment inline">// Calculate repulsion force direction</span>
                <span class="hljs-keyword inline">const</span> angle = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">atan2</span>(dy, dx);
                <span class="hljs-keyword inline">const</span> cos = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">cos</span>(angle);
                <span class="hljs-keyword inline">const</span> sin = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(angle);

                <span class="hljs-comment inline">// Calculate repulsion force components (negative sign indicates repulsion)</span>
                <span class="hljs-keyword inline">const</span> repX = cos * disPercent * -<span class="hljs-variable constant_ inline">INTENSITY</span>;
                <span class="hljs-keyword inline">const</span> repY = sin * disPercent * -<span class="hljs-variable constant_ inline">INTENSITY</span>;
                
                <span class="hljs-comment inline">// Add repulsion force to velocity</span>
                <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vx</span> += repX;
                <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vy</span> += repY;
            }
        }

        <span class="hljs-comment inline">// Update position</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span> += <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vx</span>;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">y</span> += <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vy</span>;
        
        <span class="hljs-comment inline">// Fade-in effect: gradually increase opacity</span>
        <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">opacity</span> &lt; <span class="hljs-number inline">1</span>) <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">opacity</span> += <span class="hljs-variable constant_ inline">OPACITY_STEP</span>;
    }
}

<span class="hljs-comment inline">// ==================== Particle Canvas Management Class ====================</span>
<span class="hljs-keyword inline">class</span> <span class="hljs-title class_ inline">ParticleCanvas</span> {
    <span class="hljs-attr inline">canvas</span>: <span class="hljs-title class_ inline">HTMLCanvasElement</span>;      <span class="hljs-comment inline">// Canvas element</span>
    <span class="hljs-attr inline">ctx</span>: <span class="hljs-title class_ inline">CanvasRenderingContext2D</span>;  <span class="hljs-comment inline">// 2D drawing context</span>
    <span class="hljs-attr inline">particles</span>: <span class="hljs-title class_ inline">Particle</span>[];          <span class="hljs-comment inline">// Particle array</span>
    <span class="hljs-attr inline">mouseX</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;             <span class="hljs-comment inline">// Mouse X coordinate</span>
    <span class="hljs-attr inline">mouseY</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;             <span class="hljs-comment inline">// Mouse Y coordinate</span>
    <span class="hljs-attr inline">animationId</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">0</span>;        <span class="hljs-comment inline">// Animation ID for canceling animation</span>

    <span class="hljs-comment inline">/**
     * Constructor
     * <span class="hljs-doctag inline">@param</span> canvas Canvas element
     */</span>
    <span class="hljs-title function_ inline">constructor</span>(<span class="hljs-params inline"><span class="hljs-attr inline">canvas</span>: <span class="hljs-title class_ inline">HTMLCanvasElement</span></span>) {
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">canvas</span> = canvas;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">ctx</span> = canvas.<span class="hljs-title function_ inline">getContext</span>(<span class="hljs-string inline">&#x27;2d&#x27;</span>)!;
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">particles</span> = [];
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">setupMouseEvents</span>();
    }

    <span class="hljs-comment inline">/**
     * Setup mouse event listeners
     */</span>
    <span class="hljs-title function_ inline">setupMouseEvents</span>(<span class="hljs-params inline"></span>) {
        <span class="hljs-comment inline">// Mouse move event: update mouse coordinates</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">canvas</span>.<span class="hljs-title function_ inline">addEventListener</span>(<span class="hljs-string inline">&#x27;mousemove&#x27;</span>, <span class="hljs-function inline">(<span class="hljs-params inline">e</span>) =&gt;</span> {
            <span class="hljs-keyword inline">const</span> rect = <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">canvas</span>.<span class="hljs-title function_ inline">getBoundingClientRect</span>();
            <span class="hljs-comment inline">// Convert screen coordinates to Canvas coordinates</span>
            <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseX</span> = e.<span class="hljs-property inline">clientX</span> - rect.<span class="hljs-property inline">left</span>;
            <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseY</span> = e.<span class="hljs-property inline">clientY</span> - rect.<span class="hljs-property inline">top</span>;
        });

        <span class="hljs-comment inline">// Mouse leave event: clear mouse coordinates</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">canvas</span>.<span class="hljs-title function_ inline">addEventListener</span>(<span class="hljs-string inline">&#x27;mouseleave&#x27;</span>, <span class="hljs-function inline">() =&gt;</span> {
            <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseX</span> = <span class="hljs-number inline">0</span>;
            <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseY</span> = <span class="hljs-number inline">0</span>;
        });
    }

    <span class="hljs-comment inline">/**
     * Generate particles based on text
     * <span class="hljs-doctag inline">@param</span> text Text to display
     * <span class="hljs-doctag inline">@param</span> color Particle color (hexadecimal)
     */</span>
    <span class="hljs-title function_ inline">generateTextParticles</span>(<span class="hljs-params inline"><span class="hljs-attr inline">text</span>: <span class="hljs-built_in inline">string</span>, <span class="hljs-attr inline">color</span>: <span class="hljs-built_in inline">string</span> = <span class="hljs-string inline">&#x27;#000000&#x27;</span></span>) {
        <span class="hljs-comment inline">// Create temporary Canvas for text rendering</span>
        <span class="hljs-keyword inline">const</span> tempCanvas = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">createElement</span>(<span class="hljs-string inline">&#x27;canvas&#x27;</span>);
        <span class="hljs-keyword inline">const</span> tempCtx = tempCanvas.<span class="hljs-title function_ inline">getContext</span>(<span class="hljs-string inline">&#x27;2d&#x27;</span>)!;
        tempCanvas.<span class="hljs-property inline">width</span> = <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>;
        tempCanvas.<span class="hljs-property inline">height</span> = <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>;

        <span class="hljs-comment inline">// Set text style</span>
        tempCtx.<span class="hljs-property inline">font</span> = <span class="hljs-string inline">&#x27;bold 100px Arial, sans-serif&#x27;</span>;
        tempCtx.<span class="hljs-property inline">textAlign</span> = <span class="hljs-string inline">&#x27;center&#x27;</span>;
        tempCtx.<span class="hljs-property inline">textBaseline</span> = <span class="hljs-string inline">&#x27;middle&#x27;</span>;

        <span class="hljs-comment inline">// Draw text on temporary Canvas</span>
        tempCtx.<span class="hljs-title function_ inline">fillText</span>(text, <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span> / <span class="hljs-number inline">2</span>, <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span> / <span class="hljs-number inline">2</span>);

        <span class="hljs-comment inline">// Get pixel data</span>
        <span class="hljs-keyword inline">const</span> imageData = tempCtx.<span class="hljs-title function_ inline">getImageData</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">0</span>, <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>, <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>);
        <span class="hljs-keyword inline">const</span> data = imageData.<span class="hljs-property inline">data</span>;

        <span class="hljs-keyword inline">const</span> <span class="hljs-attr inline">particles</span>: <span class="hljs-title class_ inline">ParticleData</span>[] = [];
        
        <span class="hljs-comment inline">// Convert hexadecimal color to RGB array</span>
        <span class="hljs-keyword inline">const</span> rgbColor = <span class="hljs-title function_ inline">hexToRGB</span>(color);

        <span class="hljs-comment inline">// Pixel sampling: sample every 3 pixels, balancing performance and quality</span>
        <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> y = <span class="hljs-number inline">0</span>; y &lt; <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>; y += <span class="hljs-number inline">3</span>) {
            <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> x = <span class="hljs-number inline">0</span>; x &lt; <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>; x += <span class="hljs-number inline">3</span>) {
                <span class="hljs-comment inline">// Calculate pixel index in ImageData</span>
                <span class="hljs-keyword inline">const</span> index = (x + y * <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>) * <span class="hljs-number inline">4</span>;
                <span class="hljs-comment inline">// Get Alpha channel value</span>
                <span class="hljs-keyword inline">const</span> a = data[index + <span class="hljs-number inline">3</span>];

                <span class="hljs-comment inline">// Only generate particles for pixels with Alpha value greater than 128</span>
                <span class="hljs-keyword inline">if</span> (a &gt; <span class="hljs-number inline">128</span>) {
                    particles.<span class="hljs-title function_ inline">push</span>({
                        x,
                        y,
                        <span class="hljs-attr inline">color</span>: [...rgbColor]
                    });
                }
            }
        }

        <span class="hljs-comment inline">// Create Particle instances for each particle data</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">particles</span> = particles.<span class="hljs-title function_ inline">map</span>(
            <span class="hljs-function inline"><span class="hljs-params inline">particle</span> =&gt;</span> <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Particle</span>(particle.<span class="hljs-property inline">x</span>, particle.<span class="hljs-property inline">y</span>, <span class="hljs-variable constant_ inline">ANIMATE_TIME</span>, particle.<span class="hljs-property inline">color</span>)
        );
    }

    <span class="hljs-comment inline">/**
     * Animation loop function
     */</span>
    <span class="hljs-title function_ inline">animate</span>(<span class="hljs-params inline"></span>) {
        <span class="hljs-comment inline">// Clear canvas</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">ctx</span>.<span class="hljs-title function_ inline">clearRect</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">0</span>, <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>, <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>);

        <span class="hljs-comment inline">// Update and draw each particle</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">particles</span>.<span class="hljs-title function_ inline">forEach</span>(<span class="hljs-function inline"><span class="hljs-params inline">particle</span> =&gt;</span> {
            particle.<span class="hljs-title function_ inline">update</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseX</span>, <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">mouseY</span>);
            particle.<span class="hljs-title function_ inline">draw</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">ctx</span>);
        });

        <span class="hljs-comment inline">// Request next animation frame</span>
        <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span> = <span class="hljs-title function_ inline">requestAnimationFrame</span>(<span class="hljs-function inline">() =&gt;</span> <span class="hljs-variable language_ inline">this</span>.<span class="hljs-title function_ inline">animate</span>());
    }

    <span class="hljs-comment inline">/**
     * Destroy particle system, clean up resources
     */</span>
    <span class="hljs-title function_ inline">destroy</span>(<span class="hljs-params inline"></span>) {
        <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span>) {
            <span class="hljs-title function_ inline">cancelAnimationFrame</span>(<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">animationId</span>);
        }
    }
}

<span class="hljs-comment inline">// ==================== React Component ====================</span>
<span class="hljs-keyword inline">export</span> <span class="hljs-keyword inline">const</span> <span class="hljs-title class_ inline">ParticleWord</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-property inline">FC</span>&lt;<span class="hljs-title class_ inline">ParticleWordProps</span>&gt; = <span class="hljs-function inline">(<span class="hljs-params inline">{
    text = <span class="hljs-string inline">&#x27;MilkWind&#x27;</span>,  // Default text
    className = <span class="hljs-string inline">&#x27;&#x27;</span>      // Default style <span class="hljs-keyword inline">class</span>
}</span>) =&gt;</span> {
    <span class="hljs-comment inline">// React Hooks</span>
    <span class="hljs-keyword inline">const</span> canvasRef = useRef&lt;<span class="hljs-title class_ inline">HTMLCanvasElement</span>&gt;(<span class="hljs-literal inline">null</span>);
    <span class="hljs-keyword inline">const</span> particleCanvasRef = useRef&lt;<span class="hljs-title class_ inline">ParticleCanvas</span> | <span class="hljs-literal inline">null</span>&gt;(<span class="hljs-literal inline">null</span>);
    <span class="hljs-keyword inline">const</span> [isLoaded, setIsLoaded] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);
    <span class="hljs-keyword inline">const</span> {currentTheme} = <span class="hljs-title function_ inline">useThemeStore</span>();

    <span class="hljs-comment inline">// Component lifecycle management</span>
    <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">if</span> (canvasRef.<span class="hljs-property inline">current</span>) {
            <span class="hljs-comment inline">// Clean up old particle system</span>
            <span class="hljs-keyword inline">if</span> (particleCanvasRef.<span class="hljs-property inline">current</span>) {
                particleCanvasRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">destroy</span>();
            }
            
            <span class="hljs-comment inline">// Create new particle system</span>
            particleCanvasRef.<span class="hljs-property inline">current</span> = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">ParticleCanvas</span>(canvasRef.<span class="hljs-property inline">current</span>);
            particleCanvasRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">generateTextParticles</span>(text, currentTheme.<span class="hljs-property inline">colors</span>.<span class="hljs-property inline">primary</span>);
            particleCanvasRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">animate</span>();
            <span class="hljs-title function_ inline">setIsLoaded</span>(<span class="hljs-literal inline">true</span>);
        }

        <span class="hljs-comment inline">// Cleanup function: clean up resources when component unmounts</span>
        <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
            <span class="hljs-keyword inline">if</span> (particleCanvasRef.<span class="hljs-property inline">current</span>) {
                particleCanvasRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">destroy</span>();
            }
        };
    }, [text, currentTheme.<span class="hljs-property inline">colors</span>.<span class="hljs-property inline">primary</span>]); <span class="hljs-comment inline">// Dependency array: recreate when text or theme color changes</span>

    <span class="hljs-keyword inline">return</span> (
        <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">{</span>`<span class="hljs-attr inline">flex</span> <span class="hljs-attr inline">justify-center</span> <span class="hljs-attr inline">items-center</span> ${<span class="hljs-attr inline">className</span>}`}&gt;</span>
            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;relative&quot;</span>&gt;</span>
                {/* Canvas element */}
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">canvas</span>
                    <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{canvasRef}</span>
                    <span class="hljs-attr inline">width</span>=<span class="hljs-string inline">{CANVAS_WIDTH}</span>
                    <span class="hljs-attr inline">height</span>=<span class="hljs-string inline">{CANVAS_HEIGHT}</span>
                    <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;rounded-lg cursor-default&quot;</span>
                    <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{</span>
                        <span class="hljs-attr inline">maxWidth:</span> &#x27;<span class="hljs-attr inline">100</span>%&#x27;,
                        <span class="hljs-attr inline">height:</span> &#x27;<span class="hljs-attr inline">auto</span>&#x27;,
                    }}
                /&gt;</span>
                {/* Loading status indicator */}
                {!isLoaded &amp;&amp; (
                    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>
                        <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;absolute inset-0 flex items-center justify-center&quot;</span>
                        <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{color:</span> <span class="hljs-attr inline">currentTheme.colors.foreground</span>}}
                    &gt;</span>
                        Loading particle animation...
                    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                )}
            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
    );
};
</code></pre>
            </div>
        
<h3 id="core-algorithm-flow-chart" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#core-algorithm-flow-chart" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Core Algorithm Flow Chart">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Core Algorithm Flow Chart
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="Text%20Input%20%E2%86%92%20Off-screen%20Canvas%20Rendering%20%E2%86%92%20Pixel%20Sampling%20%E2%86%92%20Particle%20Generation%20%E2%86%92%20Animation%20Loop%0A%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%0A%22MilkWind%22%20%20Temporary%20canvas%20drawing%20%20%20Every%203%20pixels%20%20%20%20Create%20particle%20objects%20%20RAF%20loop%0A%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%0ASet%20font%20%20%20%20Extract%20pixel%20data%20%20%20%20%20%20%20%20Alpha%3E128%20%20%20%20%20%20%20%20%20Random%20initial%20position%20%20Update%2BDraw%0A%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%0ACenter%20draw%20%20RGBA%20data%20structure%20%20%20%20%20%20Generate%20coords%20%20%20Move%20toward%20target%20%20%20%20%20Mouse%20interaction">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code><span class="hljs-built_in inline">Text</span> <span class="hljs-built_in inline">Input</span> ‚Üí <span class="hljs-built_in inline">Off</span><span class="hljs-operator inline">-</span><span class="hljs-variable inline">screen</span> <span class="hljs-built_in inline">Canvas</span> <span class="hljs-variable inline">Rendering</span> ‚Üí <span class="hljs-variable inline">Pixel</span> <span class="hljs-variable inline">Sampling</span> ‚Üí <span class="hljs-variable inline">Particle</span> <span class="hljs-variable inline">Generation</span> ‚Üí <span class="hljs-variable inline">Animation</span> <span class="hljs-variable inline">Loop</span>
    ‚Üì           ‚Üì                         ‚Üì                ‚Üì                    ‚Üì
 <span class="hljs-string inline">&quot;MilkWind&quot;</span>  <span class="hljs-built_in inline">Temporary</span> <span class="hljs-variable inline">canvas</span> <span class="hljs-variable inline">drawing</span>   <span class="hljs-variable inline">Every</span> <span class="hljs-number inline">3</span> <span class="hljs-variable inline">pixels</span>    <span class="hljs-variable inline">Create</span> <span class="hljs-variable inline">particle</span> <span class="hljs-variable inline">objects</span>  <span class="hljs-variable inline">RAF</span> <span class="hljs-variable inline">loop</span>
    ‚Üì           ‚Üì                         ‚Üì                ‚Üì                    ‚Üì
 <span class="hljs-built_in inline">Set</span> <span class="hljs-variable inline">font</span>    <span class="hljs-built_in inline">Extract</span> <span class="hljs-variable inline">pixel</span> <span class="hljs-variable inline">data</span>        <span class="hljs-variable inline">Alpha</span><span class="hljs-operator inline">&gt;</span><span class="hljs-number inline">128</span>         <span class="hljs-built_in inline">Random</span> <span class="hljs-variable inline">initial</span> <span class="hljs-variable inline">position</span>  <span class="hljs-built_in inline">Update</span><span class="hljs-operator inline">+</span><span class="hljs-variable inline">Draw</span>
    ‚Üì           ‚Üì                         ‚Üì                ‚Üì                    ‚Üì
 <span class="hljs-built_in inline">Center</span> <span class="hljs-variable inline">draw</span>  <span class="hljs-variable inline">RGBA</span> <span class="hljs-variable inline">data</span> <span class="hljs-variable inline">structure</span>      <span class="hljs-variable inline">Generate</span> <span class="hljs-variable inline">coords</span>   <span class="hljs-variable inline">Move</span> <span class="hljs-variable inline">toward</span> <span class="hljs-variable inline">target</span>     <span class="hljs-variable inline">Mouse</span> <span class="hljs-variable inline">interaction</span>
</code></pre>
            </div>
        
<h3 id="key-function-analysis" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#key-function-analysis" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Key Function Analysis">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Key Function Analysis
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">1. Pixel Sampling Core Algorithm</strong></p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20Key%3A%20Sample%20every%203%20pixels%2C%20balancing%20performance%20and%20quality%0Afor%20(let%20y%20%3D%200%3B%20y%20CANVAS_HEIGHT%3B%20y%20%2B%3D%203)%20%7B%0Afor%20(let%20x%20%3D%200%3B%20x%20CANVAS_WIDTH%3B%20x%20%2B%3D%203)%20%7B%0Aconst%20index%20%3D%20(x%20%2B%20y%20*%20CANVAS_WIDTH)%20*%204%3B%20%20%2F%2F%20RGBA%20index%20calculation%0Aconst%20a%20%3D%20data%5Bindex%20%2B%203%5D%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Get%20Alpha%20value%0Aif%20(a%20%3E%20128)%20%7B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Alpha%20threshold%20judgment%0A%2F%2F%20Generate%20particle%20data%0A%7D%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// Key: Sample every 3 pixels, balancing performance and quality</span>
<span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> y = <span class="hljs-number inline">0</span>; y &lt; <span class="hljs-variable constant_ inline">CANVAS_HEIGHT</span>; y += <span class="hljs-number inline">3</span>) {
    <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> x = <span class="hljs-number inline">0</span>; x &lt; <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>; x += <span class="hljs-number inline">3</span>) {
        <span class="hljs-keyword inline">const</span> index = (x + y * <span class="hljs-variable constant_ inline">CANVAS_WIDTH</span>) * <span class="hljs-number inline">4</span>;  <span class="hljs-comment inline">// RGBA index calculation</span>
        <span class="hljs-keyword inline">const</span> a = data[index + <span class="hljs-number inline">3</span>];                  <span class="hljs-comment inline">// Get Alpha value</span>
        <span class="hljs-keyword inline">if</span> (a &gt; <span class="hljs-number inline">128</span>) {                             <span class="hljs-comment inline">// Alpha threshold judgment</span>
            <span class="hljs-comment inline">// Generate particle data</span>
        }
    }
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">2. Mouse Interaction Physics Calculation</strong></p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20Key%3A%20Inverse%20proportional%20decay%20%2B%20vector%20decomposition%0Aconst%20distance%20%3D%20Math.sqrt(dx%20**%202%20%2B%20dy%20**%202)%3B%20%20%20%20%2F%2F%20Euclidean%20distance%0Alet%20disPercent%20%3D%20RADIUS%20%2F%20distance%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Inverse%20proportional%20decay%0AdisPercent%20%3D%20disPercent%20%3E%207%20%3F%207%20%3A%20disPercent%3B%20%20%20%20%2F%2F%20Force%20upper%20limit%0Aconst%20angle%20%3D%20Math.atan2(dy%2C%20dx)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Angle%20calculation%0Aconst%20repX%20%3D%20cos%20*%20disPercent%20*%20-INTENSITY%3B%20%20%20%20%20%20%2F%2F%20Force%20decomposition">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// Key: Inverse proportional decay + vector decomposition</span>
<span class="hljs-keyword inline">const</span> distance = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sqrt</span>(dx ** <span class="hljs-number inline">2</span> + dy ** <span class="hljs-number inline">2</span>);    <span class="hljs-comment inline">// Euclidean distance</span>
<span class="hljs-keyword inline">let</span> disPercent = <span class="hljs-variable constant_ inline">RADIUS</span> / distance;               <span class="hljs-comment inline">// Inverse proportional decay</span>
disPercent = disPercent &gt; <span class="hljs-number inline">7</span> ? <span class="hljs-number inline">7</span> : disPercent;    <span class="hljs-comment inline">// Force upper limit</span>
<span class="hljs-keyword inline">const</span> angle = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">atan2</span>(dy, dx);                 <span class="hljs-comment inline">// Angle calculation</span>
<span class="hljs-keyword inline">const</span> repX = cos * disPercent * -<span class="hljs-variable constant_ inline">INTENSITY</span>;      <span class="hljs-comment inline">// Force decomposition</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">3. Gradual Motion Algorithm</strong></p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20Key%3A%20Distance%20divided%20by%20time%2C%20implementing%20natural%20deceleration%0Athis.vx%20%3D%20(this.totalX%20-%20this.x)%20%2F%20this.time%3B%20%20%20%20%2F%2F%20Velocity%20decay%0Athis.x%20%2B%3D%20this.vx%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Position%20update%0Athis.opacity%20%2B%3D%20OPACITY_STEP%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Opacity%20gradient">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// Key: Distance divided by time, implementing natural deceleration</span>
<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vx</span> = (<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">totalX</span> - <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span>) / <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">time</span>;    <span class="hljs-comment inline">// Velocity decay</span>
<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">x</span> += <span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">vx</span>;                                <span class="hljs-comment inline">// Position update</span>
<span class="hljs-variable language_ inline">this</span>.<span class="hljs-property inline">opacity</span> += <span class="hljs-variable constant_ inline">OPACITY_STEP</span>;                     <span class="hljs-comment inline">// Opacity gradient</span>
</code></pre>
            </div>
        
<h2 id="final-words" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#final-words" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Final Words">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Final Words
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">During development, I couldn‚Äôt help but marvel repeatedly that mathematics is truly a beautiful discipline. When particles respond with agility to mouse proximity, when the entire particle cloud instantly transforms with theme color switches‚Äîthese seemingly magical effects are actually the poetic combination of mathematics and code.</p>
<p class="text-base leading-7 mb-4 text-foreground">Technology is never just cold logic; it‚Äôs a tool for creating beautiful experiences, a bridge connecting imagination and reality. And sometimes, it‚Äôs also an excuse to make thousands of tiny rectangles dance around your screen for no reason other than ‚Äúbecause we can!‚Äù üíÉ</p>
<p class="text-base leading-7 mb-4 text-foreground"><em class="italic text-foreground">May your text shine like stardust, performing particle poetry of the digital world beneath users‚Äô fingertips.</em> ‚ú®</p>
<p class="text-base leading-7 mb-4 text-foreground"><em class="italic text-foreground">P.S. If your particles start forming sentences on their own, that‚Äôs not a bug‚Äîthat‚Äôs the beginning of artificial intelligence. Congratulations, you‚Äôve accidentally created digital life! ü§ñ</em></p>
d:["$","$L1d",null,{"htmlContent":"$1e","frontMatter":{"title":"Particle Text: Digital Alchemy from Pixels to Particles","description":"In-depth analysis of Canvas particle system, text pixel sampling, and mouse interaction physics simulation implementation","date":"2025-06-22","author":"MilkWind","tags":["Canvas","Interaction Design"],"references":{}},"readingTime":"24 min read","category":"personal-website","tocItems":[{"id":"particle-text-digital-alchemy-from-pixels-to-particles","text":"Particle Text: Digital Alchemy from Pixels to Particles","level":1},{"id":"component-structure-and-type-definitions","text":"Component Structure and Type Definitions","level":2},{"id":"particle-entity-design","text":"Particle Entity Design","level":3},{"id":"component-props","text":"Component Props","level":3},{"id":"particle-class-design","text":"Particle Class Design","level":3},{"id":"configuration-constants-analysis","text":"Configuration Constants Analysis","level":2},{"id":"canvas-dimensions","text":"Canvas Dimensions","level":3},{"id":"animation-parameters","text":"Animation Parameters","level":3},{"id":"interaction-parameters","text":"Interaction Parameters","level":3},{"id":"particle-system-design","text":"Particle System Design","level":2},{"id":"particles-born-from-random-positions","text":"Particles Born from Random Positions","level":3},{"id":"particles-decelerate-in-diffusion","text":"Particles Decelerate in Diffusion","level":3},{"id":"touching-the-sea-of-particles","text":"Touching the Sea of Particles","level":3},{"id":"rendering-optimization","text":"Rendering Optimization","level":3},{"id":"text-to-particle-principles","text":"Text-to-Particle Principles","level":2},{"id":"off-screen-canvas","text":"Off-screen Canvas","level":3},{"id":"text-rendering-parameters","text":"Text Rendering Parameters","level":3},{"id":"pixel-sampling-algorithm-wisdom-from-continuous-to-discrete","text":"Pixel Sampling Algorithm: Wisdom from Continuous to Discrete","level":3},{"id":"particlecanvas-class-kei-zero-particle-commander","text":"ParticleCanvas Class: Kei & Zero Particle Commander","level":2},{"id":"event-system-design-coordinate-transformation","text":"Event System Design: Coordinate Transformation","level":3},{"id":"animation-loop-lifecycle","text":"Animation Loop Lifecycle","level":3},{"id":"resource-management-and-memory-leak-protection","text":"Resource Management and Memory Leak Protection","level":3},{"id":"react-integration-best-practices","text":"React Integration Best Practices","level":2},{"id":"useeffect-dependency-management","text":"useEffect Dependency Management","level":3},{"id":"mathematical-principles-deep-analysis","text":"Mathematical Principles Deep Analysis","level":2},{"id":"vector-operations-in-particle-systems","text":"Vector Operations in Particle Systems","level":3},{"id":"distance-decay-function-design","text":"Distance Decay Function Design","level":3},{"id":"color-space-conversion","text":"Color Space Conversion","level":3},{"id":"performance-optimization-deep-thinking","text":"Performance Optimization Deep Thinking","level":2},{"id":"rendering-performance-optimization","text":"Rendering Performance Optimization","level":3},{"id":"complete-source-code-full-analysis","text":"Complete Source Code Full Analysis","level":2},{"id":"core-algorithm-flow-chart","text":"Core Algorithm Flow Chart","level":3},{"id":"key-function-analysis","text":"Key Function Analysis","level":3},{"id":"final-words","text":"Final Words","level":2}],"translations":{"common":{"welcome":"Welcome","loading":"Loading...","error":"Something went wrong","retry":"Try again","theme":"Theme","language":"Language","light":"Light","dark":"Dark"},"navigation":{"home":"Home","personal":"Personal","works":"Works","contributions":"Contributions","documents":"Documents","about":"About","contact":"Contact"},"personal":{"technicalSkills":"Technical Skills","email":"Email","github":"GitHub","resume":"Resume","codeRepository":"Code Repository","loadingPersonalInfo":"Loading personal information...","loadingResume":"Loading resume...","closeResume":"Close Resume","emailCopied":"Email copied to clipboard!","galaxyDefaultDescription":"Expert in full-stack development, cross-platform architecture, AI technology integration, and high-performance system optimization","skillGalaxy":"Skill Galaxy","stirGalaxy":"Stir Galaxy","stirring":"Stirring...","fullStackEngineer":"MilkWind - Full Stack Engineer","professionalProfile":"About Me"},"documents":{"technicalDocuments":"Technical Documents","description":"Basic principles, code splitting, and some random thoughts.","articles":"Articles","categories":"Categories","allCategories":"All Categories","noArticlesFound":"No articles found","noArticlesAvailable":"No articles available in English.","noArticlesInCategory":"No articles found in the category.","readMore":"Read more","loadingDocuments":"Loading documents...","backToDocuments":"‚Üê Back to Documents","documentNotFound":"Document Not Found","documentNotFoundDescription":"The requested document could not be found.","technicalInsights":"Insights","untitledDocument":"Untitled Document","byAuthor":"By","search":"Search articles...","searchByTags":"Filter by tags","searching":"Searching...","noSearchResults":"No articles match your search criteria","clearSearch":"Clear search","selectedTags":"Selected tags","allTags":"All tags","searchInTitle":"Search in titles, descriptions, and content","enterImmersiveMode":"Immersive Reading","exitImmersiveMode":"Exit Immersive Mode","immersiveReading":"Immersive Reading Mode","exploreContent":"Explore content by category","browseBy":"Browse by","exploreAll":"All content in one place","categoryDescription":"Articles in this category","totalArticles":"Articles","totalCategories":"Categories","foundArticles":"Found articles","categoriesWithResults":"Categories with results"},"works":{"workCases":"Work Cases","projects":"Portfolio","loadingProjects":"Loading projects...","grid":"Grid","stack":"Stack","of":"of","workCasesPageTitle":"Work Cases Page","pageWorkingCorrectly":"This page is working! The routing is correct.","try3DVersion":"Try 3D Version","dragToScroll":"Drag to scroll","dragToChange":"Drag to change","swipeCards":"Swipe cards","keyboardNav":"Keyboard navigation"},"contributions":{"contributionCases":"Open Source","contributions":"Contributions","loadingContributions":"Loading contributions...","grid":"Grid","stack":"Stack","of":"of","contributionCasesPageTitle":"Contribution Cases Page","pageWorkingCorrectly":"This page is working! The routing is correct.","try3DVersion":"Try 3D Version","dragToScroll":"Drag to scroll","dragToChange":"Drag to change","swipeCards":"Swipe cards","keyboardNav":"Keyboard navigation"},"contribution":{"contributionPreview":"Contribution Preview","accessible":"Accessible","code":"Code","maintenance":"Maintenance","enhancement":"Enhancement","documentation":"Documentation","community":"Community","moreItems":"more","technicalDetails":"Technical Details","technologies":"Technologies:","contributionDetail":"Contribution Detail","description":"Description:","seeDetails":"See Details","github":"GitHub","viewContribution":"View Contribution","viewCode":"View Code"},"project":{"projectPreview":"Project Preview","accessible":"Accessible","tool":"Tool","plugin":"Plugin","toy":"Toy","moreItems":"more","technicalDetails":"Technical Details","technologies":"Technologies:","description":"Description:","seeDetails":"See Details","github":"GitHub","gitee":"Gitee","viewLiveDemo":"View Live Demo","viewCode":"View Code","access":"Access","videos":"Videos","watchVideo":"Watch Video","hasVideo":"Has Video"},"codeblock":{"copy":"Copy","copySuccess":"Code copied to clipboard!","copyError":"Failed to copy code","copyTooltip":"Copy code"},"toc":{"contents":"Contents","autoScroll":"Auto-scroll to section","collapse":"Collapse","expand":"Expand"},"loading":{"loading":"LOADING","preparingExperience":"Preparing experience"}},"lang":"en","theme":"light"}]
12:null
18:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
11:null
1c:{"metadata":[["$","title","0",{"children":"Particle Text: Digital Alchemy from Pixels to Particles | Interactive Portfolio"}],["$","meta","1",{"name":"description","content":"In-depth analysis of Canvas particle system, text pixel sampling, and mouse interaction physics simulation implementation"}],["$","meta","2",{"name":"author","content":"Developer"}],["$","meta","3",{"name":"keywords","content":"portfolio,3D,interactive,web development,Three.js,Next.js"}],["$","meta","4",{"property":"og:title","content":"Particle Text: Digital Alchemy from Pixels to Particles | Interactive Portfolio"}],["$","meta","5",{"property":"og:description","content":"In-depth analysis of Canvas particle system, text pixel sampling, and mouse interaction physics simulation implementation"}],["$","meta","6",{"property":"og:type","content":"article"}],["$","meta","7",{"property":"article:published_time","content":"2025-06-22"}],["$","meta","8",{"property":"article:tag","content":"Canvas"}],["$","meta","9",{"property":"article:tag","content":"Interaction Design"}],["$","meta","10",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","11",{"name":"twitter:title","content":"Particle Text: Digital Alchemy from Pixels to Particles | Interactive Portfolio"}],["$","meta","12",{"name":"twitter:description","content":"In-depth analysis of Canvas particle system, text pixel sampling, and mouse interaction physics simulation implementation"}],["$","link","13",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"32x32"}]],"error":null,"digest":"$undefined"}
14:{"metadata":"$1c:metadata","error":null,"digest":"$undefined"}
