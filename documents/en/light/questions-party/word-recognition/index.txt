1:"$Sreact.fragment"
2:I[38735,["1899","static/chunks/1899-6f0bb42883f79753.js","7177","static/chunks/app/layout-5c95b441a38f3a56.js"],"default"]
3:I[19945,["1899","static/chunks/1899-6f0bb42883f79753.js","7177","static/chunks/app/layout-5c95b441a38f3a56.js"],"default"]
4:I[65337,["1899","static/chunks/1899-6f0bb42883f79753.js","7177","static/chunks/app/layout-5c95b441a38f3a56.js"],"default"]
5:I[96190,["1899","static/chunks/1899-6f0bb42883f79753.js","7177","static/chunks/app/layout-5c95b441a38f3a56.js"],"ClientProviders"]
6:I[87555,[],""]
7:I[51901,["8039","static/chunks/app/error-10ebab2e11865aaf.js"],"default"]
8:I[31295,[],""]
9:I[6874,["6874","static/chunks/6874-fbe9a08eb79b991c.js","4345","static/chunks/app/not-found-38b9d1a0bc95ac08.js"],""]
a:I[94970,[],"ClientSegmentRoot"]
b:I[44065,["206","static/chunks/206-4f4cbf4d7156f437.js","3092","static/chunks/app/documents/layout-5f4e66d848ce7829.js"],"default"]
e:I[59665,[],"MetadataBoundary"]
10:I[59665,[],"OutletBoundary"]
13:I[74911,[],"AsyncMetadataOutlet"]
15:I[39460,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","5650","static/chunks/app/documents/loading-552c4cd17346a076.js"],"default"]
16:I[88610,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","4209","static/chunks/app/loading-0c530d99d5132c05.js"],"default"]
17:I[59665,[],"ViewportBoundary"]
19:I[26614,[],""]
:HL["/_next/static/css/de70bee13400563f.css","style"]
:HL["/_next/static/css/38943437573ce53c.css","style"]
:HL["/_next/static/css/5eacd01f773eed7f.css","style"]
0:{"P":null,"b":"xMcHYm_FvwjrVB7JmFp9i","p":"","c":["","documents","en","light","questions-party","word-recognition",""],"i":false,"f":[[["",{"children":["documents",{"children":[["slug","en/light/questions-party/word-recognition","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/de70bee13400563f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/38943437573ce53c.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_188709 __variable_9a8899 font-sans antialiased min-h-screen bg-background text-foreground","suppressHydrationWarning":true,"children":[["$","$L2",null,{}],["$","$L3",null,{}],["$","$L4",null,{}],["$","$L5",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$7","errorStyles":[],"errorScripts":[],"template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"z-10 relative min-h-screen flex items-center justify-center bg-background p-8","children":["$","div",null,{"className":"text-center max-w-md","children":[["$","div",null,{"className":"text-8xl font-bold text-primary mb-4","children":"404"}],["$","h2",null,{"className":"text-2xl font-bold text-foreground mb-4","children":"Page Not Found"}],["$","p",null,{"className":"text-foreground/70 mb-8","children":"The page you're looking for doesn't exist or has been moved to a different location."}],["$","div",null,{"className":"flex flex-col sm:flex-row gap-4 justify-center","children":[["$","$L9",null,{"href":"/","className":"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors","children":"Go Home"}],["$","$L9",null,{"href":"/works","className":"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors","children":"View Works"}]]}],["$","div",null,{"className":"absolute inset-0 overflow-hidden pointer-events-none -z-10","children":[["$","div",null,{"className":"absolute top-1/4 left-1/4 w-2 h-2 bg-primary/20 rounded-full animate-float"}],["$","div",null,{"className":"absolute top-3/4 right-1/4 w-3 h-3 bg-accent/20 rounded-full animate-float","style":{"animationDelay":"1s"}}],["$","div",null,{"className":"absolute bottom-1/4 left-1/3 w-1 h-1 bg-secondary/20 rounded-full animate-float","style":{"animationDelay":"2s"}}]]}]]}]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]}]]}],{"children":["documents",["$","$1","c",{"children":[null,["$","$La",null,{"Component":"$b","slots":{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@c"}]]}],{"children":[["slug","en/light/questions-party/word-recognition","c"],["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Ld",["$","$Le",null,{"children":"$Lf"}],[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/5eacd01f773eed7f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L10",null,{"children":["$L11","$L12",["$","$L13",null,{"promise":"$@14"}]]}]]}],{},null,false]},null,false]},[["$","$L15","l",{}],[],[]],false]},[["$","$L16","l",{}],[],[]],false],["$","$1","h",{"children":[null,["$","$1","fYsTTpEqyh25jZUq2Rb3C",{"children":[["$","$L17",null,{"children":"$L18"}],null]}],null]}],false]],"m":"$undefined","G":["$19","$undefined"],"s":false,"S":true}
1a:"$Sreact.suspense"
1b:I[74911,[],"AsyncMetadata"]
c:{}
f:["$","$1a",null,{"fallback":null,"children":["$","$L1b",null,{"promise":"$@1c"}]}]
1d:I[57340,["5584","static/chunks/b498d07c-095637f0f10883c6.js","2415","static/chunks/2415-689c103fb3d2c28d.js","6874","static/chunks/6874-fbe9a08eb79b991c.js","9554","static/chunks/9554-b714f9de28e85d30.js","1873","static/chunks/app/documents/%5B...slug%5D/page-9ee3d086bd3810e0.js"],"DocumentPageClient"]
1e:T5670b,<h1 id="vocabulary-collection-building-the-sea-of-words-together" class="group relative text-4xl font-bold mt-8 mb-4 text-foreground leading-tight">
            <a href="#vocabulary-collection-building-the-sea-of-words-together" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Vocabulary Collection: Building the Sea of Words Together">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Vocabulary Collection: Building the Sea of Words Together
        </h1>
<p class="text-base leading-7 mb-4 text-foreground">Have you ever wondered why words can only be added successfully when they are spelled correctly? And… where do the word definitions come from after they are successfully added?</p>
<p class="text-base leading-7 mb-4 text-foreground">This article will comprehensively analyze the vocabulary recognition and storage system in the Questions Party project, covering the complete pipeline from users entering a word in the frontend, to backend AI technology identifying its part of speech and meaning, to database storage.</p>
<h2 id="system-architecture-overview" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#system-architecture-overview" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to System Architecture Overview">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            System Architecture Overview
        </h2>
<h3 id="overall-data-flow" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#overall-data-flow" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Overall Data Flow">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Overall Data Flow
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="User%20Input%20%E2%86%92%20Frontend%20Validation%20%E2%86%92%20Backend%20Verification%20%E2%86%92%20Spell%20Checking%20%E2%86%92%20Part%20of%20Speech%20Analysis%20%E2%86%92%20Data%20Storage%20%E2%86%92%20Frontend%20Display">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code><span class="hljs-keyword inline">User</span> <span class="hljs-title inline">Input</span> → Frontend Validation → Backend Verification → Spell Checking → Part of Speech Analysis → Data Storage → Frontend Display
</code></pre>
            </div>
        
<h3 id="modern-mvc-architecture-application" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#modern-mvc-architecture-application" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Modern MVC Architecture Application">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Modern MVC Architecture Application
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The word management system adopts the classic MVC architecture pattern:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Model (Model Layer)</strong>: MongoDB + Mongoose ODM</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">View (View Layer)</strong>: Vue 3 + TypeScript + Pinia</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Controller (Controller Layer)</strong>: Node.js + Express + Middleware</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Core%20structure%20of%20the%20controller%20layer%0Aconst%20wordController%20%3D%20%7B%0AgetUserWords%3A%20async%20(req%2C%20res)%20%3D%3E%20%7B%20%2F*%20Get%20user%20vocabulary%20*%2F%20%7D%2C%0AaddWord%3A%20async%20(req%2C%20res)%20%3D%3E%20%7B%20%2F*%20Add%20new%20vocabulary%20*%2F%20%7D%2C%0AdeleteWord%3A%20async%20(req%2C%20res)%20%3D%3E%20%7B%20%2F*%20Delete%20vocabulary%20*%2F%20%7D%2C%0AgetRandomWords%3A%20async%20(req%2C%20res)%20%3D%3E%20%7B%20%2F*%20Smart%20recommendations%20*%2F%20%7D%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Core structure of the controller layer</span>
<span class="hljs-keyword inline">const</span> wordController = {
  <span class="hljs-attr inline">getUserWords</span>: <span class="hljs-title function_ inline">async</span> (req, res) =&gt; { <span class="hljs-comment inline">/* Get user vocabulary */</span> },
  <span class="hljs-attr inline">addWord</span>: <span class="hljs-title function_ inline">async</span> (req, res) =&gt; { <span class="hljs-comment inline">/* Add new vocabulary */</span> },
  <span class="hljs-attr inline">deleteWord</span>: <span class="hljs-title function_ inline">async</span> (req, res) =&gt; { <span class="hljs-comment inline">/* Delete vocabulary */</span> },
  <span class="hljs-attr inline">getRandomWords</span>: <span class="hljs-title function_ inline">async</span> (req, res) =&gt; { <span class="hljs-comment inline">/* Smart recommendations */</span> }
};
</code></pre>
            </div>
        
<h2 id="frontend-interactive-interface-design" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#frontend-interactive-interface-design" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Frontend Interactive Interface Design">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Frontend Interactive Interface Design
        </h2>
<h3 id="composition-api-state-management" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#composition-api-state-management" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Composition API State Management">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Composition API State Management
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The frontend uses Vue 3’s Composition API:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Reactive%20state%20management%20in%20Words.vue%0Aconst%20showAddForm%20%3D%20ref(false)%0Aconst%20loadingRandom%20%3D%20ref(false)%0Aconst%20randomWords%20%3D%20ref(%5B%5D)%0A%2F%2F%20Spelling%20error%20handling%0Aconst%20spellingError%20%3D%20ref(false)%0Aconst%20spellingSuggestions%20%3D%20ref(%5B%5D)%0A%2F%2F%20Filtering%20and%20search%0Aconst%20searchQuery%20%3D%20ref('')%0Aconst%20selectedFilter%20%3D%20ref('all')">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Reactive state management in Words.vue</span>
<span class="hljs-keyword inline">const</span> showAddForm = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-literal inline">false</span>)
<span class="hljs-keyword inline">const</span> loadingRandom = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-literal inline">false</span>)
<span class="hljs-keyword inline">const</span> randomWords = ref&lt;any[]&gt;([])

<span class="hljs-comment inline">// Spelling error handling</span>
<span class="hljs-keyword inline">const</span> spellingError = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-literal inline">false</span>)
<span class="hljs-keyword inline">const</span> spellingSuggestions = ref&lt;string[]&gt;([])

<span class="hljs-comment inline">// Filtering and search</span>
<span class="hljs-keyword inline">const</span> searchQuery = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-string inline">&#x27;&#x27;</span>)
<span class="hljs-keyword inline">const</span> selectedFilter = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-string inline">&#x27;all&#x27;</span>)
</code></pre>
            </div>
        
<h3 id="debounced-search" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#debounced-search" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Debounced Search">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Debounced Search
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Debounced%20search%20function%0Aconst%20debouncedSearch%20%3D%20()%20%3D%3E%20%7B%0Aif%20(searchTimeout.value)%20%7B%0AclearTimeout(searchTimeout.value)%0A%7D%0AsearchTimeout.value%20%3D%20setTimeout(()%20%3D%3E%20%7B%0AwordsStore.setSearchQuery(searchQuery.value)%0A%7D%2C%20300)%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Debounced search function</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">debouncedSearch</span> = (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (searchTimeout.<span class="hljs-property inline">value</span>) {
    <span class="hljs-built_in inline">clearTimeout</span>(searchTimeout.<span class="hljs-property inline">value</span>)
  }
  
  searchTimeout.<span class="hljs-property inline">value</span> = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-function inline">() =&gt;</span> {
    wordsStore.<span class="hljs-title function_ inline">setSearchQuery</span>(searchQuery.<span class="hljs-property inline">value</span>)
  }, <span class="hljs-number inline">300</span>)
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Debouncing Principle</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Assuming a user inputs n characters within 300ms, the traditional approach would make n requests, while the debounced approach only makes 1 request.</p>
<h3 id="pinia-state-management" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#pinia-state-management" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Pinia State Management">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Pinia State Management
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20stores%2Fwords.ts%20-%20Core%20logic%20of%20state%20management%0Aexport%20const%20useWordsStore%20%3D%20defineStore('words'%2C%20()%20%3D%3E%20%7B%0Aconst%20words%20%3D%20refWord%5B%5D%3E(%5B%5D)%0Aconst%20selectedWords%20%3D%20refSetstring%3E%3E(new%20Set())%0Aconst%20loading%20%3D%20ref(false)%0A%2F%2F%20Computed%20property%3A%20intelligent%20filtering%0Aconst%20filteredWords%20%3D%20computed(()%20%3D%3E%20%7B%0Alet%20filtered%20%3D%20words.value%0A%2F%2F%20Part%20of%20speech%20filtering%0Aif%20(currentFilter.value%20%26%26%20currentFilter.value%20!%3D%3D%20'all')%20%7B%0Afiltered%20%3D%20filtered.filter(word%20%3D%3E%0Aword.primaryPartOfSpeech%20%3D%3D%3D%20currentFilter.value%0A)%0A%7D%0A%2F%2F%20Search%20filtering%0Aif%20(searchQuery.value.trim())%20%7B%0Aconst%20query%20%3D%20searchQuery.value.toLowerCase().trim()%0Afiltered%20%3D%20filtered.filter(word%20%3D%3E%0Aword.word.toLowerCase().includes(query)%20%7C%7C%0Aword.primaryDefinition%3F.toLowerCase().includes(query)%0A)%0A%7D%0Areturn%20filtered%0A%7D)%0Areturn%20%7B%0Awords%2C%0AselectedWords%2C%0Aloading%2C%0AfilteredWords%2C%0A%2F%2F%20...%20other%20methods%0A%7D%0A%7D)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// stores/words.ts - Core logic of state management</span>
<span class="hljs-keyword inline">export</span> <span class="hljs-keyword inline">const</span> useWordsStore = <span class="hljs-title function_ inline">defineStore</span>(<span class="hljs-string inline">&#x27;words&#x27;</span>, <span class="hljs-function inline">() =&gt;</span> {
  <span class="hljs-keyword inline">const</span> words = ref&lt;<span class="hljs-title class_ inline">Word</span>[]&gt;([])
  <span class="hljs-keyword inline">const</span> selectedWords = ref&lt;<span class="hljs-title class_ inline">Set</span>&lt;<span class="hljs-built_in inline">string</span>&gt;&gt;(<span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Set</span>())
  <span class="hljs-keyword inline">const</span> loading = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-literal inline">false</span>)
  
  <span class="hljs-comment inline">// Computed property: intelligent filtering</span>
  <span class="hljs-keyword inline">const</span> filteredWords = <span class="hljs-title function_ inline">computed</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">let</span> filtered = words.<span class="hljs-property inline">value</span>
    
    <span class="hljs-comment inline">// Part of speech filtering</span>
    <span class="hljs-keyword inline">if</span> (currentFilter.<span class="hljs-property inline">value</span> &amp;&amp; currentFilter.<span class="hljs-property inline">value</span> !== <span class="hljs-string inline">&#x27;all&#x27;</span>) {
      filtered = filtered.<span class="hljs-title function_ inline">filter</span>(<span class="hljs-function inline"><span class="hljs-params inline">word</span> =&gt;</span> 
        word.<span class="hljs-property inline">primaryPartOfSpeech</span> === currentFilter.<span class="hljs-property inline">value</span>
      )
    }
    
    <span class="hljs-comment inline">// Search filtering</span>
    <span class="hljs-keyword inline">if</span> (searchQuery.<span class="hljs-property inline">value</span>.<span class="hljs-title function_ inline">trim</span>()) {
      <span class="hljs-keyword inline">const</span> query = searchQuery.<span class="hljs-property inline">value</span>.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>()
      filtered = filtered.<span class="hljs-title function_ inline">filter</span>(<span class="hljs-function inline"><span class="hljs-params inline">word</span> =&gt;</span> 
        word.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">includes</span>(query) ||
        word.<span class="hljs-property inline">primaryDefinition</span>?.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">includes</span>(query)
      )
    }
    
    <span class="hljs-keyword inline">return</span> filtered
  })
  
  <span class="hljs-keyword inline">return</span> {
    words,
    selectedWords,
    loading,
    filteredWords,
    <span class="hljs-comment inline">// ... other methods</span>
  }
})
</code></pre>
            </div>
        
<h3 id="frontend-spelling-suggestion-ui-design" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#frontend-spelling-suggestion-ui-design" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Frontend Spelling Suggestion UI Design">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Frontend Spelling Suggestion UI Design
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="vue" data-code="div%20v-if%3D%22spellingError%20%26%26%20spellingSuggestions.length%20%3E%200%22%0Aclass%3D%22bg-blue-50%20dark%3Abg-blue-900%2F20%20border%20border-blue-200%20dark%3Aborder-blue-800%20rounded-md%20p-4%22%3E%0Adiv%20class%3D%22flex%20items-start%20space-x-2%22%3E%0Adiv%20class%3D%22flex-shrink-0%20mt-0.5%22%3E%0Asvg%20class%3D%22w-5%20h-5%20text-blue-600%20dark%3Atext-blue-400%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20viewBox%3D%220%200%2024%2024%22%3E%0Apath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M13%2016h-1v-4h-1m1-4h.01M21%2012a9%209%200%2011-18%200%209%209%200%200118%200z%22%3Epath%3E%0Asvg%3E%0Adiv%3E%0Adiv%20class%3D%22flex-1%22%3E%0Ap%20class%3D%22text-sm%20font-medium%20text-blue-800%20dark%3Atext-blue-200%20mb-2%22%3E%0A%7B%7B%20%24t('words.spellingNotRecognized')%20%7D%7D%0Ap%3E%0Ap%20class%3D%22text-sm%20text-blue-700%20dark%3Atext-blue-300%20mb-3%22%3E%0A%7B%7B%20%24t('words.didYouMean')%20%7D%7D%0Ap%3E%0Adiv%20class%3D%22flex%20flex-wrap%20gap-2%22%3E%0Abutton%0Av-for%3D%22suggestion%20in%20spellingSuggestions%22%0A%3Akey%3D%22suggestion%22%0Aclass%3D%22inline-flex%20items-center%20px-3%20py-1.5%20text-sm%20font-medium%20text-blue-700%20dark%3Atext-blue-200%20bg-blue-100%20dark%3Abg-blue-800%20rounded-md%20hover%3Abg-blue-200%20dark%3Ahover%3Abg-blue-700%20transition-colors%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aring-offset-2%22%0A%40click%3D%22selectSuggestion(suggestion)%22%0A%3E%0A%7B%7B%20suggestion%20%7D%7D%0Abutton%3E%0Adiv%3E%0Adiv%20class%3D%22mt-3%20flex%20items-center%20space-x-2%22%3E%0Abutton%0Aclass%3D%22text-xs%20text-blue-600%20dark%3Atext-blue-400%20hover%3Atext-blue-800%20dark%3Ahover%3Atext-blue-200%20underline%22%0A%40click%3D%22addWordAnyway%22%0A%3E%0A%7B%7B%20%24t('words.addAnyway')%20%7D%7D%0Abutton%3E%0Aspan%20class%3D%22text-xs%20text-blue-500%20dark%3Atext-blue-400%22%3E%7B%7B%20%24t('words.or')%20%7D%7Dspan%3E%0Abutton%0Aclass%3D%22text-xs%20text-blue-600%20dark%3Atext-blue-400%20hover%3Atext-blue-800%20dark%3Ahover%3Atext-blue-200%20underline%22%0A%40click%3D%22cancelSpelling%22%0A%3E%0A%7B%7B%20%24t('words.tryAgain')%20%7D%7D%0Abutton%3E%0Adiv%3E%0Adiv%3E%0Adiv%3E%0Adiv%3E">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">vue</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-vue"><span class="language-xml inline"><span class="hljs-comment inline">&lt;!-- Words.vue - Spelling suggestion UI component --&gt;</span>
<span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">v-if</span>=<span class="hljs-string inline">&quot;spellingError &amp;&amp; spellingSuggestions.length &gt; 0&quot;</span>
     <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-4&quot;</span>&gt;</span>
  <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex items-start space-x-2&quot;</span>&gt;</span>
    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex-shrink-0 mt-0.5&quot;</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">svg</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;w-5 h-5 text-blue-600 dark:text-blue-400&quot;</span> <span class="hljs-attr inline">fill</span>=<span class="hljs-string inline">&quot;none&quot;</span> <span class="hljs-attr inline">stroke</span>=<span class="hljs-string inline">&quot;currentColor&quot;</span> <span class="hljs-attr inline">viewBox</span>=<span class="hljs-string inline">&quot;0 0 24 24&quot;</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">path</span> <span class="hljs-attr inline">stroke-linecap</span>=<span class="hljs-string inline">&quot;round&quot;</span> <span class="hljs-attr inline">stroke-linejoin</span>=<span class="hljs-string inline">&quot;round&quot;</span> <span class="hljs-attr inline">stroke-width</span>=<span class="hljs-string inline">&quot;2&quot;</span> <span class="hljs-attr inline">d</span>=<span class="hljs-string inline">&quot;M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z&quot;</span>&gt;</span><span class="hljs-tag inline">&lt;/<span class="hljs-name inline">path</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">svg</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex-1&quot;</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-sm font-medium text-blue-800 dark:text-blue-200 mb-2&quot;</span>&gt;</span>
        </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.spellingNotRecognized&#x27;</span>) }}</span><span class="language-xml inline">
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-sm text-blue-700 dark:text-blue-300 mb-3&quot;</span>&gt;</span>
        </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.didYouMean&#x27;</span>) }}</span><span class="language-xml inline">
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-comment inline">&lt;!-- Spelling suggestion buttons --&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex flex-wrap gap-2&quot;</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span>
            <span class="hljs-attr inline">v-for</span>=<span class="hljs-string inline">&quot;suggestion in spellingSuggestions&quot;</span>
            <span class="hljs-attr inline">:key</span>=<span class="hljs-string inline">&quot;suggestion&quot;</span>
            <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;inline-flex items-center px-3 py-1.5 text-sm font-medium text-blue-700 dark:text-blue-200 bg-blue-100 dark:bg-blue-800 rounded-md hover:bg-blue-200 dark:hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot;</span>
            @<span class="hljs-attr inline">click</span>=<span class="hljs-string inline">&quot;selectSuggestion(suggestion)&quot;</span>
        &gt;</span>
          </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">suggestion</span> }}</span><span class="language-xml inline">
        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-comment inline">&lt;!-- User action options --&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;mt-3 flex items-center space-x-2&quot;</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span>
            <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline&quot;</span>
            @<span class="hljs-attr inline">click</span>=<span class="hljs-string inline">&quot;addWordAnyway&quot;</span>
        &gt;</span>
          </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.addAnyway&#x27;</span>) }}</span><span class="language-xml inline">
        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">span</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-xs text-blue-500 dark:text-blue-400&quot;</span>&gt;</span></span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.or&#x27;</span>) }}</span><span class="language-xml inline"><span class="hljs-tag inline">&lt;/<span class="hljs-name inline">span</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span>
            <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline&quot;</span>
            @<span class="hljs-attr inline">click</span>=<span class="hljs-string inline">&quot;cancelSpelling&quot;</span>
        &gt;</span>
          </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.tryAgain&#x27;</span>) }}</span><span class="language-xml inline">
        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
  <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
</span></code></pre>
            </div>
        
<h3 id="frontend-spelling-suggestion-processing-logic" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#frontend-spelling-suggestion-processing-logic" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Frontend Spelling Suggestion Processing Logic">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Frontend Spelling Suggestion Processing Logic
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Words.vue%20-%20Complete%20logic%20for%20spelling%20suggestion%20processing%0Aconst%20addWord%20%3D%20async%20()%20%3D%3E%20%7B%0Aif%20(!newWord.word.trim())%20return%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0Aconst%20result%20%3D%20await%20wordsStore.addWord(%7B%0Aword%3A%20newWord.word.trim()%0A%7D)%0Aif%20(result.success)%20%7B%0A%2F%2F%20Successfully%20added%20word%0AnewWord.word%20%3D%20''%0AshowAddForm.value%20%3D%20false%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0A%7D%20else%20if%20(result.spellingError%20%26%26%20result.suggestions%3F.length%20%3E%200)%20%7B%0A%2F%2F%20Display%20spelling%20suggestions%0AspellingError.value%20%3D%20true%0AspellingSuggestions.value%20%3D%20result.suggestions%0A%7D%0A%7D%0A%2F%2F%20Select%20suggested%20word%0Aconst%20selectSuggestion%20%3D%20(suggestion%3A%20string)%20%3D%3E%20%7B%0AnewWord.word%20%3D%20suggestion%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0A%7D%0A%2F%2F%20Force%20add%20word%0Aconst%20addWordAnyway%20%3D%20async%20()%20%3D%3E%20%7B%0Aif%20(!newWord.word.trim())%20return%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0A%2F%2F%20Force%20add%20through%20forceAdd%20flag%0Aconst%20result%20%3D%20await%20wordsStore.addWord(%7B%0Aword%3A%20newWord.word.trim()%2C%0AforceAdd%3A%20true%0A%7D)%0Aif%20(result.success)%20%7B%0AnewWord.word%20%3D%20''%0AshowAddForm.value%20%3D%20false%0A%7D%0A%7D%0A%2F%2F%20Cancel%20and%20retry%0Aconst%20cancelSpelling%20%3D%20()%20%3D%3E%20%7B%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0AnewWord.word%20%3D%20''%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Words.vue - Complete logic for spelling suggestion processing</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">addWord</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>()) <span class="hljs-keyword inline">return</span>

  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []

  <span class="hljs-keyword inline">const</span> result = <span class="hljs-keyword inline">await</span> wordsStore.<span class="hljs-title function_ inline">addWord</span>({
    <span class="hljs-attr inline">word</span>: newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>()
  })

  <span class="hljs-keyword inline">if</span> (result.<span class="hljs-property inline">success</span>) {
    <span class="hljs-comment inline">// Successfully added word</span>
    newWord.<span class="hljs-property inline">word</span> = <span class="hljs-string inline">&#x27;&#x27;</span>
    showAddForm.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
    spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
    spellingSuggestions.<span class="hljs-property inline">value</span> = []
  } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (result.<span class="hljs-property inline">spellingError</span> &amp;&amp; result.<span class="hljs-property inline">suggestions</span>?.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span>) {
    <span class="hljs-comment inline">// Display spelling suggestions</span>
    spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">true</span>
    spellingSuggestions.<span class="hljs-property inline">value</span> = result.<span class="hljs-property inline">suggestions</span>
  }
}

<span class="hljs-comment inline">// Select suggested word</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">selectSuggestion</span> = (<span class="hljs-params inline">suggestion: string</span>) =&gt; {
  newWord.<span class="hljs-property inline">word</span> = suggestion
  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []
}

<span class="hljs-comment inline">// Force add word</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">addWordAnyway</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>()) <span class="hljs-keyword inline">return</span>
  
  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []
  
  <span class="hljs-comment inline">// Force add through forceAdd flag</span>
  <span class="hljs-keyword inline">const</span> result = <span class="hljs-keyword inline">await</span> wordsStore.<span class="hljs-title function_ inline">addWord</span>({
    <span class="hljs-attr inline">word</span>: newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>(),
    <span class="hljs-attr inline">forceAdd</span>: <span class="hljs-literal inline">true</span>
  })
  
  <span class="hljs-keyword inline">if</span> (result.<span class="hljs-property inline">success</span>) {
    newWord.<span class="hljs-property inline">word</span> = <span class="hljs-string inline">&#x27;&#x27;</span>
    showAddForm.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  }
}

<span class="hljs-comment inline">// Cancel and retry</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">cancelSpelling</span> = (<span class="hljs-params inline"></span>) =&gt; {
  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []
  newWord.<span class="hljs-property inline">word</span> = <span class="hljs-string inline">&#x27;&#x27;</span>
}
</code></pre>
            </div>
        
<h2 id="internationalization-mechanism" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#internationalization-mechanism" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Internationalization Mechanism">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Internationalization Mechanism
        </h2>
<h3 id="frontend-language-specification-process" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#frontend-language-specification-process" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Frontend Language Specification Process">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Frontend Language Specification Process
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The frontend specifies the language for backend responses through HTTP request headers:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20services%2Fapi.ts%20-%20Request%20interceptor%0Aapi.interceptors.request.use(%0A(config)%20%3D%3E%20%7B%0A%2F%2F%20Get%20current%20language%20environment%0Aconst%20locale%20%3D%20getCurrentLocale()%0A%2F%2F%20Add%20language%20header%0Aif%20(locale)%20%7B%0Aconfig.headers%5B'x-language'%5D%20%3D%20locale%0A%7D%0A%2F%2F%20Add%20authentication%20token%0Aconst%20token%20%3D%20localStorage.getItem('token')%0Aif%20(token)%20%7B%0Aconfig.headers.Authorization%20%3D%20%60Bearer%20%24%7Btoken%7D%60%0A%7D%0Areturn%20config%0A%7D%2C%0A(error)%20%3D%3E%20%7B%0Areturn%20Promise.reject(error)%0A%7D%0A)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// services/api.ts - Request interceptor</span>
api.<span class="hljs-property inline">interceptors</span>.<span class="hljs-property inline">request</span>.<span class="hljs-title function_ inline">use</span>(
  <span class="hljs-function inline">(<span class="hljs-params inline">config</span>) =&gt;</span> {
    <span class="hljs-comment inline">// Get current language environment</span>
    <span class="hljs-keyword inline">const</span> locale = <span class="hljs-title function_ inline">getCurrentLocale</span>()
    
    <span class="hljs-comment inline">// Add language header</span>
    <span class="hljs-keyword inline">if</span> (locale) {
      config.<span class="hljs-property inline">headers</span>[<span class="hljs-string inline">&#x27;x-language&#x27;</span>] = locale
    }
    
    <span class="hljs-comment inline">// Add authentication token</span>
    <span class="hljs-keyword inline">const</span> token = <span class="hljs-variable language_ inline">localStorage</span>.<span class="hljs-title function_ inline">getItem</span>(<span class="hljs-string inline">&#x27;token&#x27;</span>)
    <span class="hljs-keyword inline">if</span> (token) {
      config.<span class="hljs-property inline">headers</span>.<span class="hljs-property inline">Authorization</span> = <span class="hljs-string inline">`Bearer <span class="hljs-subst inline">${token}</span>`</span>
    }
    
    <span class="hljs-keyword inline">return</span> config
  },
  <span class="hljs-function inline">(<span class="hljs-params inline">error</span>) =&gt;</span> {
    <span class="hljs-keyword inline">return</span> <span class="hljs-title class_ inline">Promise</span>.<span class="hljs-title function_ inline">reject</span>(error)
  }
)
</code></pre>
            </div>
        
<h3 id="backend-language-processing-mechanism" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#backend-language-processing-mechanism" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Backend Language Processing Mechanism">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Backend Language Processing Mechanism
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The backend uses middleware to identify and process language settings:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Backend%20middleware%20internationalization%20processing%0Aconst%20i18nMiddleware%20%3D%20(req%2C%20res%2C%20next)%20%3D%3E%20%7B%0Aconst%20locale%20%3D%20req.headers%5B'x-language'%5D%20%7C%7C%20'en'%0Areq.locale%20%3D%20locale%0Areq.t%20%3D%20(key%2C%20options)%20%3D%3E%20i18n.t(key%2C%20%7B%20locale%2C%20...options%20%7D)%0Anext()%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Backend middleware internationalization processing</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">i18nMiddleware</span> = (<span class="hljs-params inline">req, res, next</span>) =&gt; {
  <span class="hljs-keyword inline">const</span> locale = req.<span class="hljs-property inline">headers</span>[<span class="hljs-string inline">&#x27;x-language&#x27;</span>] || <span class="hljs-string inline">&#x27;en&#x27;</span>
  req.<span class="hljs-property inline">locale</span> = locale
  req.<span class="hljs-property inline">t</span> = <span class="hljs-function inline">(<span class="hljs-params inline">key, options</span>) =&gt;</span> i18n.<span class="hljs-title function_ inline">t</span>(key, { locale, ...options })
  <span class="hljs-title function_ inline">next</span>()
}
</code></pre>
            </div>
        
<h3 id="dynamic-implementation-of-part-of-speech-translation" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#dynamic-implementation-of-part-of-speech-translation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Dynamic Implementation of Part of Speech Translation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Dynamic Implementation of Part of Speech Translation
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The system supports real-time part of speech translation:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20wordController.js%20-%20Dynamic%20loading%20of%20part%20of%20speech%20translation%0Aconst%20wordsWithTranslation%20%3D%20words.map(word%20%3D%3E%20%7B%0Aconst%20wordObj%20%3D%20word.toObject()%0Aif%20(wordObj.primaryPartOfSpeech)%20%7B%0A%2F%2F%20Dynamic%20translation%20of%20part%20of%20speech%0AwordObj.primaryPartOfSpeechTranslated%20%3D%20req.t(%60words.%24%7BwordObj.primaryPartOfSpeech%7D%60)%0A%7D%0Areturn%20wordObj%0A%7D)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// wordController.js - Dynamic loading of part of speech translation</span>
<span class="hljs-keyword inline">const</span> wordsWithTranslation = words.<span class="hljs-title function_ inline">map</span>(<span class="hljs-function inline"><span class="hljs-params inline">word</span> =&gt;</span> {
  <span class="hljs-keyword inline">const</span> wordObj = word.<span class="hljs-title function_ inline">toObject</span>()
  <span class="hljs-keyword inline">if</span> (wordObj.<span class="hljs-property inline">primaryPartOfSpeech</span>) {
    <span class="hljs-comment inline">// Dynamic translation of part of speech</span>
    wordObj.<span class="hljs-property inline">primaryPartOfSpeechTranslated</span> = req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">`words.<span class="hljs-subst inline">${wordObj.primaryPartOfSpeech}</span>`</span>)
  }
  <span class="hljs-keyword inline">return</span> wordObj
})
</code></pre>
            </div>
        
<h2 id="spell-checking-engine-analysis-typojs" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#spell-checking-engine-analysis-typojs" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Spell Checking Engine Analysis: Typo.js">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Spell Checking Engine Analysis: Typo.js
        </h2>
<h3 id="javascript-implementation-of-hunspell-algorithm" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#javascript-implementation-of-hunspell-algorithm" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to JavaScript Implementation of Hunspell Algorithm">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            JavaScript Implementation of Hunspell Algorithm
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">Typo.js is based on the famous Hunspell spell checking engine, an algorithm widely used in projects like OpenOffice and Mozilla:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20wordUtils.js%20-%20Core%20implementation%20of%20spell%20checking%0Aconst%20Typo%20%3D%20require('typo-js')%0A%2F%2F%20Initialize%20spell%20checker%0Alet%20spellChecker%0Atry%20%7B%0AspellChecker%20%3D%20new%20Typo('en_US')%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Failed%20to%20initialize%20spell%20checker%3A'%2C%20error)%0A%7D%0A%2F%2F%20Spell%20checking%20function%0Aconst%20isWordSpelledCorrectly%20%3D%20(word)%20%3D%3E%20%7B%0Aif%20(!spellChecker)%20%7B%0Aconsole.warn('Spell%20checker%20not%20available%2C%20assuming%20word%20is%20correct')%0Areturn%20true%0A%7D%0Atry%20%7B%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%0Areturn%20spellChecker.check(cleanWord)%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Error%20checking%20spelling%3A'%2C%20error)%0Areturn%20true%20%2F%2F%20Defensive%20programming%3A%20default%20to%20correct%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// wordUtils.js - Core implementation of spell checking</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title class_ inline">Typo</span> = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;typo-js&#x27;</span>)

<span class="hljs-comment inline">// Initialize spell checker</span>
<span class="hljs-keyword inline">let</span> spellChecker
<span class="hljs-keyword inline">try</span> {
  spellChecker = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Typo</span>(<span class="hljs-string inline">&#x27;en_US&#x27;</span>)
} <span class="hljs-keyword inline">catch</span> (error) {
  <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Failed to initialize spell checker:&#x27;</span>, error)
}

<span class="hljs-comment inline">// Spell checking function</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">isWordSpelledCorrectly</span> = (<span class="hljs-params inline">word</span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!spellChecker) {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">warn</span>(<span class="hljs-string inline">&#x27;Spell checker not available, assuming word is correct&#x27;</span>)
    <span class="hljs-keyword inline">return</span> <span class="hljs-literal inline">true</span>
  }
  
  <span class="hljs-keyword inline">try</span> {
    <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>()
    <span class="hljs-keyword inline">return</span> spellChecker.<span class="hljs-title function_ inline">check</span>(cleanWord)
  } <span class="hljs-keyword inline">catch</span> (error) {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error checking spelling:&#x27;</span>, error)
    <span class="hljs-keyword inline">return</span> <span class="hljs-literal inline">true</span> <span class="hljs-comment inline">// Defensive programming: default to correct</span>
  }
}
</code></pre>
            </div>
        
<h3 id="intelligent-spelling-suggestion-system" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#intelligent-spelling-suggestion-system" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Intelligent Spelling Suggestion System">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Intelligent Spelling Suggestion System
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">When users input incorrect words, the system automatically provides spelling suggestions instead of throwing errors directly:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Spelling%20suggestion%20processing%20in%20backend%20controller%0Aif%20(!wordProcessing.success)%20%7B%0A%2F%2F%20Return%20spelling%20suggestions%20(200%20status%20code%2C%20not%20error)%0Areturn%20res.status(200).json(%7B%0Asuccess%3A%20false%2C%0AneedsConfirmation%3A%20true%2C%0AspellingError%3A%20true%2C%0Amessage%3A%20req.t('words.spellingError')%2C%0Asuggestions%3A%20wordProcessing.suggestions%20%7C%7C%20%5B%5D%2C%0AoriginalWord%3A%20wordProcessing.word%2C%0AsuggestedCorrection%3A%20wordProcessing.suggestions%20%26%26%20wordProcessing.suggestions.length%20%3E%200%0A%3F%20wordProcessing.suggestions%5B0%5D%20%3A%20null%0A%7D)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Spelling suggestion processing in backend controller</span>
<span class="hljs-keyword inline">if</span> (!wordProcessing.<span class="hljs-property inline">success</span>) {
  <span class="hljs-comment inline">// Return spelling suggestions (200 status code, not error)</span>
  <span class="hljs-keyword inline">return</span> res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">200</span>).<span class="hljs-title function_ inline">json</span>({
    <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
    <span class="hljs-attr inline">needsConfirmation</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">spellingError</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">message</span>: req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.spellingError&#x27;</span>),
    <span class="hljs-attr inline">suggestions</span>: wordProcessing.<span class="hljs-property inline">suggestions</span> || [],
    <span class="hljs-attr inline">originalWord</span>: wordProcessing.<span class="hljs-property inline">word</span>,
    <span class="hljs-attr inline">suggestedCorrection</span>: wordProcessing.<span class="hljs-property inline">suggestions</span> &amp;&amp; wordProcessing.<span class="hljs-property inline">suggestions</span>.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span> 
      ? wordProcessing.<span class="hljs-property inline">suggestions</span>[<span class="hljs-number inline">0</span>] : <span class="hljs-literal inline">null</span>
  });
}
</code></pre>
            </div>
        
<h3 id="force-add-mechanism" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#force-add-mechanism" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Force Add Mechanism">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Force Add Mechanism
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The system supports users forcing the addition of “incorrectly” spelled words, such as proper nouns or new words:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Validation%20schema%20supporting%20force%20add%0Aconst%20addWordSchema%20%3D%20Joi.object(%7B%0Aword%3A%20Joi.string().min(1).max(50).pattern(%2F%5E%5Ba-zA-Z%5C-'%5D%2B%24%2F).required()%2C%0AforceAdd%3A%20Joi.boolean().default(false)%20%2F%2F%20New%20force%20add%20flag%0A%7D)%3B%0A%2F%2F%20Decide%20whether%20to%20skip%20spell%20checking%20based%20on%20forceAdd%20parameter%0Aif%20(forceAdd)%20%7B%0A%2F%2F%20Skip%20spell%20checking%2C%20directly%20get%20WordNet%20data%0Aconst%20wordNetData%20%3D%20await%20require('..%2Futils%2FwordUtils').getWordNetData(cleanWord)%3B%0AwordProcessing%20%3D%20%7B%0Asuccess%3A%20true%2C%0Aword%3A%20cleanWord%2C%0A...wordNetData%0A%7D%3B%0A%7D%20else%20%7B%0A%2F%2F%20Normal%20spell%20checking%20process%0AwordProcessing%20%3D%20await%20processWord(cleanWord)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Validation schema supporting force add</span>
<span class="hljs-keyword inline">const</span> addWordSchema = <span class="hljs-title class_ inline">Joi</span>.<span class="hljs-title function_ inline">object</span>({
  <span class="hljs-attr inline">word</span>: <span class="hljs-title class_ inline">Joi</span>.<span class="hljs-title function_ inline">string</span>().<span class="hljs-title function_ inline">min</span>(<span class="hljs-number inline">1</span>).<span class="hljs-title function_ inline">max</span>(<span class="hljs-number inline">50</span>).<span class="hljs-title function_ inline">pattern</span>(<span class="hljs-regexp inline">/^[a-zA-Z\-&#x27;]+$/</span>).<span class="hljs-title function_ inline">required</span>(),
  <span class="hljs-attr inline">forceAdd</span>: <span class="hljs-title class_ inline">Joi</span>.<span class="hljs-title function_ inline">boolean</span>().<span class="hljs-title function_ inline">default</span>(<span class="hljs-literal inline">false</span>) <span class="hljs-comment inline">// New force add flag</span>
});

<span class="hljs-comment inline">// Decide whether to skip spell checking based on forceAdd parameter</span>
<span class="hljs-keyword inline">if</span> (forceAdd) {
  <span class="hljs-comment inline">// Skip spell checking, directly get WordNet data</span>
  <span class="hljs-keyword inline">const</span> wordNetData = <span class="hljs-keyword inline">await</span> <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;../utils/wordUtils&#x27;</span>).<span class="hljs-title function_ inline">getWordNetData</span>(cleanWord);
  wordProcessing = {
    <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">word</span>: cleanWord,
    ...wordNetData
  };
} <span class="hljs-keyword inline">else</span> {
  <span class="hljs-comment inline">// Normal spell checking process</span>
  wordProcessing = <span class="hljs-keyword inline">await</span> <span class="hljs-title function_ inline">processWord</span>(cleanWord);
}
</code></pre>
            </div>
        
<h3 id="edit-distance-algorithm" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#edit-distance-algorithm" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Edit Distance Algorithm">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Edit Distance Algorithm
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">Spelling suggestions are generated based on the edit distance algorithm (Levenshtein Distance), a classic dynamic programming problem:</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Mathematical Definition of Edit Distance</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Edit distance refers to the minimum number of single-character edit operations required to transform string A into string B. These operations include:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Insert</strong> a character</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Delete</strong> a character</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Replace</strong> a character</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">For strings A and B, the recursive formula for edit distance D(A,B) is:</p>
<p class="text-base leading-7 mb-4 text-foreground"><span class="katex-display inline"><span class="katex inline"><span class="katex-mathml inline"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>D</mi><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mi>min</mi><mo>⁡</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>D</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>B</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>(Delete A[i])</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>D</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>B</mi><mrow><mi>j</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>(Insert B[j])</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>D</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>B</mi><mrow><mi>j</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>(Replace A[i] with B[j])</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">D(A,B) = \min \begin{cases} D(A_{i-1}, B_j) + 1 &amp; \text{(Delete A[i])} \\ D(A_i, B_{j-1}) + 1 &amp; \text{(Insert B[j])} \\ D(A_{i-1}, B_{j-1}) + cost &amp; \text{(Replace A[i] with B[j])} \end{cases}</annotation></semantics></math></span><span class="katex-html inline" aria-hidden="true" style="display:none"><span class="base inline"><span class="strut inline" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal inline" style="margin-right:0.02778em;">D</span><span class="mopen inline">(</span><span class="mord mathnormal inline">A</span><span class="mpunct inline">,</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="mord mathnormal inline" style="margin-right:0.05017em;">B</span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2778em;"></span><span class="mrel inline">=</span><span class="mspace inline" style="margin-right:0.2778em;"></span></span><span class="base inline"><span class="strut inline" style="height:4.32em;vertical-align:-1.91em;"></span><span class="mop inline">min</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="minner inline"><span class="mopen inline"><span class="delimsizing mult inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:2.35em;"><span style="top:-2.2em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span class="delimsizinginner delim-size4 inline"><span class="inline">⎩</span></span></span><span style="top:-2.192em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;" class="inline"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"/></svg></span></span><span style="top:-3.15em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span class="delimsizinginner delim-size4 inline"><span class="inline">⎨</span></span></span><span style="top:-4.292em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;" class="inline"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"/></svg></span></span><span style="top:-4.6em;" class="inline"><span class="pstrut inline" style="height:3.15em;"></span><span class="delimsizinginner delim-size4 inline"><span class="inline">⎧</span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:1.85em;"><span class="inline"></span></span></span></span></span></span><span class="mord inline"><span class="mtable inline"><span class="col-align-l inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:2.41em;"><span style="top:-4.41em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.02778em;">D</span><span class="mopen inline">(</span><span class="mord inline"><span class="mord mathnormal inline">A</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">i</span><span class="mbin mtight inline">−</span><span class="mord mtight inline">1</span></span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2083em;"><span class="inline"></span></span></span></span></span></span><span class="mpunct inline">,</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.05017em;">B</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mathnormal mtight inline" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span></span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">+</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mord inline">1</span></span></span><span style="top:-2.97em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.02778em;">D</span><span class="mopen inline">(</span><span class="mord inline"><span class="mord mathnormal inline">A</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mathnormal mtight inline">i</span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.15em;"><span class="inline"></span></span></span></span></span></span><span class="mpunct inline">,</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.05017em;">B</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline" style="margin-right:0.05724em;">j</span><span class="mbin mtight inline">−</span><span class="mord mtight inline">1</span></span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span></span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">+</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mord inline">1</span></span></span><span style="top:-1.53em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.02778em;">D</span><span class="mopen inline">(</span><span class="mord inline"><span class="mord mathnormal inline">A</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline">i</span><span class="mbin mtight inline">−</span><span class="mord mtight inline">1</span></span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2083em;"><span class="inline"></span></span></span></span></span></span><span class="mpunct inline">,</span><span class="mspace inline" style="margin-right:0.1667em;"></span><span class="mord inline"><span class="mord mathnormal inline" style="margin-right:0.05017em;">B</span><span class="msupsub inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;" class="inline"><span class="pstrut inline" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight inline"><span class="mord mtight inline"><span class="mord mathnormal mtight inline" style="margin-right:0.05724em;">j</span><span class="mbin mtight inline">−</span><span class="mord mtight inline">1</span></span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:0.2861em;"><span class="inline"></span></span></span></span></span></span><span class="mclose inline">)</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mbin inline">+</span><span class="mspace inline" style="margin-right:0.2222em;"></span><span class="mord mathnormal inline">cos</span><span class="mord mathnormal inline">t</span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:1.91em;"><span class="inline"></span></span></span></span></span><span class="arraycolsep inline" style="width:1em;"></span><span class="col-align-l inline"><span class="vlist-t vlist-t2 inline"><span class="vlist-r inline"><span class="vlist inline" style="height:2.41em;"><span style="top:-4.41em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord text inline"><span class="mord inline">(Delete A[i])</span></span></span></span><span style="top:-2.97em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord text inline"><span class="mord inline">(Insert B[j])</span></span></span></span><span style="top:-1.53em;" class="inline"><span class="pstrut inline" style="height:3.008em;"></span><span class="mord inline"><span class="mord text inline"><span class="mord inline">(Replace A[i] with B[j])</span></span></span></span></span><span class="vlist-s inline">​</span></span><span class="vlist-r inline"><span class="vlist inline" style="height:1.91em;"><span class="inline"></span></span></span></span></span></span></span><span class="mclose nulldelimiter inline"></span></span></span></span></span></span></p>
<p class="text-base leading-7 mb-4 text-foreground">Where:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">cost = 0 (if A[i] = B[j], characters are the same, no operation needed)</li>
<li class="text-foreground leading-relaxed">cost = 1 (if A[i] ≠ B[j], replacement operation needed)</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">A Concrete Example</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">Suppose we want to calculate the edit distance between “cat” and &quot;cut&quot;:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="%22%22%20%20c%20%20u%20%20t%0A%22%22%20%20%200%20%201%20%202%20%203%0Ac%20%20%20%201%20%200%20%201%20%202%0Aa%20%20%20%202%20%201%20%201%20%202%0At%20%20%20%203%20%202%20%202%20%201">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code>    &quot;&quot;  c  u  t
&quot;&quot;  <span class="hljs-number inline"> 0 </span><span class="hljs-number inline"> 1 </span><span class="hljs-number inline"> 2 </span> 3
c   <span class="hljs-number inline"> 1 </span><span class="hljs-number inline"> 0 </span><span class="hljs-number inline"> 1 </span> 2
a   <span class="hljs-number inline"> 2 </span><span class="hljs-number inline"> 1 </span><span class="hljs-number inline"> 1 </span> 2
t   <span class="hljs-number inline"> 3 </span><span class="hljs-number inline"> 2 </span><span class="hljs-number inline"> 2 </span> 1
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Calculation Process</strong>:</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Initialization: Distance from empty string to any string equals the length of the target string</li>
<li class="text-foreground leading-relaxed">Fill the table step by step:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">D(&quot;c&quot;, “c”) = 0 (characters are the same)</li>
<li class="text-foreground leading-relaxed">D(&quot;ca&quot;, “c”) = 1 (delete ‘a’)</li>
<li class="text-foreground leading-relaxed">D(&quot;ca&quot;, “cu”) = 1 (replace ‘a’ with ‘u’)</li>
<li class="text-foreground leading-relaxed">D(&quot;cat&quot;, “cut”) = 1 (replace ‘a’ with ‘u’)</li>
</ul></li>
</ol>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Algorithm Implementation Approach</strong>:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="function%20editDistance(str1%2C%20str2)%20%7B%0Aconst%20m%20%3D%20str1.length%0Aconst%20n%20%3D%20str2.length%0A%2F%2F%20Create%20DP%20table%0Aconst%20dp%20%3D%20Array(m%20%2B%201).fill().map(()%20%3D%3E%20Array(n%20%2B%201).fill(0))%0A%2F%2F%20Initialize%20boundary%20conditions%0Afor%20(let%20i%20%3D%200%3B%20i%200%5D%20%3D%20i%0Afor%20(let%20j%20%3D%200%3B%20j%200%5D%5Bj%5D%20%3D%20j%0A%2F%2F%20Fill%20DP%20table%0Afor%20(let%20i%20%3D%201%3B%20i%20for%20(let%20j%20%3D%201%3B%20j%20if%20(str1%5Bi-1%5D%20%3D%3D%3D%20str2%5Bj-1%5D)%20%7B%0Adp%5Bi%5D%5Bj%5D%20%3D%20dp%5Bi-1%5D%5Bj-1%5D%20%20%2F%2F%20Characters%20are%20the%20same%2C%20no%20operation%20needed%0A%7D%20else%20%7B%0Adp%5Bi%5D%5Bj%5D%20%3D%20Math.min(%0Adp%5Bi-1%5D%5Bj%5D%20%2B%201%2C%20%20%20%20%20%20%2F%2F%20Delete%0Adp%5Bi%5D%5Bj-1%5D%20%2B%201%2C%20%20%20%20%20%20%2F%2F%20Insert%0Adp%5Bi-1%5D%5Bj-1%5D%20%2B%201%20%20%20%20%20%2F%2F%20Replace%0A)%0A%7D%0A%7D%0A%7D%0Areturn%20dp%5Bm%5D%5Bn%5D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">editDistance</span>(<span class="hljs-params inline">str1, str2</span>) {
  <span class="hljs-keyword inline">const</span> m = str1.<span class="hljs-property inline">length</span>
  <span class="hljs-keyword inline">const</span> n = str2.<span class="hljs-property inline">length</span>
  
  <span class="hljs-comment inline">// Create DP table</span>
  <span class="hljs-keyword inline">const</span> dp = <span class="hljs-title class_ inline">Array</span>(m + <span class="hljs-number inline">1</span>).<span class="hljs-title function_ inline">fill</span>().<span class="hljs-title function_ inline">map</span>(<span class="hljs-function inline">() =&gt;</span> <span class="hljs-title class_ inline">Array</span>(n + <span class="hljs-number inline">1</span>).<span class="hljs-title function_ inline">fill</span>(<span class="hljs-number inline">0</span>))
  
  <span class="hljs-comment inline">// Initialize boundary conditions</span>
  <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> i = <span class="hljs-number inline">0</span>; i &lt;= m; i++) dp[i][<span class="hljs-number inline">0</span>] = i
  <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> j = <span class="hljs-number inline">0</span>; j &lt;= n; j++) dp[<span class="hljs-number inline">0</span>][j] = j
  
  <span class="hljs-comment inline">// Fill DP table</span>
  <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> i = <span class="hljs-number inline">1</span>; i &lt;= m; i++) {
    <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> j = <span class="hljs-number inline">1</span>; j &lt;= n; j++) {
      <span class="hljs-keyword inline">if</span> (str1[i-<span class="hljs-number inline">1</span>] === str2[j-<span class="hljs-number inline">1</span>]) {
        dp[i][j] = dp[i-<span class="hljs-number inline">1</span>][j-<span class="hljs-number inline">1</span>]  <span class="hljs-comment inline">// Characters are the same, no operation needed</span>
      } <span class="hljs-keyword inline">else</span> {
        dp[i][j] = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">min</span>(
          dp[i-<span class="hljs-number inline">1</span>][j] + <span class="hljs-number inline">1</span>,      <span class="hljs-comment inline">// Delete</span>
          dp[i][j-<span class="hljs-number inline">1</span>] + <span class="hljs-number inline">1</span>,      <span class="hljs-comment inline">// Insert</span>
          dp[i-<span class="hljs-number inline">1</span>][j-<span class="hljs-number inline">1</span>] + <span class="hljs-number inline">1</span>     <span class="hljs-comment inline">// Replace</span>
        )
      }
    }
  }
  
  <span class="hljs-keyword inline">return</span> dp[m][n]
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Application in Spell Checking</strong>:</p>
<p class="text-base leading-7 mb-4 text-foreground">When a user inputs &quot;teh&quot;, the system calculates the edit distance between it and all words in the dictionary:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">“teh” vs &quot;the&quot;: distance of 1 (swap e and h)</li>
<li class="text-foreground leading-relaxed">“teh” vs &quot;ten&quot;: distance of 1 (replace h with n)</li>
<li class="text-foreground leading-relaxed">“teh” vs &quot;tea&quot;: distance of 1 (replace h with a)</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">Then the system recommends the word with the smallest edit distance as a spelling suggestion.</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Algorithm Complexity</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Time complexity: O(m × n), where m and n are the lengths of the two strings respectively</li>
<li class="text-foreground leading-relaxed">Space complexity: O(m × n), can be optimized to O(min(m, n))</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Spelling%20suggestion%20generation%0Aconst%20getSpellingSuggestions%20%3D%20(word)%20%3D%3E%20%7B%0Aif%20(!spellChecker)%20%7B%0Areturn%20%5B%5D%0A%7D%0Atry%20%7B%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%0Areturn%20spellChecker.suggest(cleanWord)%20%7C%7C%20%5B%5D%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Error%20getting%20spelling%20suggestions%3A'%2C%20error)%0Areturn%20%5B%5D%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Spelling suggestion generation</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getSpellingSuggestions</span> = (<span class="hljs-params inline">word</span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!spellChecker) {
    <span class="hljs-keyword inline">return</span> []
  }
  
  <span class="hljs-keyword inline">try</span> {
    <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>()
    <span class="hljs-keyword inline">return</span> spellChecker.<span class="hljs-title function_ inline">suggest</span>(cleanWord) || []
  } <span class="hljs-keyword inline">catch</span> (error) {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error getting spelling suggestions:&#x27;</span>, error)
    <span class="hljs-keyword inline">return</span> []
  }
}
</code></pre>
            </div>
        
<h3 id="fault-tolerance-mechanism" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#fault-tolerance-mechanism" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Fault Tolerance Mechanism">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Fault Tolerance Mechanism
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The spell checking module adopts a “lenient input, strict output” design:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Lenient Input</strong>: Even if the spell checker initialization fails, the system can still work normally</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Strict Output</strong>: Strict validation and feedback for user input</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Implementation%20of%20fault%20tolerance%20mechanism%0Aconst%20processWord%20%3D%20async%20(word)%20%3D%3E%20%7B%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%0A%2F%2F%20First%20checkpoint%3A%20spell%20checking%0Aconst%20isSpelledCorrectly%20%3D%20isWordSpelledCorrectly(cleanWord)%0Aif%20(!isSpelledCorrectly)%20%7B%0Aconst%20suggestions%20%3D%20getSpellingSuggestions(cleanWord)%0Areturn%20%7B%0Asuccess%3A%20false%2C%0Aerror%3A%20'SPELLING_ERROR'%2C%0Asuggestions%2C%0Aword%3A%20cleanWord%0A%7D%0A%7D%0A%2F%2F%20Second%20checkpoint%3A%20part%20of%20speech%20analysis%0Aconst%20wordNetData%20%3D%20await%20getWordNetData(cleanWord)%0Areturn%20%7B%0Asuccess%3A%20true%2C%0Aword%3A%20cleanWord%2C%0A...wordNetData%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Implementation of fault tolerance mechanism</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">processWord</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline">word</span>) =&gt; {
  <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>()
  
  <span class="hljs-comment inline">// First checkpoint: spell checking</span>
  <span class="hljs-keyword inline">const</span> isSpelledCorrectly = <span class="hljs-title function_ inline">isWordSpelledCorrectly</span>(cleanWord)
  
  <span class="hljs-keyword inline">if</span> (!isSpelledCorrectly) {
    <span class="hljs-keyword inline">const</span> suggestions = <span class="hljs-title function_ inline">getSpellingSuggestions</span>(cleanWord)
    <span class="hljs-keyword inline">return</span> {
      <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
      <span class="hljs-attr inline">error</span>: <span class="hljs-string inline">&#x27;SPELLING_ERROR&#x27;</span>,
      suggestions,
      <span class="hljs-attr inline">word</span>: cleanWord
    }
  }
  
  <span class="hljs-comment inline">// Second checkpoint: part of speech analysis</span>
  <span class="hljs-keyword inline">const</span> wordNetData = <span class="hljs-keyword inline">await</span> <span class="hljs-title function_ inline">getWordNetData</span>(cleanWord)
  
  <span class="hljs-keyword inline">return</span> {
    <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">word</span>: cleanWord,
    ...wordNetData
  }
}
</code></pre>
            </div>
        
<h2 id="wordnet-vocabulary-database-integration-semantic-network" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#wordnet-vocabulary-database-integration-semantic-network" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to WordNet Vocabulary Database Integration: Semantic Network">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            WordNet Vocabulary Database Integration: Semantic Network
        </h2>
<h3 id="wordnet-data-structure" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#wordnet-data-structure" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to WordNet Data Structure">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            WordNet Data Structure
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">WordNet is an English vocabulary database based on semantic relationships, which organizes vocabulary into synonym sets (synsets):</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20wordUtils.js%20-%20WordNet%E5%88%9D%E5%A7%8B%E5%8C%96%0Aconst%20wordnet%20%3D%20require('wordnet')%0Alet%20wordnetInitialized%20%3D%20false%0Aconst%20initializeWordNet%20%3D%20async%20()%20%3D%3E%20%7B%0Aif%20(!wordnetInitialized)%20%7B%0Atry%20%7B%0Aawait%20wordnet.init()%0AwordnetInitialized%20%3D%20true%0Aconsole.log('WordNet%20initialized%20successfully')%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Failed%20to%20initialize%20WordNet%3A'%2C%20error)%0A%7D%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// wordUtils.js - WordNet初始化</span>
<span class="hljs-keyword inline">const</span> wordnet = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;wordnet&#x27;</span>)

<span class="hljs-keyword inline">let</span> wordnetInitialized = <span class="hljs-literal inline">false</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">initializeWordNet</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!wordnetInitialized) {
    <span class="hljs-keyword inline">try</span> {
      <span class="hljs-keyword inline">await</span> wordnet.<span class="hljs-title function_ inline">init</span>()
      wordnetInitialized = <span class="hljs-literal inline">true</span>
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;WordNet initialized successfully&#x27;</span>)
    } <span class="hljs-keyword inline">catch</span> (error) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Failed to initialize WordNet:&#x27;</span>, error)
    }
  }
}
</code></pre>
            </div>
        
<h3 id="automated-part-of-speech-recognition" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#automated-part-of-speech-recognition" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Automated Part of Speech Recognition">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Automated Part of Speech Recognition
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">WordNet can automatically identify the part of speech of words through semantic network analysis:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Part%20of%20speech%20mapping%20function%0Aconst%20mapWordNetPoS%20%3D%20(wordnetPos)%20%3D%3E%20%7B%0Aif%20(!wordnetPos)%20return%20null%0Aconst%20mapping%20%3D%20%7B%0A'noun'%3A%20'noun'%2C%0A'verb'%3A%20'verb'%2C%0A'adjective'%3A%20'adjective'%2C%0A'adverb'%3A%20'adverb'%2C%0A'n'%3A%20'noun'%2C%0A'v'%3A%20'verb'%2C%0A'a'%3A%20'adjective'%2C%0A's'%3A%20'adjective'%2C%20%2F%2F%20adjective%20satellite%0A'r'%3A%20'adverb'%0A%7D%0Areturn%20mapping%5BwordnetPos.toLowerCase()%5D%20%7C%7C%20null%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Part of speech mapping function</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">mapWordNetPoS</span> = (<span class="hljs-params inline">wordnetPos</span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!wordnetPos) <span class="hljs-keyword inline">return</span> <span class="hljs-literal inline">null</span>
  
  <span class="hljs-keyword inline">const</span> mapping = {
    <span class="hljs-string inline">&#x27;noun&#x27;</span>: <span class="hljs-string inline">&#x27;noun&#x27;</span>,
    <span class="hljs-string inline">&#x27;verb&#x27;</span>: <span class="hljs-string inline">&#x27;verb&#x27;</span>, 
    <span class="hljs-string inline">&#x27;adjective&#x27;</span>: <span class="hljs-string inline">&#x27;adjective&#x27;</span>,
    <span class="hljs-string inline">&#x27;adverb&#x27;</span>: <span class="hljs-string inline">&#x27;adverb&#x27;</span>,
    <span class="hljs-string inline">&#x27;n&#x27;</span>: <span class="hljs-string inline">&#x27;noun&#x27;</span>,
    <span class="hljs-string inline">&#x27;v&#x27;</span>: <span class="hljs-string inline">&#x27;verb&#x27;</span>,
    <span class="hljs-string inline">&#x27;a&#x27;</span>: <span class="hljs-string inline">&#x27;adjective&#x27;</span>,
    <span class="hljs-string inline">&#x27;s&#x27;</span>: <span class="hljs-string inline">&#x27;adjective&#x27;</span>, <span class="hljs-comment inline">// adjective satellite</span>
    <span class="hljs-string inline">&#x27;r&#x27;</span>: <span class="hljs-string inline">&#x27;adverb&#x27;</span>
  }
  
  <span class="hljs-keyword inline">return</span> mapping[wordnetPos.<span class="hljs-title function_ inline">toLowerCase</span>()] || <span class="hljs-literal inline">null</span>
}
</code></pre>
            </div>
        
<h3 id="asynchronous-initialization" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#asynchronous-initialization" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Asynchronous Initialization">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Asynchronous Initialization
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">WordNet initialization is an asynchronous process that adopts a lazy loading strategy:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Complete%20implementation%20for%20getting%20WordNet%20data%0Aconst%20getWordNetData%20%3D%20async%20(word)%20%3D%3E%20%7B%0Atry%20%7B%0A%2F%2F%20Ensure%20WordNet%20is%20initialized%0Aawait%20initializeWordNet()%0Aif%20(!wordnetInitialized)%20%7B%0Aconsole.warn('WordNet%20not%20available')%0Areturn%20%7B%0Adefinitions%3A%20%5B%5D%2C%0AprimaryDefinition%3A%20null%2C%0AprimaryPartOfSpeech%3A%20null%2C%0AwordNetProcessed%3A%20false%0A%7D%0A%7D%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%0Atry%20%7B%0Aconst%20definitions%20%3D%20await%20wordnet.lookup(cleanWord)%0Aif%20(!definitions%20%7C%7C%20definitions.length%20%3D%3D%3D%200)%20%7B%0Aconsole.log(%60No%20WordNet%20data%20found%20for%3A%20%24%7BcleanWord%7D%60)%0Areturn%20%7B%0Adefinitions%3A%20%5B%5D%2C%0AprimaryDefinition%3A%20null%2C%0AprimaryPartOfSpeech%3A%20null%2C%0AwordNetProcessed%3A%20true%0A%7D%0A%7D%0A%2F%2F%20Process%20WordNet%20definitions%0Aconst%20processedDefinitions%20%3D%20definitions.map(def%20%3D%3E%20(%7B%0Atext%3A%20def.glossary%20%7C%7C%20def.gloss%20%7C%7C%20''%2C%0ApartOfSpeech%3A%20mapWordNetPoS(def.meta%3F.synsetType)%0A%7D)).filter(def%20%3D%3E%20def.text%20%26%26%20def.partOfSpeech)%0A%2F%2F%20Get%20primary%20definition%20and%20part%20of%20speech%0Aconst%20primaryDefinition%20%3D%20processedDefinitions.length%20%3E%200%0A%3F%20processedDefinitions%5B0%5D.text%0A%3A%20null%0Aconst%20primaryPartOfSpeech%20%3D%20processedDefinitions.length%20%3E%200%0A%3F%20processedDefinitions%5B0%5D.partOfSpeech%0A%3A%20null%0Areturn%20%7B%0Adefinitions%3A%20processedDefinitions.slice(0%2C%2010)%2C%20%2F%2F%20Limit%20to%2010%20definitions%0AprimaryDefinition%2C%0AprimaryPartOfSpeech%2C%0AwordNetProcessed%3A%20true%0A%7D%0A%7D%20catch%20(lookupError)%20%7B%0Aconsole.error('Error%20looking%20up%20word%20in%20WordNet%3A'%2C%20lookupError)%0Areturn%20%7B%0Adefinitions%3A%20%5B%5D%2C%0AprimaryDefinition%3A%20null%2C%0AprimaryPartOfSpeech%3A%20null%2C%0AwordNetProcessed%3A%20true%0A%7D%0A%7D%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Error%20in%20getWordNetData%3A'%2C%20error)%0Areturn%20%7B%0Adefinitions%3A%20%5B%5D%2C%0AprimaryDefinition%3A%20null%2C%0AprimaryPartOfSpeech%3A%20null%2C%0AwordNetProcessed%3A%20false%0A%7D%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Complete implementation for getting WordNet data</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getWordNetData</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline">word</span>) =&gt; {
  <span class="hljs-keyword inline">try</span> {
    <span class="hljs-comment inline">// Ensure WordNet is initialized</span>
    <span class="hljs-keyword inline">await</span> <span class="hljs-title function_ inline">initializeWordNet</span>()
    
    <span class="hljs-keyword inline">if</span> (!wordnetInitialized) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">warn</span>(<span class="hljs-string inline">&#x27;WordNet not available&#x27;</span>)
      <span class="hljs-keyword inline">return</span> {
        <span class="hljs-attr inline">definitions</span>: [],
        <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-literal inline">null</span>,
        <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-literal inline">null</span>,
        <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">false</span>
      }
    }
    
    <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>()
    
    <span class="hljs-keyword inline">try</span> {
      <span class="hljs-keyword inline">const</span> definitions = <span class="hljs-keyword inline">await</span> wordnet.<span class="hljs-title function_ inline">lookup</span>(cleanWord)
      
      <span class="hljs-keyword inline">if</span> (!definitions || definitions.<span class="hljs-property inline">length</span> === <span class="hljs-number inline">0</span>) {
        <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">`No WordNet data found for: <span class="hljs-subst inline">${cleanWord}</span>`</span>)
        <span class="hljs-keyword inline">return</span> {
          <span class="hljs-attr inline">definitions</span>: [],
          <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-literal inline">null</span>,
          <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-literal inline">null</span>,
          <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">true</span>
        }
      }
      
      <span class="hljs-comment inline">// Process WordNet definitions</span>
      <span class="hljs-keyword inline">const</span> processedDefinitions = definitions.<span class="hljs-title function_ inline">map</span>(<span class="hljs-function inline"><span class="hljs-params inline">def</span> =&gt;</span> ({
        <span class="hljs-attr inline">text</span>: def.<span class="hljs-property inline">glossary</span> || def.<span class="hljs-property inline">gloss</span> || <span class="hljs-string inline">&#x27;&#x27;</span>,
        <span class="hljs-attr inline">partOfSpeech</span>: <span class="hljs-title function_ inline">mapWordNetPoS</span>(def.<span class="hljs-property inline">meta</span>?.<span class="hljs-property inline">synsetType</span>)
      })).<span class="hljs-title function_ inline">filter</span>(<span class="hljs-function inline"><span class="hljs-params inline">def</span> =&gt;</span> def.<span class="hljs-property inline">text</span> &amp;&amp; def.<span class="hljs-property inline">partOfSpeech</span>)
      
      <span class="hljs-comment inline">// Get primary definition and part of speech</span>
      <span class="hljs-keyword inline">const</span> primaryDefinition = processedDefinitions.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span> 
        ? processedDefinitions[<span class="hljs-number inline">0</span>].<span class="hljs-property inline">text</span> 
        : <span class="hljs-literal inline">null</span>
      <span class="hljs-keyword inline">const</span> primaryPartOfSpeech = processedDefinitions.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span> 
        ? processedDefinitions[<span class="hljs-number inline">0</span>].<span class="hljs-property inline">partOfSpeech</span> 
        : <span class="hljs-literal inline">null</span>
      
      <span class="hljs-keyword inline">return</span> {
        <span class="hljs-attr inline">definitions</span>: processedDefinitions.<span class="hljs-title function_ inline">slice</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">10</span>), <span class="hljs-comment inline">// Limit to 10 definitions</span>
        primaryDefinition,
        primaryPartOfSpeech,
        <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">true</span>
      }
    } <span class="hljs-keyword inline">catch</span> (lookupError) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error looking up word in WordNet:&#x27;</span>, lookupError)
      <span class="hljs-keyword inline">return</span> {
        <span class="hljs-attr inline">definitions</span>: [],
        <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-literal inline">null</span>,
        <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-literal inline">null</span>,
        <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">true</span>
      }
    }
  } <span class="hljs-keyword inline">catch</span> (error) {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error in getWordNetData:&#x27;</span>, error)
    <span class="hljs-keyword inline">return</span> {
      <span class="hljs-attr inline">definitions</span>: [],
      <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-literal inline">null</span>,
      <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-literal inline">null</span>,
      <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">false</span>
    }
  }
}
</code></pre>
            </div>
        
<h2 id="data-model-and-storage-design-mongodb-documents" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#data-model-and-storage-design-mongodb-documents" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Data Model and Storage Design: MongoDB Documents">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Data Model and Storage Design: MongoDB Documents
        </h2>
<h3 id="optimized-schema-design" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#optimized-schema-design" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Optimized Schema Design">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Optimized Schema Design
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">MongoDB document structure design is the foundation of the entire system:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20models%2FWord.js%20-%20Complete%20Schema%20design%0Aconst%20wordSchema%20%3D%20new%20mongoose.Schema(%7B%0Aword%3A%20%7B%0Atype%3A%20String%2C%0Arequired%3A%20true%2C%0Atrim%3A%20true%2C%0Alowercase%3A%20true%2C%0Amaxlength%3A%2050%0A%7D%2C%0AuserIds%3A%20%5B%7B%0Atype%3A%20mongoose.Schema.Types.ObjectId%2C%0Aref%3A%20'User'%2C%0Arequired%3A%20true%0A%7D%5D%2C%0A%2F%2F%20WordNet%20retrieved%20data%0Adefinitions%3A%20%5B%7B%0Atext%3A%20%7B%0Atype%3A%20String%2C%0Atrim%3A%20true%2C%0Amaxlength%3A%201000%0A%7D%2C%0ApartOfSpeech%3A%20%7B%0Atype%3A%20String%2C%0Aenum%3A%20%5B'noun'%2C%20'verb'%2C%20'adjective'%2C%20'adverb'%2C%20'preposition'%2C%0A'conjunction'%2C%20'interjection'%2C%20'pronoun'%2C%20'determiner'%2C%0A'adjective%20satellite'%5D%0A%7D%0A%7D%5D%2C%0A%2F%2F%20Primary%20part%20of%20speech%20(most%20common)%0AprimaryPartOfSpeech%3A%20%7B%0Atype%3A%20String%2C%0Aenum%3A%20%5B'noun'%2C%20'verb'%2C%20'adjective'%2C%20'adverb'%2C%20'preposition'%2C%0A'conjunction'%2C%20'interjection'%2C%20'pronoun'%2C%20'determiner'%2C%0A'adjective%20satellite'%5D%0A%7D%2C%0A%2F%2F%20Primary%20definition%20(first%2Fmost%20common)%0AprimaryDefinition%3A%20%7B%0Atype%3A%20String%2C%0Atrim%3A%20true%2C%0Amaxlength%3A%201000%0A%7D%2C%0AusageCount%3A%20%7B%0Atype%3A%20Number%2C%0Adefault%3A%200%2C%0Amin%3A%200%0A%7D%2C%0A%2F%2F%20Track%20whether%20WordNet%20lookup%20was%20successful%0AwordNetProcessed%3A%20%7B%0Atype%3A%20Boolean%2C%0Adefault%3A%20false%0A%7D%0A%7D%2C%20%7B%0Atimestamps%3A%20true%0A%7D)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// models/Word.js - Complete Schema design</span>
<span class="hljs-keyword inline">const</span> wordSchema = <span class="hljs-keyword inline">new</span> mongoose.<span class="hljs-title class_ inline">Schema</span>({
  <span class="hljs-attr inline">word</span>: {
    <span class="hljs-attr inline">type</span>: <span class="hljs-title class_ inline">String</span>,
    <span class="hljs-attr inline">required</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">trim</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">lowercase</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">maxlength</span>: <span class="hljs-number inline">50</span>
  },
  <span class="hljs-attr inline">userIds</span>: [{
    <span class="hljs-attr inline">type</span>: mongoose.<span class="hljs-property inline">Schema</span>.<span class="hljs-property inline">Types</span>.<span class="hljs-property inline">ObjectId</span>,
    <span class="hljs-attr inline">ref</span>: <span class="hljs-string inline">&#x27;User&#x27;</span>,
    <span class="hljs-attr inline">required</span>: <span class="hljs-literal inline">true</span>
  }],
  <span class="hljs-comment inline">// WordNet retrieved data</span>
  <span class="hljs-attr inline">definitions</span>: [{
    <span class="hljs-attr inline">text</span>: {
      <span class="hljs-attr inline">type</span>: <span class="hljs-title class_ inline">String</span>,
      <span class="hljs-attr inline">trim</span>: <span class="hljs-literal inline">true</span>,
      <span class="hljs-attr inline">maxlength</span>: <span class="hljs-number inline">1000</span>
    },
    <span class="hljs-attr inline">partOfSpeech</span>: {
      <span class="hljs-attr inline">type</span>: <span class="hljs-title class_ inline">String</span>,
      <span class="hljs-attr inline">enum</span>: [<span class="hljs-string inline">&#x27;noun&#x27;</span>, <span class="hljs-string inline">&#x27;verb&#x27;</span>, <span class="hljs-string inline">&#x27;adjective&#x27;</span>, <span class="hljs-string inline">&#x27;adverb&#x27;</span>, <span class="hljs-string inline">&#x27;preposition&#x27;</span>, 
             <span class="hljs-string inline">&#x27;conjunction&#x27;</span>, <span class="hljs-string inline">&#x27;interjection&#x27;</span>, <span class="hljs-string inline">&#x27;pronoun&#x27;</span>, <span class="hljs-string inline">&#x27;determiner&#x27;</span>, 
             <span class="hljs-string inline">&#x27;adjective satellite&#x27;</span>]
    }
  }],
  <span class="hljs-comment inline">// Primary part of speech (most common)</span>
  <span class="hljs-attr inline">primaryPartOfSpeech</span>: {
    <span class="hljs-attr inline">type</span>: <span class="hljs-title class_ inline">String</span>,
    <span class="hljs-attr inline">enum</span>: [<span class="hljs-string inline">&#x27;noun&#x27;</span>, <span class="hljs-string inline">&#x27;verb&#x27;</span>, <span class="hljs-string inline">&#x27;adjective&#x27;</span>, <span class="hljs-string inline">&#x27;adverb&#x27;</span>, <span class="hljs-string inline">&#x27;preposition&#x27;</span>, 
           <span class="hljs-string inline">&#x27;conjunction&#x27;</span>, <span class="hljs-string inline">&#x27;interjection&#x27;</span>, <span class="hljs-string inline">&#x27;pronoun&#x27;</span>, <span class="hljs-string inline">&#x27;determiner&#x27;</span>, 
           <span class="hljs-string inline">&#x27;adjective satellite&#x27;</span>]
  },
  <span class="hljs-comment inline">// Primary definition (first/most common)</span>
  <span class="hljs-attr inline">primaryDefinition</span>: {
    <span class="hljs-attr inline">type</span>: <span class="hljs-title class_ inline">String</span>,
    <span class="hljs-attr inline">trim</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">maxlength</span>: <span class="hljs-number inline">1000</span>
  },
  <span class="hljs-attr inline">usageCount</span>: {
    <span class="hljs-attr inline">type</span>: <span class="hljs-title class_ inline">Number</span>,
    <span class="hljs-attr inline">default</span>: <span class="hljs-number inline">0</span>,
    <span class="hljs-attr inline">min</span>: <span class="hljs-number inline">0</span>
  },
  <span class="hljs-comment inline">// Track whether WordNet lookup was successful</span>
  <span class="hljs-attr inline">wordNetProcessed</span>: {
    <span class="hljs-attr inline">type</span>: <span class="hljs-title class_ inline">Boolean</span>,
    <span class="hljs-attr inline">default</span>: <span class="hljs-literal inline">false</span>
  }
}, {
  <span class="hljs-attr inline">timestamps</span>: <span class="hljs-literal inline">true</span>
})
</code></pre>
            </div>
        
<h3 id="performance-optimization-with-compound-indexes" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#performance-optimization-with-compound-indexes" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Performance Optimization with Compound Indexes">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Performance Optimization with Compound Indexes
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">Index design is key to database performance:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Compound%20index%20prevents%20duplicate%20words%20uploaded%20by%20each%20user%0AwordSchema.index(%7B%20word%3A%201%2C%20userIds%3A%201%20%7D%2C%20%7B%20unique%3A%20true%20%7D)%0A%2F%2F%20Indexes%20to%20improve%20query%20performance%0AwordSchema.index(%7B%20userIds%3A%201%2C%20createdAt%3A%20-1%20%7D)%0AwordSchema.index(%7B%20usageCount%3A%20-1%20%7D)%0AwordSchema.index(%7B%20primaryPartOfSpeech%3A%201%20%7D)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Compound index prevents duplicate words uploaded by each user</span>
wordSchema.<span class="hljs-title function_ inline">index</span>({ <span class="hljs-attr inline">word</span>: <span class="hljs-number inline">1</span>, <span class="hljs-attr inline">userIds</span>: <span class="hljs-number inline">1</span> }, { <span class="hljs-attr inline">unique</span>: <span class="hljs-literal inline">true</span> })

<span class="hljs-comment inline">// Indexes to improve query performance</span>
wordSchema.<span class="hljs-title function_ inline">index</span>({ <span class="hljs-attr inline">userIds</span>: <span class="hljs-number inline">1</span>, <span class="hljs-attr inline">createdAt</span>: -<span class="hljs-number inline">1</span> })
wordSchema.<span class="hljs-title function_ inline">index</span>({ <span class="hljs-attr inline">usageCount</span>: -<span class="hljs-number inline">1</span> })
wordSchema.<span class="hljs-title function_ inline">index</span>({ <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-number inline">1</span> })
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Index Performance Analysis</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Query without index</strong>: O(n) time complexity</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Query with index</strong>: O(log n) time complexity</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Compound index</strong>: Supports multi-field query optimization</li>
</ul>
<h3 id="multi-user-data-sharing-mechanism" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#multi-user-data-sharing-mechanism" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Multi-user Data Sharing Mechanism">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Multi-user Data Sharing Mechanism
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The same word can be shared by multiple users:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Balance%20between%20user%20data%20isolation%20and%20sharing%0Aconst%20query%20%3D%20%7B%20userIds%3A%20req.user.id%20%7D%0A%2F%2F%20If%20word%20already%20exists%2C%20add%20user%20to%20sharing%20list%0Aif%20(existingWord)%20%7B%0Aif%20(existingWord.userIds.includes(req.user.id))%20%7B%0Areturn%20res.status(400).json(%7B%0Asuccess%3A%20false%2C%0Amessage%3A%20req.t('words.wordAlreadyExists')%0A%7D)%0A%7D%0A%2F%2F%20Add%20user%20to%20existing%20word%0AexistingWord.userIds.push(req.user.id)%0Aawait%20existingWord.save()%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Balance between user data isolation and sharing</span>
<span class="hljs-keyword inline">const</span> query = { <span class="hljs-attr inline">userIds</span>: req.<span class="hljs-property inline">user</span>.<span class="hljs-property inline">id</span> }

<span class="hljs-comment inline">// If word already exists, add user to sharing list</span>
<span class="hljs-keyword inline">if</span> (existingWord) {
  <span class="hljs-keyword inline">if</span> (existingWord.<span class="hljs-property inline">userIds</span>.<span class="hljs-title function_ inline">includes</span>(req.<span class="hljs-property inline">user</span>.<span class="hljs-property inline">id</span>)) {
    <span class="hljs-keyword inline">return</span> res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">400</span>).<span class="hljs-title function_ inline">json</span>({
      <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
      <span class="hljs-attr inline">message</span>: req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.wordAlreadyExists&#x27;</span>)
    })
  }
  
  <span class="hljs-comment inline">// Add user to existing word</span>
  existingWord.<span class="hljs-property inline">userIds</span>.<span class="hljs-title function_ inline">push</span>(req.<span class="hljs-property inline">user</span>.<span class="hljs-property inline">id</span>)
  <span class="hljs-keyword inline">await</span> existingWord.<span class="hljs-title function_ inline">save</span>()
}
</code></pre>
            </div>
        
<h2 id="backend-controller-logic-deep-analysis-restful" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#backend-controller-logic-deep-analysis-restful" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Backend Controller Logic Deep Analysis: RESTful">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Backend Controller Logic Deep Analysis: RESTful
        </h2>
<h3 id="data-validation-schema-design" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#data-validation-schema-design" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Data Validation Schema Design">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Data Validation Schema Design
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">Joi data validation:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Input%20validation%20schema%0Aconst%20addWordSchema%20%3D%20Joi.object(%7B%0Aword%3A%20Joi.string()%0A.min(1)%0A.max(50)%0A.pattern(%2F%5E%5Ba-zA-Z%5C-'%5D%2B%24%2F)%0A.required()%0A%7D)%0A%2F%2F%20Usage%20in%20controller%0Aconst%20%7B%20error%20%7D%20%3D%20addWordSchema.validate(req.body)%0Aif%20(error)%20%7B%0Areturn%20res.status(400).json(%7B%0Asuccess%3A%20false%2C%0Amessage%3A%20error.details%5B0%5D.message%0A%7D)%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Input validation schema</span>
<span class="hljs-keyword inline">const</span> addWordSchema = <span class="hljs-title class_ inline">Joi</span>.<span class="hljs-title function_ inline">object</span>({
  <span class="hljs-attr inline">word</span>: <span class="hljs-title class_ inline">Joi</span>.<span class="hljs-title function_ inline">string</span>()
    .<span class="hljs-title function_ inline">min</span>(<span class="hljs-number inline">1</span>)
    .<span class="hljs-title function_ inline">max</span>(<span class="hljs-number inline">50</span>)
    .<span class="hljs-title function_ inline">pattern</span>(<span class="hljs-regexp inline">/^[a-zA-Z\-&#x27;]+$/</span>)
    .<span class="hljs-title function_ inline">required</span>()
})

<span class="hljs-comment inline">// Usage in controller</span>
<span class="hljs-keyword inline">const</span> { error } = addWordSchema.<span class="hljs-title function_ inline">validate</span>(req.<span class="hljs-property inline">body</span>)
<span class="hljs-keyword inline">if</span> (error) {
  <span class="hljs-keyword inline">return</span> res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">400</span>).<span class="hljs-title function_ inline">json</span>({
    <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
    <span class="hljs-attr inline">message</span>: error.<span class="hljs-property inline">details</span>[<span class="hljs-number inline">0</span>].<span class="hljs-property inline">message</span>
  })
}
</code></pre>
            </div>
        
<h3 id="pagination-query" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#pagination-query" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Pagination Query">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Pagination Query
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20getUserWords%20-%20Pagination%20query%20implementation%0Aconst%20%7B%20page%20%3D%201%2C%20limit%20%3D%2050%2C%20sortBy%20%3D%20'recent'%2C%20search%2C%20partOfSpeech%20%7D%20%3D%20req.query%0Aconst%20skip%20%3D%20(page%20-%201)%20*%20limit%0A%2F%2F%20Build%20query%20conditions%0Aconst%20query%20%3D%20%7B%20userIds%3A%20req.user.id%20%7D%0A%2F%2F%20Search%20filtering%0Aif%20(search)%20%7B%0Aquery.word%20%3D%20%7B%20%24regex%3A%20search.trim()%2C%20%24options%3A%20'i'%20%7D%0A%7D%0A%2F%2F%20Part%20of%20speech%20filtering%0Aif%20(partOfSpeech%20%26%26%20partOfSpeech%20!%3D%3D%20'all')%20%7B%0Aquery.primaryPartOfSpeech%20%3D%20partOfSpeech%0A%7D%0A%2F%2F%20Sorting%20criteria%0Alet%20sortCriteria%0Aswitch%20(sortBy)%20%7B%0Acase%20'alphabetical'%3A%0AsortCriteria%20%3D%20%7B%20word%3A%201%20%7D%0Abreak%0Acase%20'usage'%3A%0AsortCriteria%20%3D%20%7B%20usageCount%3A%20-1%2C%20createdAt%3A%20-1%20%7D%0Abreak%0Adefault%3A%0AsortCriteria%20%3D%20%7B%20createdAt%3A%20-1%20%7D%0A%7D%0A%2F%2F%20Pagination%20query%0Aconst%20words%20%3D%20await%20Word.find(query)%0A.sort(sortCriteria)%0A.skip(skip)%0A.limit(parseInt(limit))%0A%2F%2F%20Total%20count%0Aconst%20total%20%3D%20await%20Word.countDocuments(query)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// getUserWords - Pagination query implementation</span>
<span class="hljs-keyword inline">const</span> { page = <span class="hljs-number inline">1</span>, limit = <span class="hljs-number inline">50</span>, sortBy = <span class="hljs-string inline">&#x27;recent&#x27;</span>, search, partOfSpeech } = req.<span class="hljs-property inline">query</span>
<span class="hljs-keyword inline">const</span> skip = (page - <span class="hljs-number inline">1</span>) * limit

<span class="hljs-comment inline">// Build query conditions</span>
<span class="hljs-keyword inline">const</span> query = { <span class="hljs-attr inline">userIds</span>: req.<span class="hljs-property inline">user</span>.<span class="hljs-property inline">id</span> }

<span class="hljs-comment inline">// Search filtering</span>
<span class="hljs-keyword inline">if</span> (search) {
  query.<span class="hljs-property inline">word</span> = { <span class="hljs-attr inline">$regex</span>: search.<span class="hljs-title function_ inline">trim</span>(), <span class="hljs-attr inline">$options</span>: <span class="hljs-string inline">&#x27;i&#x27;</span> }
}

<span class="hljs-comment inline">// Part of speech filtering</span>
<span class="hljs-keyword inline">if</span> (partOfSpeech &amp;&amp; partOfSpeech !== <span class="hljs-string inline">&#x27;all&#x27;</span>) {
  query.<span class="hljs-property inline">primaryPartOfSpeech</span> = partOfSpeech
}

<span class="hljs-comment inline">// Sorting criteria</span>
<span class="hljs-keyword inline">let</span> sortCriteria
<span class="hljs-keyword inline">switch</span> (sortBy) {
  <span class="hljs-keyword inline">case</span> <span class="hljs-string inline">&#x27;alphabetical&#x27;</span>:
    sortCriteria = { <span class="hljs-attr inline">word</span>: <span class="hljs-number inline">1</span> }
    <span class="hljs-keyword inline">break</span>
  <span class="hljs-keyword inline">case</span> <span class="hljs-string inline">&#x27;usage&#x27;</span>:
    sortCriteria = { <span class="hljs-attr inline">usageCount</span>: -<span class="hljs-number inline">1</span>, <span class="hljs-attr inline">createdAt</span>: -<span class="hljs-number inline">1</span> }
    <span class="hljs-keyword inline">break</span>
  <span class="hljs-attr inline">default</span>:
    sortCriteria = { <span class="hljs-attr inline">createdAt</span>: -<span class="hljs-number inline">1</span> }
}

<span class="hljs-comment inline">// Pagination query</span>
<span class="hljs-keyword inline">const</span> words = <span class="hljs-keyword inline">await</span> <span class="hljs-title class_ inline">Word</span>.<span class="hljs-title function_ inline">find</span>(query)
  .<span class="hljs-title function_ inline">sort</span>(sortCriteria)
  .<span class="hljs-title function_ inline">skip</span>(skip)
  .<span class="hljs-title function_ inline">limit</span>(<span class="hljs-built_in inline">parseInt</span>(limit))

<span class="hljs-comment inline">// Total count</span>
<span class="hljs-keyword inline">const</span> total = <span class="hljs-keyword inline">await</span> <span class="hljs-title class_ inline">Word</span>.<span class="hljs-title function_ inline">countDocuments</span>(query)
</code></pre>
            </div>
        
<h3 id="standardized-error-handling-implementation" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#standardized-error-handling-implementation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Standardized Error Handling Implementation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Standardized Error Handling Implementation
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">Unified error handling mechanism:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Standardized%20error%20handling%0Atry%20%7B%0A%2F%2F%20Business%20logic%0A%7D%20catch%20(error)%20%7B%0Aif%20(error.code%20%3D%3D%3D%2011000)%20%7B%0Areturn%20res.status(400).json(%7B%0Asuccess%3A%20false%2C%0Amessage%3A%20req.t('words.wordAlreadyExists')%0A%7D)%0A%7D%0Aconsole.error('Add%20word%20error%3A'%2C%20error)%0Ares.status(500).json(%7B%0Asuccess%3A%20false%2C%0Amessage%3A%20req.t('words.serverErrorAddingWord')%0A%7D)%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Standardized error handling</span>
<span class="hljs-keyword inline">try</span> {
  <span class="hljs-comment inline">// Business logic</span>
} <span class="hljs-keyword inline">catch</span> (error) {
  <span class="hljs-keyword inline">if</span> (error.<span class="hljs-property inline">code</span> === <span class="hljs-number inline">11000</span>) {
    <span class="hljs-keyword inline">return</span> res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">400</span>).<span class="hljs-title function_ inline">json</span>({
      <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
      <span class="hljs-attr inline">message</span>: req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.wordAlreadyExists&#x27;</span>)
    })
  }
  <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Add word error:&#x27;</span>, error)
  res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">500</span>).<span class="hljs-title function_ inline">json</span>({
    <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
    <span class="hljs-attr inline">message</span>: req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.serverErrorAddingWord&#x27;</span>)
  })
}
</code></pre>
            </div>
        
<h2 id="intelligent-recommendations-mongodb-aggregation" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#intelligent-recommendations-mongodb-aggregation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Intelligent Recommendations: MongoDB Aggregation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Intelligent Recommendations: MongoDB Aggregation
        </h2>
<h3 id="random-word-recommendation-algorithm" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#random-word-recommendation-algorithm" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Random Word Recommendation Algorithm">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Random Word Recommendation Algorithm
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">Using MongoDB’s aggregation pipeline to implement intelligent word recommendation functionality:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20getRandomWords%20-%20Implementation%20of%20intelligent%20recommendation%0Aconst%20%7B%20count%2C%20excludeUserWords%2C%20partOfSpeech%20%7D%20%3D%20value%0A%2F%2F%20Build%20an%20aggregation%20pipeline%0Alet%20aggregationPipeline%20%3D%20%5B%5D%0A%2F%2F%20Build%20matching%20conditions%0Alet%20matchCriteria%20%3D%20%7B%7D%0A%2F%2F%20Exclude%20words%20the%20user%20already%20has%0Aif%20(excludeUserWords)%20%7B%0AmatchCriteria.userIds%20%3D%20%7B%20%24ne%3A%20req.user.id%20%7D%0A%7D%0A%2F%2F%20Part%20of%20speech%20filtering%0Aif%20(partOfSpeech)%20%7B%0AmatchCriteria.primaryPartOfSpeech%20%3D%20partOfSpeech%0A%7D%0A%2F%2F%20Add%20a%20matching%20phase%0Aif%20(Object.keys(matchCriteria).length%20%3E%200)%20%7B%0AaggregationPipeline.push(%7B%20%24match%3A%20matchCriteria%20%7D)%0A%7D%0A%2F%2F%20Random%20sampling%0AaggregationPipeline.push(%7B%0A%24sample%3A%20%7B%20size%3A%20count%20*%202%20%7D%20%2F%2F%20%E8%8E%B7%E5%8F%96%E6%AF%94%E9%9C%80%E8%A6%81%E6%9B%B4%E5%A4%9A%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BB%A5%E5%BA%94%E5%AF%B9%E8%BF%87%E6%BB%A4%0A%7D)%0A%2F%2F%20Project%20the%20required%20fields%0AaggregationPipeline.push(%7B%0A%24project%3A%20%7B%0A_id%3A%201%2C%0Aword%3A%201%2C%0AprimaryDefinition%3A%201%2C%0AprimaryPartOfSpeech%3A%201%2C%0AusageCount%3A%201%0A%7D%0A%7D)%0A%2F%2F%20Execute%20aggregate%20query%0Alet%20randomWords%20%3D%20await%20Word.aggregate(aggregationPipeline)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// getRandomWords - Implementation of intelligent recommendation</span>
<span class="hljs-keyword inline">const</span> { count, excludeUserWords, partOfSpeech } = value

<span class="hljs-comment inline">// Build an aggregation pipeline</span>
<span class="hljs-keyword inline">let</span> aggregationPipeline = []

<span class="hljs-comment inline">// Build matching conditions</span>
<span class="hljs-keyword inline">let</span> matchCriteria = {}

<span class="hljs-comment inline">// Exclude words the user already has</span>
<span class="hljs-keyword inline">if</span> (excludeUserWords) {
  matchCriteria.<span class="hljs-property inline">userIds</span> = { <span class="hljs-attr inline">$ne</span>: req.<span class="hljs-property inline">user</span>.<span class="hljs-property inline">id</span> }
}

<span class="hljs-comment inline">// Part of speech filtering</span>
<span class="hljs-keyword inline">if</span> (partOfSpeech) {
  matchCriteria.<span class="hljs-property inline">primaryPartOfSpeech</span> = partOfSpeech
}

<span class="hljs-comment inline">// Add a matching phase</span>
<span class="hljs-keyword inline">if</span> (<span class="hljs-title class_ inline">Object</span>.<span class="hljs-title function_ inline">keys</span>(matchCriteria).<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span>) {
  aggregationPipeline.<span class="hljs-title function_ inline">push</span>({ <span class="hljs-attr inline">$match</span>: matchCriteria })
}

<span class="hljs-comment inline">// Random sampling</span>
aggregationPipeline.<span class="hljs-title function_ inline">push</span>({
  <span class="hljs-attr inline">$sample</span>: { <span class="hljs-attr inline">size</span>: count * <span class="hljs-number inline">2</span> } <span class="hljs-comment inline">// 获取比需要更多的数据以应对过滤</span>
})

<span class="hljs-comment inline">// Project the required fields</span>
aggregationPipeline.<span class="hljs-title function_ inline">push</span>({
  <span class="hljs-attr inline">$project</span>: {
    <span class="hljs-attr inline">_id</span>: <span class="hljs-number inline">1</span>,
    <span class="hljs-attr inline">word</span>: <span class="hljs-number inline">1</span>,
    <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-number inline">1</span>,
    <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-number inline">1</span>,
    <span class="hljs-attr inline">usageCount</span>: <span class="hljs-number inline">1</span>
  }
})

<span class="hljs-comment inline">// Execute aggregate query</span>
<span class="hljs-keyword inline">let</span> randomWords = <span class="hljs-keyword inline">await</span> <span class="hljs-title class_ inline">Word</span>.<span class="hljs-title function_ inline">aggregate</span>(aggregationPipeline)
</code></pre>
            </div>
        
<h3 id="performance-optimization-of-recommendation-algorithm" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#performance-optimization-of-recommendation-algorithm" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Performance Optimization of Recommendation Algorithm">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Performance Optimization of Recommendation Algorithm
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">MongoDB’s <code>$sample</code> operator uses an efficient random sampling algorithm:</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Algorithm Complexity Analysis</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Random Sampling</strong>: O(1) time complexity</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Traditional Sorting</strong>: O(n log n) time complexity</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Performance Improvement</strong>: When n=1 million, improvement of approximately 3000x</li>
</ul>
<h3 id="personalized-filtering-mechanism" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#personalized-filtering-mechanism" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Personalized Filtering Mechanism">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Personalized Filtering Mechanism
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The system supports multi-level personalized filtering:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Multi-layer%20filtering%20mechanism%0Aconst%20fallbackWords%20%3D%20await%20Word.aggregate(fallbackPipeline)%0A%2F%2F%20Merge%20results%2C%20avoid%20duplicates%0Aconst%20existingWordIds%20%3D%20new%20Set(randomWords.map(w%20%3D%3E%20w._id.toString()))%0Aconst%20newWords%20%3D%20fallbackWords.filter(w%20%3D%3E%20!existingWordIds.has(w._id.toString()))%0ArandomWords%20%3D%20%5B...randomWords%2C%20...newWords%5D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Multi-layer filtering mechanism</span>
<span class="hljs-keyword inline">const</span> fallbackWords = <span class="hljs-keyword inline">await</span> <span class="hljs-title class_ inline">Word</span>.<span class="hljs-title function_ inline">aggregate</span>(fallbackPipeline)

<span class="hljs-comment inline">// Merge results, avoid duplicates</span>
<span class="hljs-keyword inline">const</span> existingWordIds = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Set</span>(randomWords.<span class="hljs-title function_ inline">map</span>(<span class="hljs-function inline"><span class="hljs-params inline">w</span> =&gt;</span> w.<span class="hljs-property inline">_id</span>.<span class="hljs-title function_ inline">toString</span>()))
<span class="hljs-keyword inline">const</span> newWords = fallbackWords.<span class="hljs-title function_ inline">filter</span>(<span class="hljs-function inline"><span class="hljs-params inline">w</span> =&gt;</span> !existingWordIds.<span class="hljs-title function_ inline">has</span>(w.<span class="hljs-property inline">_id</span>.<span class="hljs-title function_ inline">toString</span>()))

randomWords = [...randomWords, ...newWords]
</code></pre>
            </div>
        
<h2 id="complete-data-flow-analysis-from-input-to-storage" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#complete-data-flow-analysis-from-input-to-storage" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Complete Data Flow Analysis: From Input to Storage">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Complete Data Flow Analysis: From Input to Storage
        </h2>
<h3 id="complete-flow-diagram" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#complete-flow-diagram" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Complete Flow Diagram">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Complete Flow Diagram
        </h3>
<div class="mermaid block" id="mermaid-1765738202230-agtkxbg">graph TD
    A[User Input Word] --> B[Frontend Validation]
    B --> C[Send API Request]
    C --> D[Backend Receive Request]
    D --> E[Joi Data Validation]
    E --> F[Spell Check Typo.js]
    F --> G{Spelling Correct?}
    G -->|No| H[Return Spelling Suggestions]
    G -->|Yes| I[WordNet Part of Speech Analysis]
    I --> J[Database Query]
    J --> K{Word Exists?}
    K -->|Yes| L[Add User to Sharing List]
    K -->|No| M[Create New Word Record]
    L --> N[Return Success Response]
    M --> N
    N --> O[Frontend Update State]
    O --> P[Interface Refresh Display]
    H --> Q[User Selects Suggestion]
    Q --> C</div>
<h2 id="technology-library-toolchain" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#technology-library-toolchain" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Technology Library Toolchain">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Technology Library Toolchain
        </h2>
<h3 id="typojs" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#typojs" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Typo.js">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Typo.js
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Technical Features</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Based on Hunspell algorithm</li>
<li class="text-foreground leading-relaxed">Supports offline operation</li>
<li class="text-foreground leading-relaxed">Lightweight (approximately 100KB)</li>
<li class="text-foreground leading-relaxed">Multi-language support</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Use Cases</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Real-time spell verification</li>
<li class="text-foreground leading-relaxed">User input error correction</li>
<li class="text-foreground leading-relaxed">Batch text processing</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Performance Characteristics</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Initialization time: 50-100ms</li>
<li class="text-foreground leading-relaxed">Word checking: &lt;1ms</li>
<li class="text-foreground leading-relaxed">Suggestion generation: 1-5ms</li>
</ul>
<h3 id="wordnet-digitalization-of-semantic-networks" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#wordnet-digitalization-of-semantic-networks" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to WordNet: Digitalization of Semantic Networks">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            WordNet: Digitalization of Semantic Networks
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Data Structure</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Nouns: approximately 117,000</li>
<li class="text-foreground leading-relaxed">Verbs: approximately 11,500</li>
<li class="text-foreground leading-relaxed">Adjectives: approximately 22,000</li>
<li class="text-foreground leading-relaxed">Adverbs: approximately 4,600</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Semantic Relationships</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Synonyms (synonyms)</li>
<li class="text-foreground leading-relaxed">Antonyms (antonyms)</li>
<li class="text-foreground leading-relaxed">Hypernym/hyponym relationships (hypernyms/hyponyms)</li>
<li class="text-foreground leading-relaxed">Part-whole relationships (meronyms/holonyms)</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Usage Advantages</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Accurate part of speech tagging</li>
<li class="text-foreground leading-relaxed">Rich semantic information</li>
<li class="text-foreground leading-relaxed">Standardized definitions</li>
</ul>
<h3 id="joi-the-art-of-data-validation" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#joi-the-art-of-data-validation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Joi: The Art of Data Validation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Joi: The Art of Data Validation
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Design Philosophy</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Declarative validation</li>
<li class="text-foreground leading-relaxed">Chainable API</li>
<li class="text-foreground leading-relaxed">Rich built-in rules</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Performance Advantages</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Validation speed: microsecond level</li>
<li class="text-foreground leading-relaxed">Memory usage: lightweight</li>
<li class="text-foreground leading-relaxed">Error messages: friendly and clear</li>
</ul>
<h3 id="mongoose-mongodb-query-builder" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#mongoose-mongodb-query-builder" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Mongoose: MongoDB Query Builder">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Mongoose: MongoDB Query Builder
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">ORM Features</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Type-safe model definitions</li>
<li class="text-foreground leading-relaxed">Middleware support</li>
<li class="text-foreground leading-relaxed">Query builder</li>
<li class="text-foreground leading-relaxed">Automatic type conversion</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">Performance Optimization</strong>:</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">Connection pool management</li>
<li class="text-foreground leading-relaxed">Query optimization</li>
<li class="text-foreground leading-relaxed">Index recommendations</li>
</ul>
<h2 id="backend-internationalization-response-implementation" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#backend-internationalization-response-implementation" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Backend Internationalization Response Implementation">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Backend Internationalization Response Implementation
        </h2>
<h3 id="language-negotiation-via-request-headers" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#language-negotiation-via-request-headers" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Language Negotiation via Request Headers">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Language Negotiation via Request Headers
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">The frontend implements language negotiation through HTTP request headers:</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20Complete%20implementation%20of%20language%20negotiation%0Aconst%20getCurrentLocale%20%3D%20()%20%3D%3E%20%7B%0Areturn%20localStorage.getItem('locale')%20%7C%7C%0Anavigator.language.split('-')%5B0%5D%20%7C%7C%0A'en'%0A%7D%0A%2F%2F%20Language%20setting%20in%20request%20interceptor%0Aif%20(locale)%20%7B%0Aconfig.headers%5B'x-language'%5D%20%3D%20locale%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// Complete implementation of language negotiation</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getCurrentLocale</span> = (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-keyword inline">return</span> <span class="hljs-variable language_ inline">localStorage</span>.<span class="hljs-title function_ inline">getItem</span>(<span class="hljs-string inline">&#x27;locale&#x27;</span>) || 
         navigator.<span class="hljs-property inline">language</span>.<span class="hljs-title function_ inline">split</span>(<span class="hljs-string inline">&#x27;-&#x27;</span>)[<span class="hljs-number inline">0</span>] || 
         <span class="hljs-string inline">&#x27;en&#x27;</span>
}

<span class="hljs-comment inline">// Language setting in request interceptor</span>
<span class="hljs-keyword inline">if</span> (locale) {
  config.<span class="hljs-property inline">headers</span>[<span class="hljs-string inline">&#x27;x-language&#x27;</span>] = locale
}
</code></pre>
            </div>
        
<h3 id="backend-middleware-internationalization-processing" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#backend-middleware-internationalization-processing" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Backend Middleware Internationalization Processing">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Backend Middleware Internationalization Processing
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Internationalization%20middleware%0Aconst%20i18nMiddleware%20%3D%20(req%2C%20res%2C%20next)%20%3D%3E%20%7B%0Aconst%20locale%20%3D%20req.headers%5B'x-language'%5D%20%7C%7C%20'en'%0A%2F%2F%20Set%20current%20request%20language%20environment%0Areq.locale%20%3D%20locale%0A%2F%2F%20Create%20translation%20function%0Areq.t%20%3D%20(key%2C%20options)%20%3D%3E%20%7B%0Areturn%20i18n.t(key%2C%20%7B%20locale%2C%20...options%20%7D)%0A%7D%0Anext()%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Internationalization middleware</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">i18nMiddleware</span> = (<span class="hljs-params inline">req, res, next</span>) =&gt; {
  <span class="hljs-keyword inline">const</span> locale = req.<span class="hljs-property inline">headers</span>[<span class="hljs-string inline">&#x27;x-language&#x27;</span>] || <span class="hljs-string inline">&#x27;en&#x27;</span>
  
  <span class="hljs-comment inline">// Set current request language environment</span>
  req.<span class="hljs-property inline">locale</span> = locale
  
  <span class="hljs-comment inline">// Create translation function</span>
  req.<span class="hljs-property inline">t</span> = <span class="hljs-function inline">(<span class="hljs-params inline">key, options</span>) =&gt;</span> {
    <span class="hljs-keyword inline">return</span> i18n.<span class="hljs-title function_ inline">t</span>(key, { locale, ...options })
  }
  
  <span class="hljs-title function_ inline">next</span>()
}
</code></pre>
            </div>
        
<h3 id="real-time-language-switching-technical-solution" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#real-time-language-switching-technical-solution" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Real-time Language Switching Technical Solution">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Real-time Language Switching Technical Solution
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Real-time%20update%20of%20part%20of%20speech%20translation%0Aconst%20updateWordTranslations%20%3D%20(words%2C%20locale)%20%3D%3E%20%7B%0Areturn%20words.map(word%20%3D%3E%20%7B%0Aif%20(word.primaryPartOfSpeech)%20%7B%0Aword.primaryPartOfSpeechTranslated%20%3D%0Ai18n.t(%60words.%24%7Bword.primaryPartOfSpeech%7D%60%2C%20%7B%20locale%20%7D)%0A%7D%0Areturn%20word%0A%7D)%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Real-time update of part of speech translation</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">updateWordTranslations</span> = (<span class="hljs-params inline">words, locale</span>) =&gt; {
  <span class="hljs-keyword inline">return</span> words.<span class="hljs-title function_ inline">map</span>(<span class="hljs-function inline"><span class="hljs-params inline">word</span> =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (word.<span class="hljs-property inline">primaryPartOfSpeech</span>) {
      word.<span class="hljs-property inline">primaryPartOfSpeechTranslated</span> = 
        i18n.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">`words.<span class="hljs-subst inline">${word.primaryPartOfSpeech}</span>`</span>, { locale })
    }
    <span class="hljs-keyword inline">return</span> word
  })
}
</code></pre>
            </div>
        
<h2 id="user-experience" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#user-experience" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to User Experience">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            User Experience
        </h2>
<h3 id="real-time-feedback-mechanism" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#real-time-feedback-mechanism" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Real-time Feedback Mechanism">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Real-time Feedback Mechanism
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Real-time%20user%20feedback%0Aconst%20addWord%20%3D%20async%20()%20%3D%3E%20%7B%0Aif%20(!newWord.word.trim())%20return%0A%2F%2F%20Clear%20previous%20error%20state%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0Aconst%20result%20%3D%20await%20wordsStore.addWord(%7B%0Aword%3A%20newWord.word.trim()%0A%7D)%0Aif%20(result.success)%20%7B%0A%2F%2F%20Success%20feedback%0AnewWord.word%20%3D%20''%0AshowAddForm.value%20%3D%20false%0A%7D%20else%20if%20(result.suggestions)%20%7B%0A%2F%2F%20Spelling%20error%20feedback%0AspellingError.value%20%3D%20true%0AspellingSuggestions.value%20%3D%20result.suggestions%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Real-time user feedback</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">addWord</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>()) <span class="hljs-keyword inline">return</span>
  
  <span class="hljs-comment inline">// Clear previous error state</span>
  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []
  
  <span class="hljs-keyword inline">const</span> result = <span class="hljs-keyword inline">await</span> wordsStore.<span class="hljs-title function_ inline">addWord</span>({
    <span class="hljs-attr inline">word</span>: newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>()
  })
  
  <span class="hljs-keyword inline">if</span> (result.<span class="hljs-property inline">success</span>) {
    <span class="hljs-comment inline">// Success feedback</span>
    newWord.<span class="hljs-property inline">word</span> = <span class="hljs-string inline">&#x27;&#x27;</span>
    showAddForm.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (result.<span class="hljs-property inline">suggestions</span>) {
    <span class="hljs-comment inline">// Spelling error feedback</span>
    spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">true</span>
    spellingSuggestions.<span class="hljs-property inline">value</span> = result.<span class="hljs-property inline">suggestions</span>
  }
}
</code></pre>
            </div>
        
<h3 id="error-handling" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#error-handling" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Error Handling">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Error Handling
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Friendly%20error%20handling%0Atry%20%7B%0Aconst%20response%20%3D%20await%20wordsAPI.addWord(newWord)%0A%2F%2F%20...%0A%7D%20catch%20(error)%20%7B%0Aconst%20message%20%3D%20error.response%3F.data%3F.message%20%7C%7C%20t('common.error')%0A%2F%2F%20Special%20error%20handling%0Aif%20(error.response%3F.data%3F.error%20%3D%3D%3D%20'SPELLING_ERROR')%20%7B%0Aconst%20suggestions%20%3D%20error.response.data.suggestions%20%7C%7C%20%5B%5D%0Aconst%20suggestionText%20%3D%20suggestions.length%20%3E%200%0A%3F%20t('words.spellingErrorWithSuggestions'%2C%20%7B%0Asuggestions%3A%20suggestions.join('%2C%20')%0A%7D)%0A%3A%20t('words.spellingError')%0Atoast.error(suggestionText)%0Areturn%20%7B%20success%3A%20false%2C%20message%3A%20suggestionText%2C%20suggestions%20%7D%0A%7D%0Atoast.error(message)%0Areturn%20%7B%20success%3A%20false%2C%20message%20%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// Friendly error handling</span>
<span class="hljs-keyword inline">try</span> {
  <span class="hljs-keyword inline">const</span> response = <span class="hljs-keyword inline">await</span> wordsAPI.<span class="hljs-title function_ inline">addWord</span>(newWord)
  <span class="hljs-comment inline">// ...</span>
} <span class="hljs-keyword inline">catch</span> (error) {
  <span class="hljs-keyword inline">const</span> message = error.<span class="hljs-property inline">response</span>?.<span class="hljs-property inline">data</span>?.<span class="hljs-property inline">message</span> || <span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;common.error&#x27;</span>)
  
  <span class="hljs-comment inline">// Special error handling</span>
  <span class="hljs-keyword inline">if</span> (error.<span class="hljs-property inline">response</span>?.<span class="hljs-property inline">data</span>?.<span class="hljs-property inline">error</span> === <span class="hljs-string inline">&#x27;SPELLING_ERROR&#x27;</span>) {
    <span class="hljs-keyword inline">const</span> suggestions = error.<span class="hljs-property inline">response</span>.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">suggestions</span> || []
    <span class="hljs-keyword inline">const</span> suggestionText = suggestions.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span> 
      ? <span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.spellingErrorWithSuggestions&#x27;</span>, { 
          <span class="hljs-attr inline">suggestions</span>: suggestions.<span class="hljs-title function_ inline">join</span>(<span class="hljs-string inline">&#x27;, &#x27;</span>) 
        })
      : <span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.spellingError&#x27;</span>)
    
    toast.<span class="hljs-title function_ inline">error</span>(suggestionText)
    <span class="hljs-keyword inline">return</span> { <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>, <span class="hljs-attr inline">message</span>: suggestionText, suggestions }
  }
  
  toast.<span class="hljs-title function_ inline">error</span>(message)
  <span class="hljs-keyword inline">return</span> { <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>, message }
}
</code></pre>
            </div>
        
<h2 id="complete-source-code-analysis" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#complete-source-code-analysis" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Complete Source Code Analysis">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Complete Source Code Analysis
        </h2>
<h3 id="backend-core-files" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#backend-core-files" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Backend Core Files">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Backend Core Files
        </h3>
<h4 id="1-wordcontrollerjs-word-controller" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#1-wordcontrollerjs-word-controller" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 1. wordController.js - Word Controller">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            1. wordController.js - Word Controller
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20Word%20%3D%20require('..%2Fmodels%2FWord')%3B%0Aconst%20Joi%20%3D%20require('joi')%3B%0Aconst%20%7B%20processWord%20%7D%20%3D%20require('..%2Futils%2FwordUtils')%3B%0A%2F%2F%20Data%20validation%20schema%20-%20add%20forceAdd%20parameter%20to%20support%20forced%20addition%0Aconst%20addWordSchema%20%3D%20Joi.object(%7B%0Aword%3A%20Joi.string().min(1).max(50).pattern(%2F%5E%5Ba-zA-Z%5C-'%5D%2B%24%2F).required()%2C%0AforceAdd%3A%20Joi.boolean().default(false)%20%2F%2F%20New%3A%20force%20add%20flag%0A%7D)%3B%0A%2F%2F%20%40desc%20%20%20%20Add%20new%20word%0A%2F%2F%20%40route%20%20%20POST%20%2Fapi%2Fwords%0A%2F%2F%20%40access%20%20Private%0Aexports.addWord%20%3D%20async%20(req%2C%20res)%20%3D%3E%20%7B%0Atry%20%7B%0A%2F%2F%20Step%201%3A%20Validate%20input%20data%0Aconst%20%7B%20error%20%7D%20%3D%20addWordSchema.validate(req.body)%3B%0Aif%20(error)%20%7B%0Areturn%20res.status(400).json(%7B%0Asuccess%3A%20false%2C%0Amessage%3A%20error.details%5B0%5D.message%0A%7D)%3B%0A%7D%0A%2F%2F%20Step%202%3A%20Extract%20parameters%20and%20clean%20input%0Aconst%20%7B%20word%2C%20forceAdd%20%7D%20%3D%20req.body%3B%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%3B%0A%2F%2F%20Step%203%3A%20Decide%20processing%20method%20based%20on%20forceAdd%20flag%0Alet%20wordProcessing%3B%0Aif%20(forceAdd)%20%7B%0A%2F%2F%20Force%20add%20mode%3A%20skip%20spell%20checking%2C%20directly%20get%20WordNet%20data%0Aconst%20wordNetData%20%3D%20await%20require('..%2Futils%2FwordUtils').getWordNetData(cleanWord)%3B%0AwordProcessing%20%3D%20%7B%0Asuccess%3A%20true%2C%0Aword%3A%20cleanWord%2C%0A...wordNetData%0A%7D%3B%0A%7D%20else%20%7B%0A%2F%2F%20Normal%20mode%3A%20perform%20spell%20checking%20and%20WordNet%20query%0AwordProcessing%20%3D%20await%20processWord(cleanWord)%3B%0Aif%20(!wordProcessing.success)%20%7B%0A%2F%2F%20Return%20suggestions%20for%20spelling%20errors%20(200%20status%20code%2C%20not%20error%20response)%0Areturn%20res.status(200).json(%7B%0Asuccess%3A%20false%2C%0AneedsConfirmation%3A%20true%2C%20%20%20%20%20%20%20%20%2F%2F%20Requires%20user%20confirmation%0AspellingError%3A%20true%2C%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Mark%20as%20spelling%20error%0Amessage%3A%20req.t('words.spellingError')%2C%0Asuggestions%3A%20wordProcessing.suggestions%20%7C%7C%20%5B%5D%2C%0AoriginalWord%3A%20wordProcessing.word%2C%0AsuggestedCorrection%3A%20wordProcessing.suggestions%20%26%26%20wordProcessing.suggestions.length%20%3E%200%0A%3F%20wordProcessing.suggestions%5B0%5D%20%3A%20null%0A%7D)%3B%0A%7D%0A%7D%0A%2F%2F%20Step%204%3A%20Check%20if%20word%20already%20exists%20in%20database%0Aconst%20existingWord%20%3D%20await%20Word.findOne(%7B%0Aword%3A%20cleanWord%0A%7D)%3B%0Aif%20(existingWord)%20%7B%0A%2F%2F%20Word%20exists%2C%20check%20if%20current%20user%20already%20owns%20it%0Aif%20(existingWord.userIds.includes(req.user.id))%20%7B%0Areturn%20res.status(400).json(%7B%0Asuccess%3A%20false%2C%0Amessage%3A%20req.t('words.wordAlreadyExists')%0A%7D)%3B%0A%7D%0A%2F%2F%20Add%20user%20to%20existing%20word's%20sharing%20list%0AexistingWord.userIds.push(req.user.id)%3B%0Aawait%20existingWord.save()%3B%0A%2F%2F%20Add%20translated%20part%20of%20speech%20information%0Aconst%20wordObj%20%3D%20existingWord.toObject()%3B%0Aif%20(wordObj.primaryPartOfSpeech)%20%7B%0AwordObj.primaryPartOfSpeechTranslated%20%3D%20req.t(%60words.%24%7BwordObj.primaryPartOfSpeech%7D%60)%3B%0A%7D%0Ares.status(201).json(%7B%0Asuccess%3A%20true%2C%0Aword%3A%20wordObj%0A%7D)%3B%0A%7D%20else%20%7B%0A%2F%2F%20Create%20new%20word%20record%0Aconst%20newWord%20%3D%20await%20Word.create(%7B%0Aword%3A%20cleanWord%2C%0AuserIds%3A%20%5Breq.user.id%5D%2C%0Adefinitions%3A%20wordProcessing.definitions%20%7C%7C%20%5B%5D%2C%0AprimaryDefinition%3A%20wordProcessing.primaryDefinition%2C%0AprimaryPartOfSpeech%3A%20wordProcessing.primaryPartOfSpeech%2C%0AwordNetProcessed%3A%20wordProcessing.wordNetProcessed%0A%7D)%3B%0A%2F%2F%20Add%20translated%20part%20of%20speech%20information%0Aconst%20wordObj%20%3D%20newWord.toObject()%3B%0Aif%20(wordObj.primaryPartOfSpeech)%20%7B%0AwordObj.primaryPartOfSpeechTranslated%20%3D%20req.t(%60words.%24%7BwordObj.primaryPartOfSpeech%7D%60)%3B%0A%7D%0Ares.status(201).json(%7B%0Asuccess%3A%20true%2C%0Aword%3A%20wordObj%0A%7D)%3B%0A%7D%0A%7D%20catch%20(error)%20%7B%0A%2F%2F%20Error%20handling%3A%20handle%20duplicate%20key%20and%20other%20database%20errors%0Aif%20(error.code%20%3D%3D%3D%2011000)%20%7B%0Areturn%20res.status(400).json(%7B%0Asuccess%3A%20false%2C%0Amessage%3A%20req.t('words.wordAlreadyExists')%0A%7D)%3B%0A%7D%0Aconsole.error('Add%20word%20error%3A'%2C%20error)%3B%0Ares.status(500).json(%7B%0Asuccess%3A%20false%2C%0Amessage%3A%20req.t('words.serverErrorAddingWord')%0A%7D)%3B%0A%7D%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> <span class="hljs-title class_ inline">Word</span> = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;../models/Word&#x27;</span>);
<span class="hljs-keyword inline">const</span> <span class="hljs-title class_ inline">Joi</span> = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;joi&#x27;</span>);
<span class="hljs-keyword inline">const</span> { processWord } = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;../utils/wordUtils&#x27;</span>);

<span class="hljs-comment inline">// Data validation schema - add forceAdd parameter to support forced addition</span>
<span class="hljs-keyword inline">const</span> addWordSchema = <span class="hljs-title class_ inline">Joi</span>.<span class="hljs-title function_ inline">object</span>({
  <span class="hljs-attr inline">word</span>: <span class="hljs-title class_ inline">Joi</span>.<span class="hljs-title function_ inline">string</span>().<span class="hljs-title function_ inline">min</span>(<span class="hljs-number inline">1</span>).<span class="hljs-title function_ inline">max</span>(<span class="hljs-number inline">50</span>).<span class="hljs-title function_ inline">pattern</span>(<span class="hljs-regexp inline">/^[a-zA-Z\-&#x27;]+$/</span>).<span class="hljs-title function_ inline">required</span>(),
  <span class="hljs-attr inline">forceAdd</span>: <span class="hljs-title class_ inline">Joi</span>.<span class="hljs-title function_ inline">boolean</span>().<span class="hljs-title function_ inline">default</span>(<span class="hljs-literal inline">false</span>) <span class="hljs-comment inline">// New: force add flag</span>
});

<span class="hljs-comment inline">// @desc    Add new word</span>
<span class="hljs-comment inline">// @route   POST /api/words</span>
<span class="hljs-comment inline">// @access  Private</span>
<span class="hljs-built_in inline">exports</span>.<span class="hljs-property inline">addWord</span> = <span class="hljs-title function_ inline">async</span> (req, res) =&gt; {
  <span class="hljs-keyword inline">try</span> {
    <span class="hljs-comment inline">// Step 1: Validate input data</span>
    <span class="hljs-keyword inline">const</span> { error } = addWordSchema.<span class="hljs-title function_ inline">validate</span>(req.<span class="hljs-property inline">body</span>);
    <span class="hljs-keyword inline">if</span> (error) {
      <span class="hljs-keyword inline">return</span> res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">400</span>).<span class="hljs-title function_ inline">json</span>({
        <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
        <span class="hljs-attr inline">message</span>: error.<span class="hljs-property inline">details</span>[<span class="hljs-number inline">0</span>].<span class="hljs-property inline">message</span>
      });
    }

    <span class="hljs-comment inline">// Step 2: Extract parameters and clean input</span>
    <span class="hljs-keyword inline">const</span> { word, forceAdd } = req.<span class="hljs-property inline">body</span>;
    <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>();

    <span class="hljs-comment inline">// Step 3: Decide processing method based on forceAdd flag</span>
    <span class="hljs-keyword inline">let</span> wordProcessing;
    
    <span class="hljs-keyword inline">if</span> (forceAdd) {
      <span class="hljs-comment inline">// Force add mode: skip spell checking, directly get WordNet data</span>
      <span class="hljs-keyword inline">const</span> wordNetData = <span class="hljs-keyword inline">await</span> <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;../utils/wordUtils&#x27;</span>).<span class="hljs-title function_ inline">getWordNetData</span>(cleanWord);
      wordProcessing = {
        <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">true</span>,
        <span class="hljs-attr inline">word</span>: cleanWord,
        ...wordNetData
      };
    } <span class="hljs-keyword inline">else</span> {
      <span class="hljs-comment inline">// Normal mode: perform spell checking and WordNet query</span>
      wordProcessing = <span class="hljs-keyword inline">await</span> <span class="hljs-title function_ inline">processWord</span>(cleanWord);
      
      <span class="hljs-keyword inline">if</span> (!wordProcessing.<span class="hljs-property inline">success</span>) {
        <span class="hljs-comment inline">// Return suggestions for spelling errors (200 status code, not error response)</span>
        <span class="hljs-keyword inline">return</span> res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">200</span>).<span class="hljs-title function_ inline">json</span>({
          <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
          <span class="hljs-attr inline">needsConfirmation</span>: <span class="hljs-literal inline">true</span>,        <span class="hljs-comment inline">// Requires user confirmation</span>
          <span class="hljs-attr inline">spellingError</span>: <span class="hljs-literal inline">true</span>,            <span class="hljs-comment inline">// Mark as spelling error</span>
          <span class="hljs-attr inline">message</span>: req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.spellingError&#x27;</span>),
          <span class="hljs-attr inline">suggestions</span>: wordProcessing.<span class="hljs-property inline">suggestions</span> || [],
          <span class="hljs-attr inline">originalWord</span>: wordProcessing.<span class="hljs-property inline">word</span>,
          <span class="hljs-attr inline">suggestedCorrection</span>: wordProcessing.<span class="hljs-property inline">suggestions</span> &amp;&amp; wordProcessing.<span class="hljs-property inline">suggestions</span>.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span> 
            ? wordProcessing.<span class="hljs-property inline">suggestions</span>[<span class="hljs-number inline">0</span>] : <span class="hljs-literal inline">null</span>
        });
      }
    }

    <span class="hljs-comment inline">// Step 4: Check if word already exists in database</span>
    <span class="hljs-keyword inline">const</span> existingWord = <span class="hljs-keyword inline">await</span> <span class="hljs-title class_ inline">Word</span>.<span class="hljs-title function_ inline">findOne</span>({
      <span class="hljs-attr inline">word</span>: cleanWord
    });

    <span class="hljs-keyword inline">if</span> (existingWord) {
      <span class="hljs-comment inline">// Word exists, check if current user already owns it</span>
      <span class="hljs-keyword inline">if</span> (existingWord.<span class="hljs-property inline">userIds</span>.<span class="hljs-title function_ inline">includes</span>(req.<span class="hljs-property inline">user</span>.<span class="hljs-property inline">id</span>)) {
        <span class="hljs-keyword inline">return</span> res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">400</span>).<span class="hljs-title function_ inline">json</span>({
          <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
          <span class="hljs-attr inline">message</span>: req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.wordAlreadyExists&#x27;</span>)
        });
      }

      <span class="hljs-comment inline">// Add user to existing word&#x27;s sharing list</span>
      existingWord.<span class="hljs-property inline">userIds</span>.<span class="hljs-title function_ inline">push</span>(req.<span class="hljs-property inline">user</span>.<span class="hljs-property inline">id</span>);
      <span class="hljs-keyword inline">await</span> existingWord.<span class="hljs-title function_ inline">save</span>();

      <span class="hljs-comment inline">// Add translated part of speech information</span>
      <span class="hljs-keyword inline">const</span> wordObj = existingWord.<span class="hljs-title function_ inline">toObject</span>();
      <span class="hljs-keyword inline">if</span> (wordObj.<span class="hljs-property inline">primaryPartOfSpeech</span>) {
        wordObj.<span class="hljs-property inline">primaryPartOfSpeechTranslated</span> = req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">`words.<span class="hljs-subst inline">${wordObj.primaryPartOfSpeech}</span>`</span>);
      }

      res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">201</span>).<span class="hljs-title function_ inline">json</span>({
        <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">true</span>,
        <span class="hljs-attr inline">word</span>: wordObj
      });
    } <span class="hljs-keyword inline">else</span> {
      <span class="hljs-comment inline">// Create new word record</span>
      <span class="hljs-keyword inline">const</span> newWord = <span class="hljs-keyword inline">await</span> <span class="hljs-title class_ inline">Word</span>.<span class="hljs-title function_ inline">create</span>({
        <span class="hljs-attr inline">word</span>: cleanWord,
        <span class="hljs-attr inline">userIds</span>: [req.<span class="hljs-property inline">user</span>.<span class="hljs-property inline">id</span>],
        <span class="hljs-attr inline">definitions</span>: wordProcessing.<span class="hljs-property inline">definitions</span> || [],
        <span class="hljs-attr inline">primaryDefinition</span>: wordProcessing.<span class="hljs-property inline">primaryDefinition</span>,
        <span class="hljs-attr inline">primaryPartOfSpeech</span>: wordProcessing.<span class="hljs-property inline">primaryPartOfSpeech</span>,
        <span class="hljs-attr inline">wordNetProcessed</span>: wordProcessing.<span class="hljs-property inline">wordNetProcessed</span>
      });

      <span class="hljs-comment inline">// Add translated part of speech information</span>
      <span class="hljs-keyword inline">const</span> wordObj = newWord.<span class="hljs-title function_ inline">toObject</span>();
      <span class="hljs-keyword inline">if</span> (wordObj.<span class="hljs-property inline">primaryPartOfSpeech</span>) {
        wordObj.<span class="hljs-property inline">primaryPartOfSpeechTranslated</span> = req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">`words.<span class="hljs-subst inline">${wordObj.primaryPartOfSpeech}</span>`</span>);
      }

      res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">201</span>).<span class="hljs-title function_ inline">json</span>({
        <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">true</span>,
        <span class="hljs-attr inline">word</span>: wordObj
      });
    }
  } <span class="hljs-keyword inline">catch</span> (error) {
    <span class="hljs-comment inline">// Error handling: handle duplicate key and other database errors</span>
    <span class="hljs-keyword inline">if</span> (error.<span class="hljs-property inline">code</span> === <span class="hljs-number inline">11000</span>) {
      <span class="hljs-keyword inline">return</span> res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">400</span>).<span class="hljs-title function_ inline">json</span>({
        <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
        <span class="hljs-attr inline">message</span>: req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.wordAlreadyExists&#x27;</span>)
      });
    }
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Add word error:&#x27;</span>, error);
    res.<span class="hljs-title function_ inline">status</span>(<span class="hljs-number inline">500</span>).<span class="hljs-title function_ inline">json</span>({
      <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
      <span class="hljs-attr inline">message</span>: req.<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.serverErrorAddingWord&#x27;</span>)
    });
  }
};
</code></pre>
            </div>
        
<h4 id="2-wordutilsjs-word-processing-tool" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#2-wordutilsjs-word-processing-tool" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 2. wordUtils.js - Word Processing Tool">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            2. wordUtils.js - Word Processing Tool
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20Typo%20%3D%20require('typo-js')%3B%0Aconst%20wordnet%20%3D%20require('wordnet')%3B%0A%2F%2F%20Initialize%20spell%20checker%0Alet%20spellChecker%3B%0Atry%20%7B%0AspellChecker%20%3D%20new%20Typo('en_US')%3B%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Failed%20to%20initialize%20spell%20checker%3A'%2C%20error)%3B%0A%7D%0A%2F%2F%20Initialize%20WordNet%0Alet%20wordnetInitialized%20%3D%20false%3B%0Aconst%20initializeWordNet%20%3D%20async%20()%20%3D%3E%20%7B%0Aif%20(!wordnetInitialized)%20%7B%0Atry%20%7B%0Aawait%20wordnet.init()%3B%0AwordnetInitialized%20%3D%20true%3B%0Aconsole.log('WordNet%20initialized%20successfully')%3B%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Failed%20to%20initialize%20WordNet%3A'%2C%20error)%3B%0A%7D%0A%7D%0A%7D%3B%0A%2F**%0A*%20Core%20spell%20checking%20function%0A*%20%40param%20%7Bstring%7D%20word%20-%20Word%20to%20be%20checked%0A*%20%40returns%20%7Bboolean%7D%20-%20Whether%20spelling%20is%20correct%0A*%2F%0Aconst%20isWordSpelledCorrectly%20%3D%20(word)%20%3D%3E%20%7B%0A%2F%2F%20Defensive%20programming%3A%20check%20if%20spell%20checker%20is%20available%0Aif%20(!spellChecker)%20%7B%0Aconsole.warn('Spell%20checker%20not%20available%2C%20assuming%20word%20is%20correct')%3B%0Areturn%20true%3B%0A%7D%0Atry%20%7B%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%3B%0Areturn%20spellChecker.check(cleanWord)%3B%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Error%20checking%20spelling%3A'%2C%20error)%3B%0Areturn%20true%3B%20%2F%2F%20Default%20to%20correct%2C%20ensure%20system%20availability%0A%7D%0A%7D%3B%0A%2F**%0A*%20Get%20spelling%20suggestions%0A*%20%40param%20%7Bstring%7D%20word%20-%20Misspelled%20word%0A*%20%40returns%20%7Bstring%5B%5D%7D%20-%20Array%20of%20spelling%20suggestions%0A*%2F%0Aconst%20getSpellingSuggestions%20%3D%20(word)%20%3D%3E%20%7B%0Aif%20(!spellChecker)%20%7B%0Areturn%20%5B%5D%3B%0A%7D%0Atry%20%7B%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%3B%0Areturn%20spellChecker.suggest(cleanWord)%20%7C%7C%20%5B%5D%3B%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Error%20getting%20spelling%20suggestions%3A'%2C%20error)%3B%0Areturn%20%5B%5D%3B%0A%7D%0A%7D%3B%0A%2F**%0A*%20Get%20WordNet%20vocabulary%20data%0A*%20%40param%20%7Bstring%7D%20word%20-%20Word%20to%20be%20queried%0A*%20%40returns%20%7BPromise%7D%20-%20Object%20containing%20definitions%20and%20part%20of%20speech%0A*%2F%0Aconst%20getWordNetData%20%3D%20async%20(word)%20%3D%3E%20%7B%0Atry%20%7B%0A%2F%2F%20Ensure%20WordNet%20is%20initialized%0Aawait%20initializeWordNet()%3B%0Aif%20(!wordnetInitialized)%20%7B%0Aconsole.warn('WordNet%20not%20available')%3B%0Areturn%20%7B%0Adefinitions%3A%20%5B%5D%2C%0AprimaryDefinition%3A%20null%2C%0AprimaryPartOfSpeech%3A%20null%2C%0AwordNetProcessed%3A%20false%0A%7D%3B%0A%7D%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%3B%0Atry%20%7B%0A%2F%2F%20Query%20word%20definitions%20from%20WordNet%0Aconst%20definitions%20%3D%20await%20wordnet.lookup(cleanWord)%3B%0Aif%20(!definitions%20%7C%7C%20definitions.length%20%3D%3D%3D%200)%20%7B%0Aconsole.log(%60No%20WordNet%20data%20found%20for%3A%20%24%7BcleanWord%7D%60)%3B%0Areturn%20%7B%0Adefinitions%3A%20%5B%5D%2C%0AprimaryDefinition%3A%20null%2C%0AprimaryPartOfSpeech%3A%20null%2C%0AwordNetProcessed%3A%20true%0A%7D%3B%0A%7D%0A%2F%2F%20Process%20WordNet%20returned%20definition%20data%0Aconst%20processedDefinitions%20%3D%20definitions.map(def%20%3D%3E%20(%7B%0Atext%3A%20def.glossary%20%7C%7C%20def.gloss%20%7C%7C%20''%2C%0ApartOfSpeech%3A%20mapWordNetPoS(def.meta%3F.synsetType)%0A%7D)).filter(def%20%3D%3E%20def.text%20%26%26%20def.partOfSpeech)%3B%0A%2F%2F%20Get%20primary%20definition%20(first%2Fmost%20common)%0Aconst%20primaryDefinition%20%3D%20processedDefinitions.length%20%3E%200%0A%3F%20processedDefinitions%5B0%5D.text%0A%3A%20null%3B%0Aconst%20primaryPartOfSpeech%20%3D%20processedDefinitions.length%20%3E%200%0A%3F%20processedDefinitions%5B0%5D.partOfSpeech%0A%3A%20null%3B%0Areturn%20%7B%0Adefinitions%3A%20processedDefinitions.slice(0%2C%2010)%2C%20%2F%2F%20Limit%20to%2010%20definitions%0AprimaryDefinition%2C%0AprimaryPartOfSpeech%2C%0AwordNetProcessed%3A%20true%0A%7D%3B%0A%7D%20catch%20(lookupError)%20%7B%0Aconsole.error('Error%20looking%20up%20word%20in%20WordNet%3A'%2C%20lookupError)%3B%0Areturn%20%7B%0Adefinitions%3A%20%5B%5D%2C%0AprimaryDefinition%3A%20null%2C%0AprimaryPartOfSpeech%3A%20null%2C%0AwordNetProcessed%3A%20true%0A%7D%3B%0A%7D%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Error%20in%20getWordNetData%3A'%2C%20error)%3B%0Areturn%20%7B%0Adefinitions%3A%20%5B%5D%2C%0AprimaryDefinition%3A%20null%2C%0AprimaryPartOfSpeech%3A%20null%2C%0AwordNetProcessed%3A%20false%0A%7D%3B%0A%7D%0A%7D%3B%0A%2F**%0A*%20Map%20WordNet%20part%20of%20speech%20codes%20to%20system%20part%20of%20speech%0A*%20%40param%20%7Bstring%7D%20wordnetPos%20-%20WordNet%20part%20of%20speech%20code%0A*%20%40returns%20%7Bstring%7Cnull%7D%20-%20Mapped%20part%20of%20speech%0A*%2F%0Aconst%20mapWordNetPoS%20%3D%20(wordnetPos)%20%3D%3E%20%7B%0Aif%20(!wordnetPos)%20return%20null%3B%0Aconst%20mapping%20%3D%20%7B%0A'noun'%3A%20'noun'%2C%0A'verb'%3A%20'verb'%2C%0A'adjective'%3A%20'adjective'%2C%0A'adverb'%3A%20'adverb'%2C%0A'n'%3A%20'noun'%2C%0A'v'%3A%20'verb'%2C%0A'a'%3A%20'adjective'%2C%0A's'%3A%20'adjective'%2C%20%2F%2F%20adjective%20satellite%0A'r'%3A%20'adverb'%0A%7D%3B%0Areturn%20mapping%5BwordnetPos.toLowerCase()%5D%20%7C%7C%20null%3B%0A%7D%3B%0A%2F**%0A*%20Complete%20word%20processing%20workflow%0A*%20%40param%20%7Bstring%7D%20word%20-%20Word%20to%20be%20processed%0A*%20%40returns%20%7BPromise%7D%20-%20Processing%20result%0A*%2F%0Aconst%20processWord%20%3D%20async%20(word)%20%3D%3E%20%7B%0Aconst%20cleanWord%20%3D%20word.toLowerCase().trim()%3B%0A%2F%2F%20Step%201%3A%20Spell%20checking%0Aconst%20isSpelledCorrectly%20%3D%20isWordSpelledCorrectly(cleanWord)%3B%0Aif%20(!isSpelledCorrectly)%20%7B%0A%2F%2F%20Spelling%20error%2C%20return%20suggestions%0Aconst%20suggestions%20%3D%20getSpellingSuggestions(cleanWord)%3B%0Areturn%20%7B%0Asuccess%3A%20false%2C%0Aerror%3A%20'SPELLING_ERROR'%2C%0Asuggestions%2C%0Aword%3A%20cleanWord%0A%7D%3B%0A%7D%0A%2F%2F%20Step%202%3A%20Get%20WordNet%20data%0Aconst%20wordNetData%20%3D%20await%20getWordNetData(cleanWord)%3B%0Areturn%20%7B%0Asuccess%3A%20true%2C%0Aword%3A%20cleanWord%2C%0A...wordNetData%0A%7D%3B%0A%7D%3B%0Amodule.exports%20%3D%20%7B%0AisWordSpelledCorrectly%2C%0AgetSpellingSuggestions%2C%0AgetWordNetData%2C%0AprocessWord%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> <span class="hljs-title class_ inline">Typo</span> = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;typo-js&#x27;</span>);
<span class="hljs-keyword inline">const</span> wordnet = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;wordnet&#x27;</span>);

<span class="hljs-comment inline">// Initialize spell checker</span>
<span class="hljs-keyword inline">let</span> spellChecker;
<span class="hljs-keyword inline">try</span> {
  spellChecker = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Typo</span>(<span class="hljs-string inline">&#x27;en_US&#x27;</span>);
} <span class="hljs-keyword inline">catch</span> (error) {
  <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Failed to initialize spell checker:&#x27;</span>, error);
}

<span class="hljs-comment inline">// Initialize WordNet</span>
<span class="hljs-keyword inline">let</span> wordnetInitialized = <span class="hljs-literal inline">false</span>;
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">initializeWordNet</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!wordnetInitialized) {
    <span class="hljs-keyword inline">try</span> {
      <span class="hljs-keyword inline">await</span> wordnet.<span class="hljs-title function_ inline">init</span>();
      wordnetInitialized = <span class="hljs-literal inline">true</span>;
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;WordNet initialized successfully&#x27;</span>);
    } <span class="hljs-keyword inline">catch</span> (error) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Failed to initialize WordNet:&#x27;</span>, error);
    }
  }
};

<span class="hljs-comment inline">/**
 * Core spell checking function
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">word</span> - Word to be checked
 * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">boolean</span>} - Whether spelling is correct
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">isWordSpelledCorrectly</span> = (<span class="hljs-params inline">word</span>) =&gt; {
  <span class="hljs-comment inline">// Defensive programming: check if spell checker is available</span>
  <span class="hljs-keyword inline">if</span> (!spellChecker) {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">warn</span>(<span class="hljs-string inline">&#x27;Spell checker not available, assuming word is correct&#x27;</span>);
    <span class="hljs-keyword inline">return</span> <span class="hljs-literal inline">true</span>;
  }

  <span class="hljs-keyword inline">try</span> {
    <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>();
    <span class="hljs-keyword inline">return</span> spellChecker.<span class="hljs-title function_ inline">check</span>(cleanWord);
  } <span class="hljs-keyword inline">catch</span> (error) {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error checking spelling:&#x27;</span>, error);
    <span class="hljs-keyword inline">return</span> <span class="hljs-literal inline">true</span>; <span class="hljs-comment inline">// Default to correct, ensure system availability</span>
  }
};

<span class="hljs-comment inline">/**
 * Get spelling suggestions
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">word</span> - Misspelled word
 * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">string[]</span>} - Array of spelling suggestions
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getSpellingSuggestions</span> = (<span class="hljs-params inline">word</span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!spellChecker) {
    <span class="hljs-keyword inline">return</span> [];
  }

  <span class="hljs-keyword inline">try</span> {
    <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>();
    <span class="hljs-keyword inline">return</span> spellChecker.<span class="hljs-title function_ inline">suggest</span>(cleanWord) || [];
  } <span class="hljs-keyword inline">catch</span> (error) {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error getting spelling suggestions:&#x27;</span>, error);
    <span class="hljs-keyword inline">return</span> [];
  }
};

<span class="hljs-comment inline">/**
 * Get WordNet vocabulary data
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">word</span> - Word to be queried
 * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">Promise&lt;Object&gt;</span>} - Object containing definitions and part of speech
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getWordNetData</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline">word</span>) =&gt; {
  <span class="hljs-keyword inline">try</span> {
    <span class="hljs-comment inline">// Ensure WordNet is initialized</span>
    <span class="hljs-keyword inline">await</span> <span class="hljs-title function_ inline">initializeWordNet</span>();
    
    <span class="hljs-keyword inline">if</span> (!wordnetInitialized) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">warn</span>(<span class="hljs-string inline">&#x27;WordNet not available&#x27;</span>);
      <span class="hljs-keyword inline">return</span> {
        <span class="hljs-attr inline">definitions</span>: [],
        <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-literal inline">null</span>,
        <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-literal inline">null</span>,
        <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">false</span>
      };
    }

    <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>();
    
    <span class="hljs-keyword inline">try</span> {
      <span class="hljs-comment inline">// Query word definitions from WordNet</span>
      <span class="hljs-keyword inline">const</span> definitions = <span class="hljs-keyword inline">await</span> wordnet.<span class="hljs-title function_ inline">lookup</span>(cleanWord);
      
      <span class="hljs-keyword inline">if</span> (!definitions || definitions.<span class="hljs-property inline">length</span> === <span class="hljs-number inline">0</span>) {
        <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">`No WordNet data found for: <span class="hljs-subst inline">${cleanWord}</span>`</span>);
        <span class="hljs-keyword inline">return</span> {
          <span class="hljs-attr inline">definitions</span>: [],
          <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-literal inline">null</span>,
          <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-literal inline">null</span>,
          <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">true</span>
        };
      }

      <span class="hljs-comment inline">// Process WordNet returned definition data</span>
      <span class="hljs-keyword inline">const</span> processedDefinitions = definitions.<span class="hljs-title function_ inline">map</span>(<span class="hljs-function inline"><span class="hljs-params inline">def</span> =&gt;</span> ({
        <span class="hljs-attr inline">text</span>: def.<span class="hljs-property inline">glossary</span> || def.<span class="hljs-property inline">gloss</span> || <span class="hljs-string inline">&#x27;&#x27;</span>,
        <span class="hljs-attr inline">partOfSpeech</span>: <span class="hljs-title function_ inline">mapWordNetPoS</span>(def.<span class="hljs-property inline">meta</span>?.<span class="hljs-property inline">synsetType</span>)
      })).<span class="hljs-title function_ inline">filter</span>(<span class="hljs-function inline"><span class="hljs-params inline">def</span> =&gt;</span> def.<span class="hljs-property inline">text</span> &amp;&amp; def.<span class="hljs-property inline">partOfSpeech</span>);

      <span class="hljs-comment inline">// Get primary definition (first/most common)</span>
      <span class="hljs-keyword inline">const</span> primaryDefinition = processedDefinitions.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span> 
        ? processedDefinitions[<span class="hljs-number inline">0</span>].<span class="hljs-property inline">text</span> 
        : <span class="hljs-literal inline">null</span>;
      <span class="hljs-keyword inline">const</span> primaryPartOfSpeech = processedDefinitions.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span> 
        ? processedDefinitions[<span class="hljs-number inline">0</span>].<span class="hljs-property inline">partOfSpeech</span> 
        : <span class="hljs-literal inline">null</span>;

      <span class="hljs-keyword inline">return</span> {
        <span class="hljs-attr inline">definitions</span>: processedDefinitions.<span class="hljs-title function_ inline">slice</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">10</span>), <span class="hljs-comment inline">// Limit to 10 definitions</span>
        primaryDefinition,
        primaryPartOfSpeech,
        <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">true</span>
      };
    } <span class="hljs-keyword inline">catch</span> (lookupError) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error looking up word in WordNet:&#x27;</span>, lookupError);
      <span class="hljs-keyword inline">return</span> {
        <span class="hljs-attr inline">definitions</span>: [],
        <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-literal inline">null</span>,
        <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-literal inline">null</span>,
        <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">true</span>
      };
    }
  } <span class="hljs-keyword inline">catch</span> (error) {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error in getWordNetData:&#x27;</span>, error);
    <span class="hljs-keyword inline">return</span> {
      <span class="hljs-attr inline">definitions</span>: [],
      <span class="hljs-attr inline">primaryDefinition</span>: <span class="hljs-literal inline">null</span>,
      <span class="hljs-attr inline">primaryPartOfSpeech</span>: <span class="hljs-literal inline">null</span>,
      <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-literal inline">false</span>
    };
  }
};

<span class="hljs-comment inline">/**
 * Map WordNet part of speech codes to system part of speech
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">wordnetPos</span> - WordNet part of speech code
 * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">string|null</span>} - Mapped part of speech
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">mapWordNetPoS</span> = (<span class="hljs-params inline">wordnetPos</span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!wordnetPos) <span class="hljs-keyword inline">return</span> <span class="hljs-literal inline">null</span>;
  
  <span class="hljs-keyword inline">const</span> mapping = {
    <span class="hljs-string inline">&#x27;noun&#x27;</span>: <span class="hljs-string inline">&#x27;noun&#x27;</span>,
    <span class="hljs-string inline">&#x27;verb&#x27;</span>: <span class="hljs-string inline">&#x27;verb&#x27;</span>,
    <span class="hljs-string inline">&#x27;adjective&#x27;</span>: <span class="hljs-string inline">&#x27;adjective&#x27;</span>,
    <span class="hljs-string inline">&#x27;adverb&#x27;</span>: <span class="hljs-string inline">&#x27;adverb&#x27;</span>,
    <span class="hljs-string inline">&#x27;n&#x27;</span>: <span class="hljs-string inline">&#x27;noun&#x27;</span>,
    <span class="hljs-string inline">&#x27;v&#x27;</span>: <span class="hljs-string inline">&#x27;verb&#x27;</span>,
    <span class="hljs-string inline">&#x27;a&#x27;</span>: <span class="hljs-string inline">&#x27;adjective&#x27;</span>,
    <span class="hljs-string inline">&#x27;s&#x27;</span>: <span class="hljs-string inline">&#x27;adjective&#x27;</span>, <span class="hljs-comment inline">// adjective satellite</span>
    <span class="hljs-string inline">&#x27;r&#x27;</span>: <span class="hljs-string inline">&#x27;adverb&#x27;</span>
  };

  <span class="hljs-keyword inline">return</span> mapping[wordnetPos.<span class="hljs-title function_ inline">toLowerCase</span>()] || <span class="hljs-literal inline">null</span>;
};

<span class="hljs-comment inline">/**
 * Complete word processing workflow
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">word</span> - Word to be processed
 * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">Promise&lt;Object&gt;</span>} - Processing result
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">processWord</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline">word</span>) =&gt; {
  <span class="hljs-keyword inline">const</span> cleanWord = word.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>();
  
  <span class="hljs-comment inline">// Step 1: Spell checking</span>
  <span class="hljs-keyword inline">const</span> isSpelledCorrectly = <span class="hljs-title function_ inline">isWordSpelledCorrectly</span>(cleanWord);
  
  <span class="hljs-keyword inline">if</span> (!isSpelledCorrectly) {
    <span class="hljs-comment inline">// Spelling error, return suggestions</span>
    <span class="hljs-keyword inline">const</span> suggestions = <span class="hljs-title function_ inline">getSpellingSuggestions</span>(cleanWord);
    <span class="hljs-keyword inline">return</span> {
      <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>,
      <span class="hljs-attr inline">error</span>: <span class="hljs-string inline">&#x27;SPELLING_ERROR&#x27;</span>,
      suggestions,
      <span class="hljs-attr inline">word</span>: cleanWord
    };
  }

  <span class="hljs-comment inline">// Step 2: Get WordNet data</span>
  <span class="hljs-keyword inline">const</span> wordNetData = <span class="hljs-keyword inline">await</span> <span class="hljs-title function_ inline">getWordNetData</span>(cleanWord);
  
  <span class="hljs-keyword inline">return</span> {
    <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">true</span>,
    <span class="hljs-attr inline">word</span>: cleanWord,
    ...wordNetData
  };
};

<span class="hljs-variable language_ inline">module</span>.<span class="hljs-property inline">exports</span> = {
  isWordSpelledCorrectly,
  getSpellingSuggestions,
  getWordNetData,
  processWord
};
</code></pre>
            </div>
        
<h4 id="3-wordsjs-route-definition" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#3-wordsjs-route-definition" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 3. words.js - Route Definition">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            3. words.js - Route Definition
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20express%20%3D%20require('express')%3B%0Aconst%20%7B%0AgetUserWords%2C%0AaddWord%2C%0AdeleteWord%2C%0AgetRandomWords%2C%0AgetWordStats%2C%0AgetPartsOfSpeech%0A%7D%20%3D%20require('..%2Fcontrollers%2FwordController')%3B%0Aconst%20%7B%20auth%20%7D%20%3D%20require('..%2Fmiddleware%2Fauth')%3B%0Aconst%20router%20%3D%20express.Router()%3B%0A%2F%2F%20Get%20random%20word%20recommendations%0Arouter.get('%2Frandom'%2C%20auth%2C%20getRandomWords)%3B%0A%2F%2F%20Get%20user%20word%20statistics%0Arouter.get('%2Fstats'%2C%20auth%2C%20getWordStats)%3B%0A%2F%2F%20Get%20available%20parts%20of%20speech%20list%0Arouter.get('%2Fparts-of-speech'%2C%20auth%2C%20getPartsOfSpeech)%3B%0A%2F%2F%20Get%20user's%20word%20list%0Arouter.get('%2F'%2C%20auth%2C%20getUserWords)%3B%0A%2F%2F%20Add%20new%20word%20(supports%20spelling%20suggestions)%0Arouter.post('%2F'%2C%20auth%2C%20addWord)%3B%0A%2F%2F%20Delete%20word%0Arouter.delete('%2F%3Aid'%2C%20auth%2C%20deleteWord)%3B%0Amodule.exports%20%3D%20router%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> express = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;express&#x27;</span>);
<span class="hljs-keyword inline">const</span> {
  getUserWords,
  addWord,
  deleteWord,
  getRandomWords,
  getWordStats,
  getPartsOfSpeech
} = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;../controllers/wordController&#x27;</span>);
<span class="hljs-keyword inline">const</span> { auth } = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;../middleware/auth&#x27;</span>);

<span class="hljs-keyword inline">const</span> router = express.<span class="hljs-title class_ inline">Router</span>();

<span class="hljs-comment inline">// Get random word recommendations</span>
router.<span class="hljs-title function_ inline">get</span>(<span class="hljs-string inline">&#x27;/random&#x27;</span>, auth, getRandomWords);

<span class="hljs-comment inline">// Get user word statistics</span>
router.<span class="hljs-title function_ inline">get</span>(<span class="hljs-string inline">&#x27;/stats&#x27;</span>, auth, getWordStats);

<span class="hljs-comment inline">// Get available parts of speech list</span>
router.<span class="hljs-title function_ inline">get</span>(<span class="hljs-string inline">&#x27;/parts-of-speech&#x27;</span>, auth, getPartsOfSpeech);

<span class="hljs-comment inline">// Get user&#x27;s word list</span>
router.<span class="hljs-title function_ inline">get</span>(<span class="hljs-string inline">&#x27;/&#x27;</span>, auth, getUserWords);

<span class="hljs-comment inline">// Add new word (supports spelling suggestions)</span>
router.<span class="hljs-title function_ inline">post</span>(<span class="hljs-string inline">&#x27;/&#x27;</span>, auth, addWord);

<span class="hljs-comment inline">// Delete word</span>
router.<span class="hljs-title function_ inline">delete</span>(<span class="hljs-string inline">&#x27;/:id&#x27;</span>, auth, deleteWord);

<span class="hljs-variable language_ inline">module</span>.<span class="hljs-property inline">exports</span> = router;
</code></pre>
            </div>
        
<h3 id="frontend-core-files" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#frontend-core-files" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Frontend Core Files">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Frontend Core Files
        </h3>
<h4 id="4-wordsvue-word-management-view" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#4-wordsvue-word-management-view" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 4. Words.vue - Word Management View">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            4. Words.vue - Word Management View
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="vue" data-code="template%3E%0Adiv%20class%3D%22space-y-6%22%3E%0Adiv%20v-if%3D%22showAddForm%22%20class%3D%22card%22%3E%0Adiv%20class%3D%22card-header%22%3E%0Ah3%20class%3D%22text-lg%20font-semibold%22%3E%7B%7B%20%24t('words.add')%20%7D%7Dh3%3E%0Adiv%3E%0Adiv%20class%3D%22card-body%22%3E%0Aform%20class%3D%22space-y-4%22%20%40submit.prevent%3D%22addWord%22%3E%0Adiv%20class%3D%22grid%20grid-cols-1%20gap-4%22%3E%0Adiv%3E%0Alabel%20class%3D%22block%20text-sm%20font-medium%20text-primary%22%20for%3D%22word%22%3E%0A%7B%7B%20%24t('words.word')%20%7D%7D%20*%0Alabel%3E%0Ainput%0Aid%3D%22word%22%0Av-model%3D%22newWord.word%22%0A%3Aplaceholder%3D%22%24t('words.enterWord')%22%0Aclass%3D%22input%20mt-1%22%0Arequired%0Atype%3D%22text%22%0A%2F%3E%0Ap%20class%3D%22text-xs%20text-secondary%20mt-1%22%3E%0A%7B%7B%20%24t('words.spellingWillBeChecked')%20%7D%7D%0Ap%3E%0Adiv%3E%0Adiv%20class%3D%22flex%20items-end%20md%3Aitems-center%22%3E%0Abutton%0A%3Adisabled%3D%22wordsStore.loading%20%7C%7C%20!newWord.word.trim()%22%0Aclass%3D%22btn%20btn-primary%20w-full%22%0Atype%3D%22submit%22%0A%3E%0Adiv%20v-if%3D%22wordsStore.loading%22%20class%3D%22spinner%20mr-2%22%3Ediv%3E%0A%7B%7B%20%24t('words.add')%20%7D%7D%0Abutton%3E%0Adiv%3E%0Adiv%3E%0Adiv%20v-if%3D%22spellingError%20%26%26%20spellingSuggestions.length%20%3E%200%22%0Aclass%3D%22bg-blue-50%20dark%3Abg-blue-900%2F20%20border%20border-blue-200%20dark%3Aborder-blue-800%20rounded-md%20p-4%22%3E%0Adiv%20class%3D%22flex%20items-start%20space-x-2%22%3E%0Adiv%20class%3D%22flex-shrink-0%20mt-0.5%22%3E%0Asvg%20class%3D%22w-5%20h-5%20text-blue-600%20dark%3Atext-blue-400%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20viewBox%3D%220%200%2024%2024%22%3E%0Apath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M13%2016h-1v-4h-1m1-4h.01M21%2012a9%209%200%2011-18%200%209%209%200%200118%200z%22%3Epath%3E%0Asvg%3E%0Adiv%3E%0Adiv%20class%3D%22flex-1%22%3E%0Ap%20class%3D%22text-sm%20font-medium%20text-blue-800%20dark%3Atext-blue-200%20mb-2%22%3E%0A%7B%7B%20%24t('words.spellingNotRecognized')%20%7D%7D%0Ap%3E%0Ap%20class%3D%22text-sm%20text-blue-700%20dark%3Atext-blue-300%20mb-3%22%3E%0A%7B%7B%20%24t('words.didYouMean')%20%7D%7D%0Ap%3E%0Adiv%20class%3D%22flex%20flex-wrap%20gap-2%22%3E%0Abutton%0Av-for%3D%22suggestion%20in%20spellingSuggestions%22%0A%3Akey%3D%22suggestion%22%0Aclass%3D%22inline-flex%20items-center%20px-3%20py-1.5%20text-sm%20font-medium%20text-blue-700%20dark%3Atext-blue-200%20bg-blue-100%20dark%3Abg-blue-800%20rounded-md%20hover%3Abg-blue-200%20dark%3Ahover%3Abg-blue-700%20transition-colors%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aring-offset-2%22%0A%40click%3D%22selectSuggestion(suggestion)%22%0A%3E%0A%7B%7B%20suggestion%20%7D%7D%0Abutton%3E%0Adiv%3E%0Adiv%20class%3D%22mt-3%20flex%20items-center%20space-x-2%22%3E%0Abutton%0Aclass%3D%22text-xs%20text-blue-600%20dark%3Atext-blue-400%20hover%3Atext-blue-800%20dark%3Ahover%3Atext-blue-200%20underline%22%0A%40click%3D%22addWordAnyway%22%0A%3E%0A%7B%7B%20%24t('words.addAnyway')%20%7D%7D%0Abutton%3E%0Aspan%20class%3D%22text-xs%20text-blue-500%20dark%3Atext-blue-400%22%3E%7B%7B%20%24t('words.or')%20%7D%7Dspan%3E%0Abutton%0Aclass%3D%22text-xs%20text-blue-600%20dark%3Atext-blue-400%20hover%3Atext-blue-800%20dark%3Ahover%3Atext-blue-200%20underline%22%0A%40click%3D%22cancelSpelling%22%0A%3E%0A%7B%7B%20%24t('words.tryAgain')%20%7D%7D%0Abutton%3E%0Adiv%3E%0Adiv%3E%0Adiv%3E%0Adiv%3E%0Aform%3E%0Adiv%3E%0Adiv%3E%0Adiv%3E%0Atemplate%3E%0Ascript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20onMounted%2C%20reactive%2C%20ref%20%7D%20from%20'vue'%0Aimport%20%7B%20useWordsStore%20%7D%20from%20'..%2Fstores%2Fwords.ts'%0Aimport%20%7B%20useI18n%20%7D%20from%20'vue-i18n'%0Aconst%20wordsStore%20%3D%20useWordsStore()%0Aconst%20%7B%20t%20%7D%20%3D%20useI18n()%0A%2F%2F%20Reactive%20state%0Aconst%20showAddForm%20%3D%20ref(false)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Whether%20to%20show%20add%20form%0Aconst%20spellingError%20%3D%20ref(false)%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Whether%20there%20is%20a%20spelling%20error%0Aconst%20spellingSuggestions%20%3D%20ref(%5B%5D)%20%2F%2F%20Spelling%20suggestions%20array%0A%2F%2F%20New%20word%20data%0Aconst%20newWord%20%3D%20reactive(%7B%0Aword%3A%20''%0A%7D)%0A%2F%2F%20Initialize%20when%20component%20mounts%0AonMounted(()%20%3D%3E%20%7B%0AwordsStore.fetchWords()%0AwordsStore.fetchPartsOfSpeech()%0A%7D)%0A%2F**%0A*%20Main%20processing%20function%20for%20adding%20words%0A*%2F%0Aconst%20addWord%20%3D%20async%20()%20%3D%3E%20%7B%0A%2F%2F%20Validate%20input%0Aif%20(!newWord.word.trim())%20return%0A%2F%2F%20Reset%20spelling%20error%20state%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0A%2F%2F%20Call%20store%20to%20add%20word%0Aconst%20result%20%3D%20await%20wordsStore.addWord(%7B%0Aword%3A%20newWord.word.trim()%0A%7D)%0Aif%20(result.success)%20%7B%0A%2F%2F%20Success%3A%20reset%20form%0AnewWord.word%20%3D%20''%0AshowAddForm.value%20%3D%20false%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0A%7D%20else%20if%20(result.spellingError%20%26%26%20result.suggestions%3F.length%20%3E%200)%20%7B%0A%2F%2F%20Spelling%20error%3A%20display%20suggestions%0AspellingError.value%20%3D%20true%0AspellingSuggestions.value%20%3D%20result.suggestions%0A%7D%0A%7D%0A%2F**%0A*%20User%20selects%20spelling%20suggestion%0A*%20%40param%20%7Bstring%7D%20suggestion%20-%20Selected%20suggestion%20word%0A*%2F%0Aconst%20selectSuggestion%20%3D%20(suggestion%3A%20string)%20%3D%3E%20%7B%0AnewWord.word%20%3D%20suggestion%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0A%7D%0A%2F**%0A*%20Force%20add%20word%20(skip%20spell%20checking)%0A*%2F%0Aconst%20addWordAnyway%20%3D%20async%20()%20%3D%3E%20%7B%0Aif%20(!newWord.word.trim())%20return%0A%2F%2F%20Reset%20error%20state%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0A%2F%2F%20Force%20add%20through%20forceAdd%20parameter%0Aconst%20result%20%3D%20await%20wordsStore.addWord(%7B%0Aword%3A%20newWord.word.trim()%2C%0AforceAdd%3A%20true%0A%7D)%0Aif%20(result.success)%20%7B%0AnewWord.word%20%3D%20''%0AshowAddForm.value%20%3D%20false%0A%7D%0A%7D%0A%2F**%0A*%20Cancel%20spelling%20suggestions%2C%20re-enter%0A*%2F%0Aconst%20cancelSpelling%20%3D%20()%20%3D%3E%20%7B%0AspellingError.value%20%3D%20false%0AspellingSuggestions.value%20%3D%20%5B%5D%0AnewWord.word%20%3D%20''%0A%7D%0Ascript%3E">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">vue</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-vue"><span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">template</span>&gt;</span>
  <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;space-y-6&quot;</span>&gt;</span>
    <span class="hljs-comment inline">&lt;!-- Add word form --&gt;</span>
    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">v-if</span>=<span class="hljs-string inline">&quot;showAddForm&quot;</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;card&quot;</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;card-header&quot;</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h3</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-lg font-semibold&quot;</span>&gt;</span></span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.add&#x27;</span>) }}</span><span class="language-xml inline"><span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h3</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;card-body&quot;</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">form</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;space-y-4&quot;</span> @<span class="hljs-attr inline">submit.prevent</span>=<span class="hljs-string inline">&quot;addWord&quot;</span>&gt;</span>
          <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;grid grid-cols-1 gap-4&quot;</span>&gt;</span>
            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
              <span class="hljs-tag inline">&lt;<span class="hljs-name inline">label</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;block text-sm font-medium text-primary&quot;</span> <span class="hljs-attr inline">for</span>=<span class="hljs-string inline">&quot;word&quot;</span>&gt;</span>
                </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.word&#x27;</span>) }}</span><span class="language-xml inline"> *
              <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">label</span>&gt;</span>
              <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span>
                  <span class="hljs-attr inline">id</span>=<span class="hljs-string inline">&quot;word&quot;</span>
                  <span class="hljs-attr inline">v-model</span>=<span class="hljs-string inline">&quot;newWord.word&quot;</span>
                  <span class="hljs-attr inline">:placeholder</span>=<span class="hljs-string inline">&quot;$t(&#x27;words.enterWord&#x27;)&quot;</span>
                  <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;input mt-1&quot;</span>
                  <span class="hljs-attr inline">required</span>
                  <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;text&quot;</span>
              /&gt;</span>
              <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-xs text-secondary mt-1&quot;</span>&gt;</span>
                </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.spellingWillBeChecked&#x27;</span>) }}</span><span class="language-xml inline">
              <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>

            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex items-end md:items-center&quot;</span>&gt;</span>
              <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span>
                  <span class="hljs-attr inline">:disabled</span>=<span class="hljs-string inline">&quot;wordsStore.loading || !newWord.word.trim()&quot;</span>
                  <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;btn btn-primary w-full&quot;</span>
                  <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;submit&quot;</span>
              &gt;</span>
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">v-if</span>=<span class="hljs-string inline">&quot;wordsStore.loading&quot;</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;spinner mr-2&quot;</span>&gt;</span><span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.add&#x27;</span>) }}</span><span class="language-xml inline">
              <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
          <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>

          <span class="hljs-comment inline">&lt;!-- Spelling suggestion UI --&gt;</span>
          <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">v-if</span>=<span class="hljs-string inline">&quot;spellingError &amp;&amp; spellingSuggestions.length &gt; 0&quot;</span>
               <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-4&quot;</span>&gt;</span>
            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex items-start space-x-2&quot;</span>&gt;</span>
              <span class="hljs-comment inline">&lt;!-- Information icon --&gt;</span>
              <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex-shrink-0 mt-0.5&quot;</span>&gt;</span>
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">svg</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;w-5 h-5 text-blue-600 dark:text-blue-400&quot;</span> <span class="hljs-attr inline">fill</span>=<span class="hljs-string inline">&quot;none&quot;</span> <span class="hljs-attr inline">stroke</span>=<span class="hljs-string inline">&quot;currentColor&quot;</span> <span class="hljs-attr inline">viewBox</span>=<span class="hljs-string inline">&quot;0 0 24 24&quot;</span>&gt;</span>
                  <span class="hljs-tag inline">&lt;<span class="hljs-name inline">path</span> <span class="hljs-attr inline">stroke-linecap</span>=<span class="hljs-string inline">&quot;round&quot;</span> <span class="hljs-attr inline">stroke-linejoin</span>=<span class="hljs-string inline">&quot;round&quot;</span> <span class="hljs-attr inline">stroke-width</span>=<span class="hljs-string inline">&quot;2&quot;</span> <span class="hljs-attr inline">d</span>=<span class="hljs-string inline">&quot;M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z&quot;</span>&gt;</span><span class="hljs-tag inline">&lt;/<span class="hljs-name inline">path</span>&gt;</span>
                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">svg</span>&gt;</span>
              <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
              <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex-1&quot;</span>&gt;</span>
                <span class="hljs-comment inline">&lt;!-- Prompt text --&gt;</span>
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-sm font-medium text-blue-800 dark:text-blue-200 mb-2&quot;</span>&gt;</span>
                  </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.spellingNotRecognized&#x27;</span>) }}</span><span class="language-xml inline">
                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-sm text-blue-700 dark:text-blue-300 mb-3&quot;</span>&gt;</span>
                  </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.didYouMean&#x27;</span>) }}</span><span class="language-xml inline">
                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
                
                <span class="hljs-comment inline">&lt;!-- Spelling suggestion button group --&gt;</span>
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;flex flex-wrap gap-2&quot;</span>&gt;</span>
                  <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span>
                      <span class="hljs-attr inline">v-for</span>=<span class="hljs-string inline">&quot;suggestion in spellingSuggestions&quot;</span>
                      <span class="hljs-attr inline">:key</span>=<span class="hljs-string inline">&quot;suggestion&quot;</span>
                      <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;inline-flex items-center px-3 py-1.5 text-sm font-medium text-blue-700 dark:text-blue-200 bg-blue-100 dark:bg-blue-800 rounded-md hover:bg-blue-200 dark:hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&quot;</span>
                      @<span class="hljs-attr inline">click</span>=<span class="hljs-string inline">&quot;selectSuggestion(suggestion)&quot;</span>
                  &gt;</span>
                    </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">suggestion</span> }}</span><span class="language-xml inline">
                  <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                
                <span class="hljs-comment inline">&lt;!-- User action options --&gt;</span>
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;mt-3 flex items-center space-x-2&quot;</span>&gt;</span>
                  <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span>
                      <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline&quot;</span>
                      @<span class="hljs-attr inline">click</span>=<span class="hljs-string inline">&quot;addWordAnyway&quot;</span>
                  &gt;</span>
                    </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.addAnyway&#x27;</span>) }}</span><span class="language-xml inline">
                  <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
                  <span class="hljs-tag inline">&lt;<span class="hljs-name inline">span</span> <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-xs text-blue-500 dark:text-blue-400&quot;</span>&gt;</span></span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.or&#x27;</span>) }}</span><span class="language-xml inline"><span class="hljs-tag inline">&lt;/<span class="hljs-name inline">span</span>&gt;</span>
                  <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span>
                      <span class="hljs-attr inline">class</span>=<span class="hljs-string inline">&quot;text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 underline&quot;</span>
                      @<span class="hljs-attr inline">click</span>=<span class="hljs-string inline">&quot;cancelSpelling&quot;</span>
                  &gt;</span>
                    </span><span class="hljs-template-variable inline">{{ <span class="hljs-name inline">$t</span>(<span class="hljs-name inline">&#x27;words.tryAgain&#x27;</span>) }}</span><span class="language-xml inline">
                  <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
              <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
          <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">form</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
    
    <span class="hljs-comment inline">&lt;!-- Other UI components... --&gt;</span>
  <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">template</span>&gt;</span>

<span class="hljs-tag inline">&lt;<span class="hljs-name inline">script</span> <span class="hljs-attr inline">lang</span>=<span class="hljs-string inline">&quot;ts&quot;</span> <span class="hljs-attr inline">setup</span>&gt;</span><span class="language-javascript inline">
<span class="hljs-keyword inline">import</span> { onMounted, reactive, ref } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;vue&#x27;</span>
<span class="hljs-keyword inline">import</span> { useWordsStore } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;../stores/words.ts&#x27;</span>
<span class="hljs-keyword inline">import</span> { useI18n } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;vue-i18n&#x27;</span>

<span class="hljs-keyword inline">const</span> wordsStore = <span class="hljs-title function_ inline">useWordsStore</span>()
<span class="hljs-keyword inline">const</span> { t } = <span class="hljs-title function_ inline">useI18n</span>()

<span class="hljs-comment inline">// Reactive state</span>
<span class="hljs-keyword inline">const</span> showAddForm = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-literal inline">false</span>)              <span class="hljs-comment inline">// Whether to show add form</span>
<span class="hljs-keyword inline">const</span> spellingError = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-literal inline">false</span>)            <span class="hljs-comment inline">// Whether there is a spelling error</span>
<span class="hljs-keyword inline">const</span> spellingSuggestions = ref&lt;string[]&gt;([]) <span class="hljs-comment inline">// Spelling suggestions array</span>

<span class="hljs-comment inline">// New word data</span>
<span class="hljs-keyword inline">const</span> newWord = <span class="hljs-title function_ inline">reactive</span>({
  <span class="hljs-attr inline">word</span>: <span class="hljs-string inline">&#x27;&#x27;</span>
})

<span class="hljs-comment inline">// Initialize when component mounts</span>
<span class="hljs-title function_ inline">onMounted</span>(<span class="hljs-function inline">() =&gt;</span> {
  wordsStore.<span class="hljs-title function_ inline">fetchWords</span>()
  wordsStore.<span class="hljs-title function_ inline">fetchPartsOfSpeech</span>()
})

<span class="hljs-comment inline">/**
 * Main processing function for adding words
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">addWord</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-comment inline">// Validate input</span>
  <span class="hljs-keyword inline">if</span> (!newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>()) <span class="hljs-keyword inline">return</span>

  <span class="hljs-comment inline">// Reset spelling error state</span>
  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []

  <span class="hljs-comment inline">// Call store to add word</span>
  <span class="hljs-keyword inline">const</span> result = <span class="hljs-keyword inline">await</span> wordsStore.<span class="hljs-title function_ inline">addWord</span>({
    <span class="hljs-attr inline">word</span>: newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>()
  })

  <span class="hljs-keyword inline">if</span> (result.<span class="hljs-property inline">success</span>) {
    <span class="hljs-comment inline">// Success: reset form</span>
    newWord.<span class="hljs-property inline">word</span> = <span class="hljs-string inline">&#x27;&#x27;</span>
    showAddForm.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
    spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
    spellingSuggestions.<span class="hljs-property inline">value</span> = []
  } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (result.<span class="hljs-property inline">spellingError</span> &amp;&amp; result.<span class="hljs-property inline">suggestions</span>?.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span>) {
    <span class="hljs-comment inline">// Spelling error: display suggestions</span>
    spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">true</span>
    spellingSuggestions.<span class="hljs-property inline">value</span> = result.<span class="hljs-property inline">suggestions</span>
  }
}

<span class="hljs-comment inline">/**
 * User selects spelling suggestion
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">suggestion</span> - Selected suggestion word
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">selectSuggestion</span> = (<span class="hljs-params inline">suggestion: string</span>) =&gt; {
  newWord.<span class="hljs-property inline">word</span> = suggestion
  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []
}

<span class="hljs-comment inline">/**
 * Force add word (skip spell checking)
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">addWordAnyway</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"></span>) =&gt; {
  <span class="hljs-keyword inline">if</span> (!newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>()) <span class="hljs-keyword inline">return</span>
  
  <span class="hljs-comment inline">// Reset error state</span>
  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []
  
  <span class="hljs-comment inline">// Force add through forceAdd parameter</span>
  <span class="hljs-keyword inline">const</span> result = <span class="hljs-keyword inline">await</span> wordsStore.<span class="hljs-title function_ inline">addWord</span>({
    <span class="hljs-attr inline">word</span>: newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">trim</span>(),
    <span class="hljs-attr inline">forceAdd</span>: <span class="hljs-literal inline">true</span>
  })
  
  <span class="hljs-keyword inline">if</span> (result.<span class="hljs-property inline">success</span>) {
    newWord.<span class="hljs-property inline">word</span> = <span class="hljs-string inline">&#x27;&#x27;</span>
    showAddForm.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  }
}

<span class="hljs-comment inline">/**
 * Cancel spelling suggestions, re-enter
 */</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">cancelSpelling</span> = (<span class="hljs-params inline"></span>) =&gt; {
  spellingError.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
  spellingSuggestions.<span class="hljs-property inline">value</span> = []
  newWord.<span class="hljs-property inline">word</span> = <span class="hljs-string inline">&#x27;&#x27;</span>
}
</span><span class="hljs-tag inline">&lt;/<span class="hljs-name inline">script</span>&gt;</span>
</span></code></pre>
            </div>
        
<h4 id="5-wordsts-pinia-state-management" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#5-wordsts-pinia-state-management" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 5. words.ts - Pinia State Management">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            5. words.ts - Pinia State Management
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="import%20%7B%20defineStore%20%7D%20from%20'pinia'%0Aimport%20%7B%20ref%2C%20computed%20%7D%20from%20'vue'%0Aimport%20%7B%20useToast%20%7D%20from%20'vue-toastification'%0Aimport%20%7B%20useI18n%20%7D%20from%20'vue-i18n'%0Aimport%20%7B%20wordsAPI%20%7D%20from%20'..%2Fservices%2Fapi.ts'%0A%2F%2F%20Type%20definitions%0Ainterface%20NewWord%20%7B%0Aword%3A%20string%0AforceAdd%3F%3A%20boolean%20%20%2F%2F%20Force%20add%20flag%0A%7D%0Ainterface%20Word%20%7B%0A_id%3A%20string%0Aword%3A%20string%0AuserIds%3A%20string%5B%5D%0Adefinitions%3A%20Arraytext%3A%20string%0ApartOfSpeech%3A%20string%0A%7D%3E%0AprimaryDefinition%3F%3A%20string%0AprimaryPartOfSpeech%3F%3A%20string%0AprimaryPartOfSpeechTranslated%3F%3A%20string%0AusageCount%3A%20number%0AwordNetProcessed%3A%20boolean%0AcreatedAt%3A%20string%0AupdatedAt%3A%20string%0A%7D%0Aexport%20const%20useWordsStore%20%3D%20defineStore('words'%2C%20()%20%3D%3E%20%7B%0A%2F%2F%20Reactive%20state%0Aconst%20words%20%3D%20refWord%5B%5D%3E(%5B%5D)%0Aconst%20selectedWords%20%3D%20refSetstring%3E%3E(new%20Set())%0Aconst%20loading%20%3D%20ref(false)%0Aconst%20currentFilter%20%3D%20refstring%3E('all')%0Aconst%20searchQuery%20%3D%20refstring%3E('')%0A%2F%2F%20Dependency%20injection%0Aconst%20toast%20%3D%20useToast()%0Aconst%20%7B%20t%20%7D%20%3D%20useI18n()%0A%2F%2F%20Computed%20property%3A%20filtered%20word%20list%0Aconst%20filteredWords%20%3D%20computed(()%20%3D%3E%20%7B%0Alet%20filtered%20%3D%20words.value%0A%2F%2F%20Part%20of%20speech%20filtering%0Aif%20(currentFilter.value%20%26%26%20currentFilter.value%20!%3D%3D%20'all')%20%7B%0Afiltered%20%3D%20filtered.filter(word%20%3D%3E%0Aword.primaryPartOfSpeech%20%3D%3D%3D%20currentFilter.value%0A)%0A%7D%0A%2F%2F%20Search%20filtering%0Aif%20(searchQuery.value.trim())%20%7B%0Aconst%20query%20%3D%20searchQuery.value.toLowerCase().trim()%0Afiltered%20%3D%20filtered.filter(word%20%3D%3E%0Aword.word.toLowerCase().includes(query)%20%7C%7C%0Aword.primaryDefinition%3F.toLowerCase().includes(query)%0A)%0A%7D%0Areturn%20filtered%0A%7D)%0A%2F%2F%20Computed%20property%3A%20sorted%20word%20list%0Aconst%20sortedWords%20%3D%20computed(()%20%3D%3E%20%7B%0Areturn%20%5B...filteredWords.value%5D.sort((a%2C%20b)%20%3D%3E%0Anew%20Date(b.createdAt).getTime()%20-%20new%20Date(a.createdAt).getTime()%0A)%0A%7D)%0A%2F**%0A*%20Core%20logic%20for%20adding%20words%0A*%20%40param%20%7BNewWord%7D%20newWord%20-%20New%20word%20object%0A*%20%40returns%20%7BPromise%7D%20Processing%20result%0A*%2F%0Aconst%20addWord%20%3D%20async%20(newWord%3A%20NewWord)%20%3D%3E%20%7B%0A%2F%2F%20Check%20for%20duplicates%0Aconst%20existingWord%20%3D%20words.value.find(w%20%3D%3E%0Aw.word.toLowerCase()%20%3D%3D%3D%20newWord.word.toLowerCase()%0A)%0Aif%20(existingWord)%20%7B%0Atoast.error(t('words.wordExists'))%0Areturn%20%7B%20success%3A%20false%2C%20message%3A%20t('words.wordExists')%20%7D%0A%7D%0Aloading.value%20%3D%20true%0Atry%20%7B%0A%2F%2F%20Call%20API%20to%20add%20word%0Aconst%20response%20%3D%20await%20wordsAPI.addWord(newWord)%0Aif%20(response.data.success)%20%7B%0A%2F%2F%20Success%3A%20update%20local%20state%0Awords.value.unshift(response.data.word)%0Atoast.success(t('words.wordAdded'))%0Areturn%20%7B%20success%3A%20true%2C%20word%3A%20response.data.word%20%7D%0A%7D%20else%20%7B%0A%2F%2F%20Check%20if%20it's%20a%20spelling%20error%0Aif%20(response.data.spellingError%20%26%26%20response.data.suggestions%3F.length%20%3E%200)%20%7B%0A%2F%2F%20Don't%20show%20error%20message%2C%20let%20UI%20component%20handle%20it%0Areturn%20%7B%0Asuccess%3A%20false%2C%0AspellingError%3A%20true%2C%0Asuggestions%3A%20response.data.suggestions%2C%0AoriginalWord%3A%20response.data.originalWord%2C%0AsuggestedCorrection%3A%20response.data.suggestedCorrection%2C%0Amessage%3A%20response.data.message%20%7C%7C%20t('words.spellingError')%0A%7D%0A%7D%0A%2F%2F%20Other%20errors%0Aconst%20message%20%3D%20response.data.message%20%7C%7C%20t('common.error')%0Atoast.error(message)%0Areturn%20%7B%20success%3A%20false%2C%20message%20%7D%0A%7D%0A%7D%20catch%20(error%3A%20any)%20%7B%0A%2F%2F%20Exception%20handling%0Aconst%20message%20%3D%20error.response%3F.data%3F.message%20%7C%7C%20t('common.error')%0Atoast.error(message)%0Areturn%20%7B%20success%3A%20false%2C%20message%20%7D%0A%7D%20finally%20%7B%0Aloading.value%20%3D%20false%0A%7D%0A%7D%0Areturn%20%7B%0A%2F%2F%20State%0Awords%3A%20sortedWords%2C%0AselectedWords%2C%0Aloading%2C%0AcurrentFilter%2C%0AsearchQuery%2C%0A%2F%2F%20Methods%0AaddWord%2C%0A%2F%2F%20...%20other%20methods%0A%7D%0A%7D)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">import</span> { defineStore } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;pinia&#x27;</span>
<span class="hljs-keyword inline">import</span> { ref, computed } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;vue&#x27;</span>
<span class="hljs-keyword inline">import</span> { useToast } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;vue-toastification&#x27;</span>
<span class="hljs-keyword inline">import</span> { useI18n } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;vue-i18n&#x27;</span>
<span class="hljs-keyword inline">import</span> { wordsAPI } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;../services/api.ts&#x27;</span>

<span class="hljs-comment inline">// Type definitions</span>
<span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">NewWord</span> {
  <span class="hljs-attr inline">word</span>: <span class="hljs-built_in inline">string</span>
  <span class="hljs-attr inline">forceAdd</span>?: <span class="hljs-built_in inline">boolean</span>  <span class="hljs-comment inline">// Force add flag</span>
}

<span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">Word</span> {
  <span class="hljs-attr inline">_id</span>: <span class="hljs-built_in inline">string</span>
  <span class="hljs-attr inline">word</span>: <span class="hljs-built_in inline">string</span>
  <span class="hljs-attr inline">userIds</span>: <span class="hljs-built_in inline">string</span>[]
  <span class="hljs-attr inline">definitions</span>: <span class="hljs-title class_ inline">Array</span>&lt;{
    <span class="hljs-attr inline">text</span>: <span class="hljs-built_in inline">string</span>
    <span class="hljs-attr inline">partOfSpeech</span>: <span class="hljs-built_in inline">string</span>
  }&gt;
  <span class="hljs-attr inline">primaryDefinition</span>?: <span class="hljs-built_in inline">string</span>
  <span class="hljs-attr inline">primaryPartOfSpeech</span>?: <span class="hljs-built_in inline">string</span>
  <span class="hljs-attr inline">primaryPartOfSpeechTranslated</span>?: <span class="hljs-built_in inline">string</span>
  <span class="hljs-attr inline">usageCount</span>: <span class="hljs-built_in inline">number</span>
  <span class="hljs-attr inline">wordNetProcessed</span>: <span class="hljs-built_in inline">boolean</span>
  <span class="hljs-attr inline">createdAt</span>: <span class="hljs-built_in inline">string</span>
  <span class="hljs-attr inline">updatedAt</span>: <span class="hljs-built_in inline">string</span>
}

<span class="hljs-keyword inline">export</span> <span class="hljs-keyword inline">const</span> useWordsStore = <span class="hljs-title function_ inline">defineStore</span>(<span class="hljs-string inline">&#x27;words&#x27;</span>, <span class="hljs-function inline">() =&gt;</span> {
  <span class="hljs-comment inline">// Reactive state</span>
  <span class="hljs-keyword inline">const</span> words = ref&lt;<span class="hljs-title class_ inline">Word</span>[]&gt;([])
  <span class="hljs-keyword inline">const</span> selectedWords = ref&lt;<span class="hljs-title class_ inline">Set</span>&lt;<span class="hljs-built_in inline">string</span>&gt;&gt;(<span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Set</span>())
  <span class="hljs-keyword inline">const</span> loading = <span class="hljs-title function_ inline">ref</span>(<span class="hljs-literal inline">false</span>)
  <span class="hljs-keyword inline">const</span> currentFilter = ref&lt;<span class="hljs-built_in inline">string</span>&gt;(<span class="hljs-string inline">&#x27;all&#x27;</span>)
  <span class="hljs-keyword inline">const</span> searchQuery = ref&lt;<span class="hljs-built_in inline">string</span>&gt;(<span class="hljs-string inline">&#x27;&#x27;</span>)
  
  <span class="hljs-comment inline">// Dependency injection</span>
  <span class="hljs-keyword inline">const</span> toast = <span class="hljs-title function_ inline">useToast</span>()
  <span class="hljs-keyword inline">const</span> { t } = <span class="hljs-title function_ inline">useI18n</span>()

  <span class="hljs-comment inline">// Computed property: filtered word list</span>
  <span class="hljs-keyword inline">const</span> filteredWords = <span class="hljs-title function_ inline">computed</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">let</span> filtered = words.<span class="hljs-property inline">value</span>

    <span class="hljs-comment inline">// Part of speech filtering</span>
    <span class="hljs-keyword inline">if</span> (currentFilter.<span class="hljs-property inline">value</span> &amp;&amp; currentFilter.<span class="hljs-property inline">value</span> !== <span class="hljs-string inline">&#x27;all&#x27;</span>) {
      filtered = filtered.<span class="hljs-title function_ inline">filter</span>(<span class="hljs-function inline"><span class="hljs-params inline">word</span> =&gt;</span> 
        word.<span class="hljs-property inline">primaryPartOfSpeech</span> === currentFilter.<span class="hljs-property inline">value</span>
      )
    }

    <span class="hljs-comment inline">// Search filtering</span>
    <span class="hljs-keyword inline">if</span> (searchQuery.<span class="hljs-property inline">value</span>.<span class="hljs-title function_ inline">trim</span>()) {
      <span class="hljs-keyword inline">const</span> query = searchQuery.<span class="hljs-property inline">value</span>.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">trim</span>()
      filtered = filtered.<span class="hljs-title function_ inline">filter</span>(<span class="hljs-function inline"><span class="hljs-params inline">word</span> =&gt;</span> 
        word.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">includes</span>(query) ||
        word.<span class="hljs-property inline">primaryDefinition</span>?.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">includes</span>(query)
      )
    }

    <span class="hljs-keyword inline">return</span> filtered
  })

  <span class="hljs-comment inline">// Computed property: sorted word list</span>
  <span class="hljs-keyword inline">const</span> sortedWords = <span class="hljs-title function_ inline">computed</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">return</span> [...filteredWords.<span class="hljs-property inline">value</span>].<span class="hljs-title function_ inline">sort</span>(<span class="hljs-function inline">(<span class="hljs-params inline">a, b</span>) =&gt;</span> 
      <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Date</span>(b.<span class="hljs-property inline">createdAt</span>).<span class="hljs-title function_ inline">getTime</span>() - <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Date</span>(a.<span class="hljs-property inline">createdAt</span>).<span class="hljs-title function_ inline">getTime</span>()
    )
  })

  <span class="hljs-comment inline">/**
   * Core logic for adding words
   * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">NewWord</span>} <span class="hljs-variable inline">newWord</span> - New word object
   * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">Promise&lt;Object&gt;</span>} Processing result
   */</span>
  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">addWord</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"><span class="hljs-attr inline">newWord</span>: <span class="hljs-title class_ inline">NewWord</span></span>) =&gt; {
    <span class="hljs-comment inline">// Check for duplicates</span>
    <span class="hljs-keyword inline">const</span> existingWord = words.<span class="hljs-property inline">value</span>.<span class="hljs-title function_ inline">find</span>(<span class="hljs-function inline"><span class="hljs-params inline">w</span> =&gt;</span> 
      w.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">toLowerCase</span>() === newWord.<span class="hljs-property inline">word</span>.<span class="hljs-title function_ inline">toLowerCase</span>()
    )
    <span class="hljs-keyword inline">if</span> (existingWord) {
      toast.<span class="hljs-title function_ inline">error</span>(<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.wordExists&#x27;</span>))
      <span class="hljs-keyword inline">return</span> { <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>, <span class="hljs-attr inline">message</span>: <span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.wordExists&#x27;</span>) }
    }

    loading.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">true</span>
    <span class="hljs-keyword inline">try</span> {
      <span class="hljs-comment inline">// Call API to add word</span>
      <span class="hljs-keyword inline">const</span> response = <span class="hljs-keyword inline">await</span> wordsAPI.<span class="hljs-title function_ inline">addWord</span>(newWord)
      
      <span class="hljs-keyword inline">if</span> (response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">success</span>) {
        <span class="hljs-comment inline">// Success: update local state</span>
        words.<span class="hljs-property inline">value</span>.<span class="hljs-title function_ inline">unshift</span>(response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">word</span>)
        toast.<span class="hljs-title function_ inline">success</span>(<span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.wordAdded&#x27;</span>))
        <span class="hljs-keyword inline">return</span> { <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">true</span>, <span class="hljs-attr inline">word</span>: response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">word</span> }
      } <span class="hljs-keyword inline">else</span> {
        <span class="hljs-comment inline">// Check if it&#x27;s a spelling error</span>
        <span class="hljs-keyword inline">if</span> (response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">spellingError</span> &amp;&amp; response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">suggestions</span>?.<span class="hljs-property inline">length</span> &gt; <span class="hljs-number inline">0</span>) {
          <span class="hljs-comment inline">// Don&#x27;t show error message, let UI component handle it</span>
          <span class="hljs-keyword inline">return</span> { 
            <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>, 
            <span class="hljs-attr inline">spellingError</span>: <span class="hljs-literal inline">true</span>,
            <span class="hljs-attr inline">suggestions</span>: response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">suggestions</span>,
            <span class="hljs-attr inline">originalWord</span>: response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">originalWord</span>,
            <span class="hljs-attr inline">suggestedCorrection</span>: response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">suggestedCorrection</span>,
            <span class="hljs-attr inline">message</span>: response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">message</span> || <span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;words.spellingError&#x27;</span>)
          }
        }
        
        <span class="hljs-comment inline">// Other errors</span>
        <span class="hljs-keyword inline">const</span> message = response.<span class="hljs-property inline">data</span>.<span class="hljs-property inline">message</span> || <span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;common.error&#x27;</span>)
        toast.<span class="hljs-title function_ inline">error</span>(message)
        <span class="hljs-keyword inline">return</span> { <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>, message }
      }
    } <span class="hljs-keyword inline">catch</span> (<span class="hljs-attr inline">error</span>: <span class="hljs-built_in inline">any</span>) {
      <span class="hljs-comment inline">// Exception handling</span>
      <span class="hljs-keyword inline">const</span> message = error.<span class="hljs-property inline">response</span>?.<span class="hljs-property inline">data</span>?.<span class="hljs-property inline">message</span> || <span class="hljs-title function_ inline">t</span>(<span class="hljs-string inline">&#x27;common.error&#x27;</span>)
      toast.<span class="hljs-title function_ inline">error</span>(message)
      <span class="hljs-keyword inline">return</span> { <span class="hljs-attr inline">success</span>: <span class="hljs-literal inline">false</span>, message }
    } <span class="hljs-keyword inline">finally</span> {
      loading.<span class="hljs-property inline">value</span> = <span class="hljs-literal inline">false</span>
    }
  }

  <span class="hljs-keyword inline">return</span> {
    <span class="hljs-comment inline">// State</span>
    <span class="hljs-attr inline">words</span>: sortedWords,
    selectedWords,
    loading,
    currentFilter,
    searchQuery,
    
    <span class="hljs-comment inline">// Methods</span>
    addWord,
    <span class="hljs-comment inline">// ... other methods</span>
  }
})
</code></pre>
            </div>
        
<h4 id="6-apits-api-service-layer" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#6-apits-api-service-layer" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 6. api.ts - API Service Layer">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            6. api.ts - API Service Layer
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="import%20axios%20from%20'axios'%0Aimport%20%7B%20getCurrentLocale%20%7D%20from%20'..%2Futils%2Fi18n.js'%0Aconst%20API_BASE_URL%20%3D%20import.meta.env.VITE_API_BASE_URL%0A%2F%2F%20Create%20axios%20instance%0Aconst%20api%20%3D%20axios.create(%7B%0AbaseURL%3A%20API_BASE_URL%2C%0Atimeout%3A%2030000%2C%0Aheaders%3A%20%7B%0A'Content-Type'%3A%20'application%2Fjson'%0A%7D%0A%7D)%0A%2F%2F%20Request%20interceptor%3A%20add%20language%20and%20authentication%20headers%0Aapi.interceptors.request.use(%0A(config)%20%3D%3E%20%7B%0A%2F%2F%20Add%20language%20header%0Aconst%20locale%20%3D%20getCurrentLocale()%0Aif%20(locale)%20%7B%0Aconfig.headers%5B'x-language'%5D%20%3D%20locale%0A%7D%0A%2F%2F%20Add%20authentication%20header%0Aconst%20token%20%3D%20localStorage.getItem('token')%0Aif%20(token)%20%7B%0Aconfig.headers.Authorization%20%3D%20%60Bearer%20%24%7Btoken%7D%60%0A%7D%0Areturn%20config%0A%7D%2C%0A(error)%20%3D%3E%20%7B%0Areturn%20Promise.reject(error)%0A%7D%0A)%0A%2F%2F%20Response%20interceptor%3A%20handle%20authentication%20failure%0Aapi.interceptors.response.use(%0A(response)%20%3D%3E%20response%2C%0A(error)%20%3D%3E%20%7B%0A%2F%2F%20Handle%20401%20error%20(unauthorized)%0Aif%20(error.response%3F.status%20%3D%3D%3D%20401)%20%7B%0AlocalStorage.removeItem('token')%0Adelete%20api.defaults.headers.common%5B'Authorization'%5D%0Aif%20(window.location.pathname%20!%3D%3D%20'%2Flogin')%20%7B%0Awindow.location.href%20%3D%20'%2Flogin'%0A%7D%0A%7D%0Areturn%20Promise.reject(error)%0A%7D%0A)%0A%2F%2F%20Export%20word-related%20APIs%0Aexport%20const%20wordsAPI%20%3D%20%7B%0A%2F%2F%20Get%20word%20list%0AgetWords%3A%20(params%3F%3A%20any)%20%3D%3E%20api.get('%2Fwords'%2C%20%7B%20params%20%7D)%2C%0A%2F%2F%20Add%20word%20(supports%20spelling%20suggestions%20and%20forced%20addition)%0AaddWord%3A%20(word%3A%20any)%20%3D%3E%20api.post('%2Fwords'%2C%20word)%2C%0A%2F%2F%20Delete%20word%0AdeleteWord%3A%20(id%3A%20string)%20%3D%3E%20api.delete(%60%2Fwords%2F%24%7Bid%7D%60)%2C%0A%2F%2F%20Get%20word%20statistics%0AgetStats%3A%20()%20%3D%3E%20api.get('%2Fwords%2Fstats')%2C%0A%2F%2F%20Get%20parts%20of%20speech%20list%0AgetPartsOfSpeech%3A%20()%20%3D%3E%20api.get('%2Fwords%2Fparts-of-speech')%2C%0A%2F%2F%20Get%20random%20words%0AgetRandomWords%3A%20(params%3F%3A%20any)%20%3D%3E%20api.get('%2Fwords%2Frandom'%2C%20%7B%20params%20%7D)%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="Copy code">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">Copy</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">import</span> axios <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;axios&#x27;</span>
<span class="hljs-keyword inline">import</span> { getCurrentLocale } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;../utils/i18n.js&#x27;</span>

<span class="hljs-keyword inline">const</span> <span class="hljs-variable constant_ inline">API_BASE_URL</span> = <span class="hljs-keyword inline">import</span>.<span class="hljs-property inline">meta</span>.<span class="hljs-property inline">env</span>.<span class="hljs-property inline">VITE_API_BASE_URL</span>

<span class="hljs-comment inline">// Create axios instance</span>
<span class="hljs-keyword inline">const</span> api = axios.<span class="hljs-title function_ inline">create</span>({
  <span class="hljs-attr inline">baseURL</span>: <span class="hljs-variable constant_ inline">API_BASE_URL</span>,
  <span class="hljs-attr inline">timeout</span>: <span class="hljs-number inline">30000</span>,
  <span class="hljs-attr inline">headers</span>: {
    <span class="hljs-string inline">&#x27;Content-Type&#x27;</span>: <span class="hljs-string inline">&#x27;application/json&#x27;</span>
  }
})

<span class="hljs-comment inline">// Request interceptor: add language and authentication headers</span>
api.<span class="hljs-property inline">interceptors</span>.<span class="hljs-property inline">request</span>.<span class="hljs-title function_ inline">use</span>(
  <span class="hljs-function inline">(<span class="hljs-params inline">config</span>) =&gt;</span> {
    <span class="hljs-comment inline">// Add language header</span>
    <span class="hljs-keyword inline">const</span> locale = <span class="hljs-title function_ inline">getCurrentLocale</span>()
    <span class="hljs-keyword inline">if</span> (locale) {
      config.<span class="hljs-property inline">headers</span>[<span class="hljs-string inline">&#x27;x-language&#x27;</span>] = locale
    }

    <span class="hljs-comment inline">// Add authentication header</span>
    <span class="hljs-keyword inline">const</span> token = <span class="hljs-variable language_ inline">localStorage</span>.<span class="hljs-title function_ inline">getItem</span>(<span class="hljs-string inline">&#x27;token&#x27;</span>)
    <span class="hljs-keyword inline">if</span> (token) {
      config.<span class="hljs-property inline">headers</span>.<span class="hljs-property inline">Authorization</span> = <span class="hljs-string inline">`Bearer <span class="hljs-subst inline">${token}</span>`</span>
    }

    <span class="hljs-keyword inline">return</span> config
  },
  <span class="hljs-function inline">(<span class="hljs-params inline">error</span>) =&gt;</span> {
    <span class="hljs-keyword inline">return</span> <span class="hljs-title class_ inline">Promise</span>.<span class="hljs-title function_ inline">reject</span>(error)
  }
)

<span class="hljs-comment inline">// Response interceptor: handle authentication failure</span>
api.<span class="hljs-property inline">interceptors</span>.<span class="hljs-property inline">response</span>.<span class="hljs-title function_ inline">use</span>(
  <span class="hljs-function inline">(<span class="hljs-params inline">response</span>) =&gt;</span> response,
  <span class="hljs-function inline">(<span class="hljs-params inline">error</span>) =&gt;</span> {
    <span class="hljs-comment inline">// Handle 401 error (unauthorized)</span>
    <span class="hljs-keyword inline">if</span> (error.<span class="hljs-property inline">response</span>?.<span class="hljs-property inline">status</span> === <span class="hljs-number inline">401</span>) {
      <span class="hljs-variable language_ inline">localStorage</span>.<span class="hljs-title function_ inline">removeItem</span>(<span class="hljs-string inline">&#x27;token&#x27;</span>)
      <span class="hljs-keyword inline">delete</span> api.<span class="hljs-property inline">defaults</span>.<span class="hljs-property inline">headers</span>.<span class="hljs-property inline">common</span>[<span class="hljs-string inline">&#x27;Authorization&#x27;</span>]
      
      <span class="hljs-keyword inline">if</span> (<span class="hljs-variable language_ inline">window</span>.<span class="hljs-property inline">location</span>.<span class="hljs-property inline">pathname</span> !== <span class="hljs-string inline">&#x27;/login&#x27;</span>) {
        <span class="hljs-variable language_ inline">window</span>.<span class="hljs-property inline">location</span>.<span class="hljs-property inline">href</span> = <span class="hljs-string inline">&#x27;/login&#x27;</span>
      }
    }
    
    <span class="hljs-keyword inline">return</span> <span class="hljs-title class_ inline">Promise</span>.<span class="hljs-title function_ inline">reject</span>(error)
  }
)

<span class="hljs-comment inline">// Export word-related APIs</span>
<span class="hljs-keyword inline">export</span> <span class="hljs-keyword inline">const</span> wordsAPI = {
  <span class="hljs-comment inline">// Get word list</span>
  <span class="hljs-attr inline">getWords</span>: <span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">params</span>?: <span class="hljs-built_in inline">any</span></span>) =&gt;</span> api.<span class="hljs-title function_ inline">get</span>(<span class="hljs-string inline">&#x27;/words&#x27;</span>, { params }),

  <span class="hljs-comment inline">// Add word (supports spelling suggestions and forced addition)</span>
  <span class="hljs-attr inline">addWord</span>: <span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">word</span>: <span class="hljs-built_in inline">any</span></span>) =&gt;</span> api.<span class="hljs-title function_ inline">post</span>(<span class="hljs-string inline">&#x27;/words&#x27;</span>, word),

  <span class="hljs-comment inline">// Delete word</span>
  <span class="hljs-attr inline">deleteWord</span>: <span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">id</span>: <span class="hljs-built_in inline">string</span></span>) =&gt;</span> api.<span class="hljs-title function_ inline">delete</span>(<span class="hljs-string inline">`/words/<span class="hljs-subst inline">${id}</span>`</span>),

  <span class="hljs-comment inline">// Get word statistics</span>
  <span class="hljs-attr inline">getStats</span>: <span class="hljs-function inline">() =&gt;</span> api.<span class="hljs-title function_ inline">get</span>(<span class="hljs-string inline">&#x27;/words/stats&#x27;</span>),

  <span class="hljs-comment inline">// Get parts of speech list</span>
  <span class="hljs-attr inline">getPartsOfSpeech</span>: <span class="hljs-function inline">() =&gt;</span> api.<span class="hljs-title function_ inline">get</span>(<span class="hljs-string inline">&#x27;/words/parts-of-speech&#x27;</span>),

  <span class="hljs-comment inline">// Get random words</span>
  <span class="hljs-attr inline">getRandomWords</span>: <span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">params</span>?: <span class="hljs-built_in inline">any</span></span>) =&gt;</span> api.<span class="hljs-title function_ inline">get</span>(<span class="hljs-string inline">&#x27;/words/random&#x27;</span>, { params })
}
</code></pre>
            </div>
        
<h2 id="final-thoughts" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#final-thoughts" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Final Thoughts">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Final Thoughts
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">Word checking was primarily implemented to solve the problem of “vocabulary database pollution.” Initially, my vision was to have various users gradually expand the Questions Party vocabulary database, creating a “collaborative learning” atmosphere. However, I then thought about the question: “What if someone accidentally or intentionally inputs incorrect words, causing the vocabulary database to become polluted?” After some investigation, I discovered Typo.js and WordNet.</p>
<p class="text-base leading-7 mb-4 text-foreground"><em class="italic text-foreground">May the knowledge networks built by all beings endure forever, may every word find its rightful place</em>. ✨</p>
d:["$","$L1d",null,{"htmlContent":"$1e","frontMatter":{"title":"Vocabulary Collection: Building the Sea of Words Together","description":"In-depth analysis of intelligent word recognition and storage system's full-stack implementation principles, complete technical pipeline from frontend input to backend AI processing","date":"2025-06-22","author":"MilkWind","tags":["Speech Analysis","Spell Checking"],"references":{}},"readingTime":"30 min read","category":"questions-party","tocItems":[{"id":"vocabulary-collection-building-the-sea-of-words-together","text":"Vocabulary Collection: Building the Sea of Words Together","level":1},{"id":"system-architecture-overview","text":"System Architecture Overview","level":2},{"id":"overall-data-flow","text":"Overall Data Flow","level":3},{"id":"modern-mvc-architecture-application","text":"Modern MVC Architecture Application","level":3},{"id":"frontend-interactive-interface-design","text":"Frontend Interactive Interface Design","level":2},{"id":"composition-api-state-management","text":"Composition API State Management","level":3},{"id":"debounced-search","text":"Debounced Search","level":3},{"id":"pinia-state-management","text":"Pinia State Management","level":3},{"id":"frontend-spelling-suggestion-ui-design","text":"Frontend Spelling Suggestion UI Design","level":3},{"id":"frontend-spelling-suggestion-processing-logic","text":"Frontend Spelling Suggestion Processing Logic","level":3},{"id":"internationalization-mechanism","text":"Internationalization Mechanism","level":2},{"id":"frontend-language-specification-process","text":"Frontend Language Specification Process","level":3},{"id":"backend-language-processing-mechanism","text":"Backend Language Processing Mechanism","level":3},{"id":"dynamic-implementation-of-part-of-speech-translation","text":"Dynamic Implementation of Part of Speech Translation","level":3},{"id":"spell-checking-engine-analysis-typojs","text":"Spell Checking Engine Analysis: Typo.js","level":2},{"id":"javascript-implementation-of-hunspell-algorithm","text":"JavaScript Implementation of Hunspell Algorithm","level":3},{"id":"intelligent-spelling-suggestion-system","text":"Intelligent Spelling Suggestion System","level":3},{"id":"force-add-mechanism","text":"Force Add Mechanism","level":3},{"id":"edit-distance-algorithm","text":"Edit Distance Algorithm","level":3},{"id":"fault-tolerance-mechanism","text":"Fault Tolerance Mechanism","level":3},{"id":"wordnet-vocabulary-database-integration-semantic-network","text":"WordNet Vocabulary Database Integration: Semantic Network","level":2},{"id":"wordnet-data-structure","text":"WordNet Data Structure","level":3},{"id":"automated-part-of-speech-recognition","text":"Automated Part of Speech Recognition","level":3},{"id":"asynchronous-initialization","text":"Asynchronous Initialization","level":3},{"id":"data-model-and-storage-design-mongodb-documents","text":"Data Model and Storage Design: MongoDB Documents","level":2},{"id":"optimized-schema-design","text":"Optimized Schema Design","level":3},{"id":"performance-optimization-with-compound-indexes","text":"Performance Optimization with Compound Indexes","level":3},{"id":"multi-user-data-sharing-mechanism","text":"Multi-user Data Sharing Mechanism","level":3},{"id":"backend-controller-logic-deep-analysis-restful","text":"Backend Controller Logic Deep Analysis: RESTful","level":2},{"id":"data-validation-schema-design","text":"Data Validation Schema Design","level":3},{"id":"pagination-query","text":"Pagination Query","level":3},{"id":"standardized-error-handling-implementation","text":"Standardized Error Handling Implementation","level":3},{"id":"intelligent-recommendations-mongodb-aggregation","text":"Intelligent Recommendations: MongoDB Aggregation","level":2},{"id":"random-word-recommendation-algorithm","text":"Random Word Recommendation Algorithm","level":3},{"id":"performance-optimization-of-recommendation-algorithm","text":"Performance Optimization of Recommendation Algorithm","level":3},{"id":"personalized-filtering-mechanism","text":"Personalized Filtering Mechanism","level":3},{"id":"complete-data-flow-analysis-from-input-to-storage","text":"Complete Data Flow Analysis: From Input to Storage","level":2},{"id":"complete-flow-diagram","text":"Complete Flow Diagram","level":3},{"id":"technology-library-toolchain","text":"Technology Library Toolchain","level":2},{"id":"typojs","text":"Typo.js","level":3},{"id":"wordnet-digitalization-of-semantic-networks","text":"WordNet: Digitalization of Semantic Networks","level":3},{"id":"joi-the-art-of-data-validation","text":"Joi: The Art of Data Validation","level":3},{"id":"mongoose-mongodb-query-builder","text":"Mongoose: MongoDB Query Builder","level":3},{"id":"backend-internationalization-response-implementation","text":"Backend Internationalization Response Implementation","level":2},{"id":"language-negotiation-via-request-headers","text":"Language Negotiation via Request Headers","level":3},{"id":"backend-middleware-internationalization-processing","text":"Backend Middleware Internationalization Processing","level":3},{"id":"real-time-language-switching-technical-solution","text":"Real-time Language Switching Technical Solution","level":3},{"id":"user-experience","text":"User Experience","level":2},{"id":"real-time-feedback-mechanism","text":"Real-time Feedback Mechanism","level":3},{"id":"error-handling","text":"Error Handling","level":3},{"id":"complete-source-code-analysis","text":"Complete Source Code Analysis","level":2},{"id":"backend-core-files","text":"Backend Core Files","level":3},{"id":"1-wordcontrollerjs-word-controller","text":"1. wordController.js - Word Controller","level":4},{"id":"2-wordutilsjs-word-processing-tool","text":"2. wordUtils.js - Word Processing Tool","level":4},{"id":"3-wordsjs-route-definition","text":"3. words.js - Route Definition","level":4},{"id":"frontend-core-files","text":"Frontend Core Files","level":3},{"id":"4-wordsvue-word-management-view","text":"4. Words.vue - Word Management View","level":4},{"id":"5-wordsts-pinia-state-management","text":"5. words.ts - Pinia State Management","level":4},{"id":"6-apits-api-service-layer","text":"6. api.ts - API Service Layer","level":4},{"id":"final-thoughts","text":"Final Thoughts","level":2}],"translations":{"common":{"welcome":"Welcome","loading":"Loading...","error":"Something went wrong","retry":"Try again","theme":"Theme","language":"Language","light":"Light","dark":"Dark"},"navigation":{"home":"Home","personal":"Personal","works":"Works","contributions":"Contributions","documents":"Documents","about":"About","contact":"Contact"},"personal":{"technicalSkills":"Technical Skills","email":"Email","github":"GitHub","resume":"Resume","codeRepository":"Code Repository","loadingPersonalInfo":"Loading personal information...","loadingResume":"Loading resume...","closeResume":"Close Resume","emailCopied":"Email copied to clipboard!","galaxyDefaultDescription":"Expert in full-stack development, cross-platform architecture, AI technology integration, and high-performance system optimization","skillGalaxy":"Skill Galaxy","stirGalaxy":"Stir Galaxy","stirring":"Stirring...","fullStackEngineer":"MilkWind - Full Stack Engineer","professionalProfile":"About Me"},"documents":{"technicalDocuments":"Technical Documents","description":"Basic principles, code splitting, and some random thoughts.","articles":"Articles","categories":"Categories","allCategories":"All Categories","noArticlesFound":"No articles found","noArticlesAvailable":"No articles available in English.","noArticlesInCategory":"No articles found in the category.","readMore":"Read more","loadingDocuments":"Loading documents...","backToDocuments":"← Back to Documents","documentNotFound":"Document Not Found","documentNotFoundDescription":"The requested document could not be found.","technicalInsights":"Insights","untitledDocument":"Untitled Document","byAuthor":"By","search":"Search articles...","searchByTags":"Filter by tags","searching":"Searching...","noSearchResults":"No articles match your search criteria","clearSearch":"Clear search","selectedTags":"Selected tags","allTags":"All tags","searchInTitle":"Search in titles, descriptions, and content","enterImmersiveMode":"Immersive Reading","exitImmersiveMode":"Exit Immersive Mode","immersiveReading":"Immersive Reading Mode","exploreContent":"Explore content by category","browseBy":"Browse by","exploreAll":"All content in one place","categoryDescription":"Articles in this category","totalArticles":"Articles","totalCategories":"Categories","foundArticles":"Found articles","categoriesWithResults":"Categories with results"},"works":{"workCases":"Work Cases","projects":"Portfolio","loadingProjects":"Loading projects...","grid":"Grid","stack":"Stack","of":"of","workCasesPageTitle":"Work Cases Page","pageWorkingCorrectly":"This page is working! The routing is correct.","try3DVersion":"Try 3D Version","dragToScroll":"Drag to scroll","dragToChange":"Drag to change","swipeCards":"Swipe cards","keyboardNav":"Keyboard navigation"},"contributions":{"contributionCases":"Open Source","contributions":"Contributions","loadingContributions":"Loading contributions...","grid":"Grid","stack":"Stack","of":"of","contributionCasesPageTitle":"Contribution Cases Page","pageWorkingCorrectly":"This page is working! The routing is correct.","try3DVersion":"Try 3D Version","dragToScroll":"Drag to scroll","dragToChange":"Drag to change","swipeCards":"Swipe cards","keyboardNav":"Keyboard navigation"},"contribution":{"contributionPreview":"Contribution Preview","accessible":"Accessible","code":"Code","maintenance":"Maintenance","enhancement":"Enhancement","documentation":"Documentation","community":"Community","moreItems":"more","technicalDetails":"Technical Details","technologies":"Technologies:","contributionDetail":"Contribution Detail","description":"Description:","seeDetails":"See Details","github":"GitHub","viewContribution":"View Contribution","viewCode":"View Code"},"project":{"projectPreview":"Project Preview","accessible":"Accessible","tool":"Tool","plugin":"Plugin","toy":"Toy","moreItems":"more","technicalDetails":"Technical Details","technologies":"Technologies:","description":"Description:","seeDetails":"See Details","github":"GitHub","gitee":"Gitee","viewLiveDemo":"View Live Demo","viewCode":"View Code","access":"Access","videos":"Videos","watchVideo":"Watch Video","hasVideo":"Has Video"},"codeblock":{"copy":"Copy","copySuccess":"Code copied to clipboard!","copyError":"Failed to copy code","copyTooltip":"Copy code"},"toc":{"contents":"Contents","autoScroll":"Auto-scroll to section","collapse":"Collapse","expand":"Expand"},"loading":{"loading":"LOADING","preparingExperience":"Preparing experience"}},"lang":"en","theme":"light"}]
12:null
18:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
11:null
1c:{"metadata":[["$","title","0",{"children":"Vocabulary Collection: Building the Sea of Words Together | Interactive Portfolio"}],["$","meta","1",{"name":"description","content":"In-depth analysis of intelligent word recognition and storage system's full-stack implementation principles, complete technical pipeline from frontend input to backend AI processing"}],["$","meta","2",{"name":"author","content":"Developer"}],["$","meta","3",{"name":"keywords","content":"portfolio,3D,interactive,web development,Three.js,Next.js"}],["$","meta","4",{"property":"og:title","content":"Vocabulary Collection: Building the Sea of Words Together | Interactive Portfolio"}],["$","meta","5",{"property":"og:description","content":"In-depth analysis of intelligent word recognition and storage system's full-stack implementation principles, complete technical pipeline from frontend input to backend AI processing"}],["$","meta","6",{"property":"og:type","content":"article"}],["$","meta","7",{"property":"article:published_time","content":"2025-06-22"}],["$","meta","8",{"property":"article:tag","content":"Speech Analysis"}],["$","meta","9",{"property":"article:tag","content":"Spell Checking"}],["$","meta","10",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","11",{"name":"twitter:title","content":"Vocabulary Collection: Building the Sea of Words Together | Interactive Portfolio"}],["$","meta","12",{"name":"twitter:description","content":"In-depth analysis of intelligent word recognition and storage system's full-stack implementation principles, complete technical pipeline from frontend input to backend AI processing"}],["$","link","13",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"32x32"}]],"error":null,"digest":"$undefined"}
14:{"metadata":"$1c:metadata","error":null,"digest":"$undefined"}
