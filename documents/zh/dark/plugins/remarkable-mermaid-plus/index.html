<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/fe7e5644f748258b.css" data-precedence="next"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/38943437573ce53c.css" data-precedence="next"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/MilkWind-Website/_next/static/chunks/webpack-453b10ff6467cd69.js"/><script src="/MilkWind-Website/_next/static/chunks/4bd1b696-5119e10e90c1bd1b.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/1684-794bcba02d6f7373.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/main-app-c5f95d71e93250dc.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/1899-38fe6771109eb8a8.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/layout-3eed8318d7b0d3da.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/error-dda32be1d095a86c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/6874-fbe9a08eb79b991c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/not-found-9ff98b2ccf24cac7.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/206-4f4cbf4d7156f437.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/layout-28408791defde09e.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/2415-689c103fb3d2c28d.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/8610-7bd3f91f3cf2a4d6.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/loading-68f227fb49b3ac8c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/b498d07c-095637f0f10883c6.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/9554-b714f9de28e85d30.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js" async=""></script><title>remarkable-mermaid-plus代码全解析 | Interactive Portfolio</title><meta name="description" content="详细解析remarkable-mermaid-plus插件代码"/><meta name="author" content="Developer"/><meta name="keywords" content="portfolio,3D,interactive,web development,Three.js,Next.js"/><meta property="og:title" content="remarkable-mermaid-plus代码全解析 | Interactive Portfolio"/><meta property="og:description" content="详细解析remarkable-mermaid-plus插件代码"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-06-22"/><meta property="article:tag" content="代码解析"/><meta property="article:tag" content="插件"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="remarkable-mermaid-plus代码全解析 | Interactive Portfolio"/><meta name="twitter:description" content="详细解析remarkable-mermaid-plus插件代码"/><link rel="icon" href="/MilkWind-Website/favicon.ico" type="image/x-icon" sizes="32x32"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/MilkWind-Website/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_d71c80 __variable_744f1f font-sans antialiased min-h-screen bg-background text-foreground"><div class="fixed inset-0 w-full h-full overflow-hidden pointer-events-none z-0" style="background:linear-gradient(135deg, hsl(210, 80%, 60%), hsl(180, 40%, 50%))"></div><div class="fixed top-20 right-5 z-50"><div class="w-16 h-16 rounded-full backdrop-blur-md border animate-pulse bg-surface/60 border-surface/40"></div></div><!--$--><style>
:root {
  --bprogress-color: #0066cc;
  --bprogress-height: 4px;
  --bprogress-spinner-size: 18px;
  --bprogress-spinner-animation-duration: 400ms;
  --bprogress-spinner-border-size: 2px;
  --bprogress-box-shadow: 0 0 10px #0066cc, 0 0 5px #0066cc;
  --bprogress-z-index: 99999;
  --bprogress-spinner-top: 15px;
  --bprogress-spinner-bottom: auto;
  --bprogress-spinner-right: 15px;
  --bprogress-spinner-left: auto;
}

.bprogress {
  width: 0;
  height: 0;
  pointer-events: none;
  z-index: var(--bprogress-z-index);
}

.bprogress .bar {
  background: var(--bprogress-color);
  position: fixed;
  z-index: var(--bprogress-z-index);
  top: 0;
  left: 0;
  width: 100%;
  height: var(--bprogress-height);
}

/* Fancy blur effect */
.bprogress .peg {
  display: block;
  position: absolute;
  right: 0;
  width: 100px;
  height: 100%;
  box-shadow: var(--bprogress-box-shadow);
  opacity: 1.0;
  transform: rotate(3deg) translate(0px, -4px);
}

/* Remove these to get rid of the spinner */
.bprogress .spinner {
  display: block;
  position: fixed;
  z-index: var(--bprogress-z-index);
  top: var(--bprogress-spinner-top);
  bottom: var(--bprogress-spinner-bottom);
  right: var(--bprogress-spinner-right);
  left: var(--bprogress-spinner-left);
}

.bprogress .spinner-icon {
  width: var(--bprogress-spinner-size);
  height: var(--bprogress-spinner-size);
  box-sizing: border-box;
  border: solid var(--bprogress-spinner-border-size) transparent;
  border-top-color: var(--bprogress-color);
  border-left-color: var(--bprogress-color);
  border-radius: 50%;
  -webkit-animation: bprogress-spinner var(--bprogress-spinner-animation-duration) linear infinite;
  animation: bprogress-spinner var(--bprogress-spinner-animation-duration) linear infinite;
}

.bprogress-custom-parent {
  overflow: hidden;
  position: relative;
}

.bprogress-custom-parent .bprogress .spinner,
.bprogress-custom-parent .bprogress .bar {
  position: absolute;
}

.bprogress .indeterminate {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--bprogress-height);
  overflow: hidden;
}

.bprogress .indeterminate .inc,
.bprogress .indeterminate .dec {
  position: absolute;
  top: 0;
  height: 100%;
  background-color: var(--bprogress-color);
}

.bprogress .indeterminate .inc {
  animation: bprogress-indeterminate-increase 2s infinite;
}

.bprogress .indeterminate .dec {
  animation: bprogress-indeterminate-decrease 2s 0.5s infinite;
}

@-webkit-keyframes bprogress-spinner {
  0%   { -webkit-transform: rotate(0deg); transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }
}

@keyframes bprogress-spinner {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes bprogress-indeterminate-increase {
  from { left: -5%; width: 5%; }
  to { left: 130%; width: 100%; }
}

@keyframes bprogress-indeterminate-decrease {
  from { left: -80%; width: 80%; }
  to { left: 110%; width: 10%; }
}
</style><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$--><div class="relative z-30 min-h-screen bg-background "><div class="container mx-auto px-4 py-8 max-w-4xl"><div class="mb-8"><a class="inline-flex items-center text-primary hover:text-primary/80 transition-colors" href="/MilkWind-Website/documents/">documents.backToDocuments</a></div><header class="mb-12"><div class="flex items-center gap-4 mb-4 text-sm text-foreground/60"><span class="px-3 py-1 bg-primary/20 text-primary rounded-full capitalize">plugins</span><span>35 min read</span></div><h1 class="font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent text-4xl md:text-5xl">remarkable-mermaid-plus代码全解析</h1><p class="text-xl text-foreground/80 max-w-3xl">详细解析remarkable-mermaid-plus插件代码</p><div class="flex flex-wrap gap-2 mt-6"><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">代码解析</span><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">插件</span></div></header><article class="prose prose-headings:mt-8 prose-headings:font-semibold prose-headings:text-foreground prose-h1:text-5xl prose-h2:text-4xl prose-h3:text-3xl prose-h4:text-2xl prose-h5:text-xl prose-h6:text-lg max-w-none "><div class="prose-pre:p-4 prose-pre:bg-surface w-full"><h1 id="remarkable-mermaid-plus-插件代码解析" class="group relative text-4xl font-bold mt-8 mb-4 text-foreground leading-tight">
            <a href="#remarkable-mermaid-plus-插件代码解析" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Remarkable Mermaid Plus 插件代码解析">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Remarkable Mermaid Plus 插件代码解析
        </h1>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">插件版本：v1.0.26</strong></p>
<p class="text-base leading-7 mb-4 text-foreground">本篇文章将会对 <code>remarkable-mermaid-plus</code> 插件代码进行逐行解析，包括主要的插件文件 <code>index.js</code> 和工具函数文件 <code>mermaid-utils.js</code>。本解析不仅解释每行代码的作用，还详细说明所有非JavaScript标准库函数的用法和原理。</p>
<h2 id="概览" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#概览" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 概览">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            概览
        </h2>
<p class="text-base leading-7 mb-4 text-foreground"><code>remarkable-mermaid-plus</code> 是一个用于 Remarkable Markdown 处理器的插件，它能够将 Markdown 代码块中的 <code>mermaid</code> 代码转换为可交互的 Mermaid 图表。该插件采用后处理的方式，在 Remarkable 完成基本渲染后对 HTML 内容进行二次处理。</p>
<h2 id="依赖库函数说明" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#依赖库函数说明" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 依赖库函数说明">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            依赖库函数说明
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">在深入代码解析之前，先了解本插件使用的主要非标准库函数：</p>
<h3 id="nodejs-相关函数" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#nodejs-相关函数" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Node.js 相关函数">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Node.js 相关函数
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>require(moduleName)</code></strong>: Node.js模块加载函数，用于导入外部模块或库
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>moduleName</code> (string): 模块名称或路径字符串</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: 导入的模块对象或函数</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E4%BB%8E%E5%B7%A5%E5%85%B7%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%0Aconst%20%7B%20processMermaidInHTML%20%7D%20%3D%20require('.%2Fmermaid-utils')%3B%0A%2F%2F%20%E5%AF%BC%E5%85%A5Node.js%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%0Aconst%20fs%20%3D%20require('fs')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 从工具模块导入处理函数</span>
<span class="hljs-keyword inline">const</span> { processMermaidInHTML } = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;./mermaid-utils&#x27;</span>);

<span class="hljs-comment inline">// 导入Node.js核心模块</span>
<span class="hljs-keyword inline">const</span> fs = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;fs&#x27;</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>module.exports</code></strong>: Node.js模块导出对象，用于向外部提供模块功能
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>: 无（这是一个属性，不是函数）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: 无</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E5%AF%BC%E5%87%BA%E5%8D%95%E4%B8%AA%E6%8F%92%E4%BB%B6%E5%87%BD%E6%95%B0%0Amodule.exports%20%3D%20rmermaid%3B%0A%2F%2F%20%E5%AF%BC%E5%87%BA%E5%8C%85%E5%90%AB%E5%A4%9A%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%0Amodule.exports%20%3D%20%7B%20processMermaidInHTML%20%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 导出单个插件函数</span>
<span class="hljs-variable language_ inline">module</span>.<span class="hljs-property inline">exports</span> = rmermaid;

<span class="hljs-comment inline">// 导出包含多个函数的对象</span>
<span class="hljs-variable language_ inline">module</span>.<span class="hljs-property inline">exports</span> = { processMermaidInHTML };
</code></pre>
            </div>
        </li>
</ul></li>
</ul>
<h3 id="remarkable-插件api" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#remarkable-插件api" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Remarkable 插件API">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Remarkable 插件API
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>md.render(src, env)</code></strong>: Remarkable的核心渲染方法
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>src</code> (string): 输入的Markdown文本字符串</li>
<li class="text-foreground leading-relaxed"><code>env</code> (Object): 渲染环境对象（可选），包含渲染上下文信息</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (string) 渲染后的HTML字符串</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E6%B8%B2%E6%9F%93%E5%9F%BA%E6%9C%AC%E7%9A%84Markdown%E6%96%87%E6%9C%AC%0Aconst%20html%20%3D%20md.render('%23%20Hello%20World%5Cn%5CnThis%20is%20**bold**%20text.')%3B%0A%2F%2F%20%E6%B8%B2%E6%9F%93%E6%97%B6%E4%BC%A0%E9%80%92%E7%8E%AF%E5%A2%83%E5%AF%B9%E8%B1%A1%0Aconst%20htmlWithEnv%20%3D%20md.render('%23%20Title'%2C%20%7B%20customData%3A%20'value'%20%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 渲染基本的Markdown文本</span>
<span class="hljs-keyword inline">const</span> html = md.<span class="hljs-title function_ inline">render</span>(<span class="hljs-string inline">&#x27;# Hello World\n\nThis is **bold** text.&#x27;</span>);

<span class="hljs-comment inline">// 渲染时传递环境对象</span>
<span class="hljs-keyword inline">const</span> htmlWithEnv = md.<span class="hljs-title function_ inline">render</span>(<span class="hljs-string inline">&#x27;# Title&#x27;</span>, { <span class="hljs-attr inline">customData</span>: <span class="hljs-string inline">&#x27;value&#x27;</span> });
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>originalRender.call(this, src, env)</code></strong>: JavaScript函数调用方法
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>this</code> (Object): 调用上下文（这里是Remarkable实例）</li>
<li class="text-foreground leading-relaxed"><code>src</code> (string): 传递给原始render方法的Markdown文本</li>
<li class="text-foreground leading-relaxed"><code>env</code> (Object): 传递给原始render方法的环境对象</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (string) 原始渲染结果</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E4%BF%9D%E5%AD%98%E5%8E%9F%E5%A7%8B%E6%B8%B2%E6%9F%93%E6%96%B9%E6%B3%95%0Aconst%20originalRender%20%3D%20md.render%3B%0A%2F%2F%20%E9%87%8D%E5%86%99%E6%B8%B2%E6%9F%93%E6%96%B9%E6%B3%95%E4%BB%A5%E6%B7%BB%E5%8A%A0%E5%90%8E%E5%A4%84%E7%90%86%0Amd.render%20%3D%20function(src%2C%20env)%20%7B%0A%2F%2F%20%E8%B0%83%E7%94%A8%E5%8E%9F%E5%A7%8B%E6%B8%B2%E6%9F%93%E6%96%B9%E6%B3%95%0Aconst%20htmlContent%20%3D%20originalRender.call(this%2C%20src%2C%20env)%3B%0A%2F%2F%20%E5%AF%B9HTML%E8%BF%9B%E8%A1%8C%E5%90%8E%E5%A4%84%E7%90%86%0Areturn%20processHTML(htmlContent)%3B%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 保存原始渲染方法</span>
<span class="hljs-keyword inline">const</span> originalRender = md.<span class="hljs-property inline">render</span>;

<span class="hljs-comment inline">// 重写渲染方法以添加后处理</span>
md.<span class="hljs-property inline">render</span> = <span class="hljs-keyword inline">function</span>(<span class="hljs-params inline">src, env</span>) {
  <span class="hljs-comment inline">// 调用原始渲染方法</span>
  <span class="hljs-keyword inline">const</span> htmlContent = originalRender.<span class="hljs-title function_ inline">call</span>(<span class="hljs-variable language_ inline">this</span>, src, env);
  <span class="hljs-comment inline">// 对HTML进行后处理</span>
  <span class="hljs-keyword inline">return</span> <span class="hljs-title function_ inline">processHTML</span>(htmlContent);
};
</code></pre>
            </div>
        </li>
</ul></li>
</ul>
<h3 id="浏览器dom-api" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#浏览器dom-api" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 浏览器DOM API">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            浏览器DOM API
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>document.querySelectorAll(selector)</code></strong>: 根据CSS选择器查找所有匹配的DOM元素
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>selector</code> (string): CSS选择器字符串</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: NodeList对象，包含所有匹配的元素</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E6%9F%A5%E6%89%BE%E6%89%80%E6%9C%89class%E4%B8%BAmermaid%E7%9A%84%E5%85%83%E7%B4%A0%0Aconst%20mermaidDivs%20%3D%20document.querySelectorAll('.mermaid')%3B%0A%2F%2F%20%E6%9F%A5%E6%89%BE%E6%89%80%E6%9C%89pre%E6%A0%87%E7%AD%BE%E4%B8%8B%E7%9A%84code%E5%85%83%E7%B4%A0%0Aconst%20codeBlocks%20%3D%20document.querySelectorAll('pre%20code')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 查找所有class为mermaid的元素</span>
<span class="hljs-keyword inline">const</span> mermaidDivs = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">querySelectorAll</span>(<span class="hljs-string inline">&#x27;.mermaid&#x27;</span>);

<span class="hljs-comment inline">// 查找所有pre标签下的code元素</span>
<span class="hljs-keyword inline">const</span> codeBlocks = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">querySelectorAll</span>(<span class="hljs-string inline">&#x27;pre code&#x27;</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>document.createElement(tagName)</code></strong>: 创建指定标签名的新DOM元素
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>tagName</code> (string): HTML标签名字符串</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: 新创建的DOM元素对象</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84div%E5%85%83%E7%B4%A0%0Aconst%20div%20%3D%20document.createElement('div')%3B%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84span%E5%85%83%E7%B4%A0%0Aconst%20span%20%3D%20document.createElement('span')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 创建新的div元素</span>
<span class="hljs-keyword inline">const</span> div = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">createElement</span>(<span class="hljs-string inline">&#x27;div&#x27;</span>);

<span class="hljs-comment inline">// 创建新的span元素</span>
<span class="hljs-keyword inline">const</span> span = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">createElement</span>(<span class="hljs-string inline">&#x27;span&#x27;</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>document.body</code></strong>: 文档的body元素引用
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">类型</strong>: HTMLElement</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">说明</strong>: 获取文档的body元素</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E5%B0%86%E4%B8%B4%E6%97%B6%E5%AE%B9%E5%99%A8%E6%B7%BB%E5%8A%A0%E5%88%B0%E9%A1%B5%E9%9D%A2body%E4%B8%AD%0Adocument.body.appendChild(tempContainer)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 将临时容器添加到页面body中</span>
<span class="hljs-variable language_ inline">document</span>.<span class="hljs-property inline">body</span>.<span class="hljs-title function_ inline">appendChild</span>(tempContainer);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>element.appendChild(child)</code></strong>: 将子元素添加到父元素中
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>child</code> (Node): 要添加的子元素</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: 添加的子元素</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E8%8E%B7%E5%8F%96%E7%88%B6%E5%AE%B9%E5%99%A8%E5%85%83%E7%B4%A0%0Aconst%20parent%20%3D%20document.getElementById('container')%3B%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84%E5%AD%90%E5%85%83%E7%B4%A0%0Aconst%20child%20%3D%20document.createElement('div')%3B%0A%2F%2F%20%E5%B0%86%E5%AD%90%E5%85%83%E7%B4%A0%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%88%B6%E5%AE%B9%E5%99%A8%E4%B8%AD%0Aparent.appendChild(child)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 获取父容器元素</span>
<span class="hljs-keyword inline">const</span> parent = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">getElementById</span>(<span class="hljs-string inline">&#x27;container&#x27;</span>);

<span class="hljs-comment inline">// 创建新的子元素</span>
<span class="hljs-keyword inline">const</span> child = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">createElement</span>(<span class="hljs-string inline">&#x27;div&#x27;</span>);

<span class="hljs-comment inline">// 将子元素添加到父容器中</span>
parent.<span class="hljs-title function_ inline">appendChild</span>(child);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>element.removeChild(child)</code></strong>: 从父元素中移除子元素
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>child</code> (Node): 要移除的子元素</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: 被移除的子元素</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E8%8E%B7%E5%8F%96%E7%88%B6%E5%AE%B9%E5%99%A8%E5%85%83%E7%B4%A0%0Aconst%20parent%20%3D%20document.getElementById('container')%3B%0A%2F%2F%20%E8%8E%B7%E5%8F%96%E8%A6%81%E7%A7%BB%E9%99%A4%E7%9A%84%E5%AD%90%E5%85%83%E7%B4%A0%0Aconst%20child%20%3D%20document.getElementById('temp')%3B%0A%2F%2F%20%E4%BB%8E%E7%88%B6%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%A7%BB%E9%99%A4%E5%AD%90%E5%85%83%E7%B4%A0%0Aparent.removeChild(child)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 获取父容器元素</span>
<span class="hljs-keyword inline">const</span> parent = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">getElementById</span>(<span class="hljs-string inline">&#x27;container&#x27;</span>);

<span class="hljs-comment inline">// 获取要移除的子元素</span>
<span class="hljs-keyword inline">const</span> child = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">getElementById</span>(<span class="hljs-string inline">&#x27;temp&#x27;</span>);

<span class="hljs-comment inline">// 从父容器中移除子元素</span>
parent.<span class="hljs-title function_ inline">removeChild</span>(child);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>element.textContent</code></strong>: 获取或设置元素的文本内容
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">类型</strong>: string</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">说明</strong>: 获取元素的纯文本内容（不包含HTML标签）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E7%BA%AF%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%0Aconst%20text%20%3D%20div.textContent%3B%0A%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%0Adiv.textContent%20%3D%20'New%20text%20content'%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 获取元素的纯文本内容</span>
<span class="hljs-keyword inline">const</span> text = div.<span class="hljs-property inline">textContent</span>;

<span class="hljs-comment inline">// 设置元素的文本内容</span>
div.<span class="hljs-property inline">textContent</span> = <span class="hljs-string inline">&#x27;New text content&#x27;</span>;
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>element.innerText</code></strong>: 获取或设置元素的可见文本内容
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">类型</strong>: string</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">说明</strong>: 获取元素的可见文本内容（考虑CSS样式）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E5%8F%AF%E8%A7%81%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%0Aconst%20visibleText%20%3D%20div.innerText%3B%0A%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%85%83%E7%B4%A0%E7%9A%84%E5%8F%AF%E8%A7%81%E6%96%87%E6%9C%AC%0Adiv.innerText%20%3D%20'Visible%20text'%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 获取元素的可见文本内容</span>
<span class="hljs-keyword inline">const</span> visibleText = div.<span class="hljs-property inline">innerText</span>;

<span class="hljs-comment inline">// 设置元素的可见文本</span>
div.<span class="hljs-property inline">innerText</span> = <span class="hljs-string inline">&#x27;Visible text&#x27;</span>;
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>element.innerHTML</code></strong>: 获取或设置元素的HTML内容
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">类型</strong>: string</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">说明</strong>: 获取或设置元素的HTML内容</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20html%20%3D%20div.innerHTML%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96HTML%E5%86%85%E5%AE%B9%0Adiv.innerHTML%20%3D%20'New%20HTML'%3B%20%20%2F%2F%20%E8%AE%BE%E7%BD%AEHTML%E5%86%85%E5%AE%B9">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> html = div.<span class="hljs-property inline">innerHTML</span>;               <span class="hljs-comment inline">// 获取HTML内容</span>
div.<span class="hljs-property inline">innerHTML</span> = <span class="hljs-string inline">&#x27;&lt;span&gt;New HTML&lt;/span&gt;&#x27;</span>;  <span class="hljs-comment inline">// 设置HTML内容</span>
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>element.offsetParent</code></strong>: 获取元素的定位父元素
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">类型</strong>: Element | null</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">说明</strong>: 获取元素的定位父元素，如果元素不可见则返回null</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20isVisible%20%3D%20div.offsetParent%20!%3D%3D%20null%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> isVisible = div.<span class="hljs-property inline">offsetParent</span> !== <span class="hljs-literal inline">null</span>;
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>element.style</code></strong>: 元素的样式对象，用于设置CSS样式
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">类型</strong>: CSSStyleDeclaration</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">说明</strong>: 获取元素的样式对象，可以设置CSS属性</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="div.style.display%20%3D%20'block'%3B%0Adiv.style.width%20%3D%20'100%25'%3B%0Adiv.style.backgroundColor%20%3D%20'red'%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">div.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">display</span> = <span class="hljs-string inline">&#x27;block&#x27;</span>;
div.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">width</span> = <span class="hljs-string inline">&#x27;100%&#x27;</span>;
div.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">backgroundColor</span> = <span class="hljs-string inline">&#x27;red&#x27;</span>;
</code></pre>
            </div>
        </li>
</ul></li>
</ul>
<h3 id="javascript-内置对象和方法" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#javascript-内置对象和方法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to JavaScript 内置对象和方法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            JavaScript 内置对象和方法
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>Date.now()</code></strong>: 返回当前时间戳（毫秒）
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>: 无</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (number) 当前时间戳（毫秒）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E6%88%B3%0Aconst%20timestamp%20%3D%20Date.now()%3B%0A%2F%2F%20%E7%94%9F%E6%88%90%E5%B8%A6%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E5%94%AF%E4%B8%80ID%0Aconst%20uniqueId%20%3D%20'mermaid-'%20%2B%20Date.now()%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 获取当前时间戳</span>
<span class="hljs-keyword inline">const</span> timestamp = <span class="hljs-title class_ inline">Date</span>.<span class="hljs-title function_ inline">now</span>();

<span class="hljs-comment inline">// 生成带时间戳的唯一ID</span>
<span class="hljs-keyword inline">const</span> uniqueId = <span class="hljs-string inline">&#x27;mermaid-&#x27;</span> + <span class="hljs-title class_ inline">Date</span>.<span class="hljs-title function_ inline">now</span>();
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>Math.random()</code></strong>: 生成0到1之间的随机数
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>: 无</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (number) 0到1之间的随机数（不包含1）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20randomValue%20%3D%20Math.random()%3B%0Aconst%20randomId%20%3D%20Math.random().toString(36).substring(2%2C%209)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> randomValue = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>();
<span class="hljs-keyword inline">const</span> randomId = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>().<span class="hljs-title function_ inline">toString</span>(<span class="hljs-number inline">36</span>).<span class="hljs-title function_ inline">substring</span>(<span class="hljs-number inline">2</span>, <span class="hljs-number inline">9</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>parseInt(value, radix)</code></strong>: 将字符串转换为整数
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>value</code> (string): 要转换的字符串</li>
<li class="text-foreground leading-relaxed"><code>radix</code> (number): 进制基数，2-36之间（可选）</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (number) 转换后的整数，失败时返回NaN</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20num%20%3D%20parseInt('123'%2C%2010)%3B%20%20%20%20%20%20%20%20%2F%2F%20%E5%8D%81%E8%BF%9B%E5%88%B6%EF%BC%9A123%0Aconst%20hex%20%3D%20parseInt('FF'%2C%2016)%3B%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%EF%BC%9A255">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> num = <span class="hljs-built_in inline">parseInt</span>(<span class="hljs-string inline">&#x27;123&#x27;</span>, <span class="hljs-number inline">10</span>);        <span class="hljs-comment inline">// 十进制：123</span>
<span class="hljs-keyword inline">const</span> hex = <span class="hljs-built_in inline">parseInt</span>(<span class="hljs-string inline">&#x27;FF&#x27;</span>, <span class="hljs-number inline">16</span>);         <span class="hljs-comment inline">// 十六进制：255</span>
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>JSON.stringify(obj)</code></strong>: 将JavaScript对象转换为JSON字符串
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>obj</code> (any): 要转换的JavaScript值</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (string) JSON字符串</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20config%20%3D%20%7B%20theme%3A%20'dark'%2C%20fontSize%3A%2016%20%7D%3B%0Aconst%20jsonString%20%3D%20JSON.stringify(config)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> config = { <span class="hljs-attr inline">theme</span>: <span class="hljs-string inline">&#x27;dark&#x27;</span>, <span class="hljs-attr inline">fontSize</span>: <span class="hljs-number inline">16</span> };
<span class="hljs-keyword inline">const</span> jsonString = <span class="hljs-title class_ inline">JSON</span>.<span class="hljs-title function_ inline">stringify</span>(config);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>setInterval(callback, interval)</code></strong>: 设置定时器，每隔指定时间执行回调函数
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>callback</code> (function): 要执行的回调函数</li>
<li class="text-foreground leading-relaxed"><code>interval</code> (number): 时间间隔（毫秒）</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (number) 定时器ID，用于清除定时器</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20timerId%20%3D%20setInterval(function()%20%7B%0Aconsole.log('%E6%AF%8F%E7%A7%92%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1')%3B%0A%7D%2C%201000)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> timerId = <span class="hljs-built_in inline">setInterval</span>(<span class="hljs-keyword inline">function</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;每秒执行一次&#x27;</span>);
}, <span class="hljs-number inline">1000</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>clearInterval(intervalId)</code></strong>: 清除定时器
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>intervalId</code> (number): 定时器ID</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: 无</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="clearInterval(timerId)%3B%20%2F%2F%20%E6%B8%85%E9%99%A4%E5%AE%9A%E6%97%B6%E5%99%A8">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-built_in inline">clearInterval</span>(timerId); <span class="hljs-comment inline">// 清除定时器</span>
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>setTimeout(callback, delay)</code></strong>: 设置延时执行
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>callback</code> (function): 要执行的回调函数</li>
<li class="text-foreground leading-relaxed"><code>delay</code> (number): 延迟时间（毫秒）</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (number) 定时器ID</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20timeoutId%20%3D%20setTimeout(function()%20%7B%0Aconsole.log('3%E7%A7%92%E5%90%8E%E6%89%A7%E8%A1%8C')%3B%0A%7D%2C%203000)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> timeoutId = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-keyword inline">function</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;3秒后执行&#x27;</span>);
}, <span class="hljs-number inline">3000</span>);
</code></pre>
            </div>
        </li>
</ul></li>
</ul>
<h3 id="正则表达式" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#正则表达式" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 正则表达式">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            正则表达式
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.replace(regex, replacement)</code></strong>: 使用正则表达式替换字符串内容
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>regex</code> (RegExp): 正则表达式对象</li>
<li class="text-foreground leading-relaxed"><code>replacement</code> (string | function): 替换字符串或替换函数</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (string) 替换后的新字符串</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20html%20%3D%20'graph'%3B%0Aconst%20clean%20%3D%20html.replace(%2F%5D*%3E(.*%3F)%2Fgi%2C%20'%241')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> html = <span class="hljs-string inline">&#x27;&lt;span class=&quot;hljs-keyword&quot;&gt;graph&lt;/span&gt;&#x27;</span>;
<span class="hljs-keyword inline">const</span> clean = html.<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&lt;span[^&gt;]*&gt;(.*?)&lt;\/span&gt;/gi</span>, <span class="hljs-string inline">&#x27;$1&#x27;</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.match(regex)</code></strong>: 使用正则表达式匹配字符串
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>regex</code> (RegExp): 正则表达式对象</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (Array | null) 匹配结果数组，无匹配时返回null</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20matches%20%3D%20topic.match(%2F%2Fg)%3B%0Aconst%20count%20%3D%20matches%20%3F%20matches.length%20%3A%200%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> matches = topic.<span class="hljs-title function_ inline">match</span>(<span class="hljs-regexp inline">/&lt;span class=&quot;katex&quot;&gt;/g</span>);
<span class="hljs-keyword inline">const</span> count = matches ? matches.<span class="hljs-property inline">length</span> : <span class="hljs-number inline">0</span>;
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.includes(substring)</code></strong>: 检查字符串是否包含子字符串
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>substring</code> (string): 要搜索的子字符串</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (boolean) 是否包含指定子字符串</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20hasSvg%20%3D%20content.includes(')%3B%0Aconst%20isGraph%20%3D%20content.includes('graph')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> hasSvg = content.<span class="hljs-title function_ inline">includes</span>(<span class="hljs-string inline">&#x27;&lt;svg&#x27;</span>);
<span class="hljs-keyword inline">const</span> isGraph = content.<span class="hljs-title function_ inline">includes</span>(<span class="hljs-string inline">&#x27;graph&#x27;</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.toLowerCase()</code></strong>: 将字符串转换为小写
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>: 无</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (string) 转换为小写的新字符串</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20lowerType%20%3D%20type.toLowerCase()%3B%0Aconst%20comparison%20%3D%20content.toLowerCase().includes('flowchart')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> lowerType = type.<span class="hljs-title function_ inline">toLowerCase</span>();
<span class="hljs-keyword inline">const</span> comparison = content.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">includes</span>(<span class="hljs-string inline">&#x27;flowchart&#x27;</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.substring(start, end)</code></strong>: 提取字符串的子串
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>start</code> (number): 起始位置索引</li>
<li class="text-foreground leading-relaxed"><code>end</code> (number): 结束位置索引（可选，不包含该位置）</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (string) 提取的子字符串</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20preview%20%3D%20content.substring(0%2C%2050)%3B%0Aconst%20randomStr%20%3D%20Math.random().toString(36).substring(2%2C%209)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> preview = content.<span class="hljs-title function_ inline">substring</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">50</span>);
<span class="hljs-keyword inline">const</span> randomStr = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">random</span>().<span class="hljs-title function_ inline">toString</span>(<span class="hljs-number inline">36</span>).<span class="hljs-title function_ inline">substring</span>(<span class="hljs-number inline">2</span>, <span class="hljs-number inline">9</span>);
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.trim()</code></strong>: 去除字符串首尾空白字符
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>: 无</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (string) 去除首尾空白后的新字符串</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20cleanContent%20%3D%20mermaidContent.trim()%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> cleanContent = mermaidContent.<span class="hljs-title function_ inline">trim</span>();
</code></pre>
            </div>
        </li>
</ul></li>
</ul>
<h3 id="mermaid-库函数" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#mermaid-库函数" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Mermaid 库函数">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Mermaid 库函数
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>mermaid.initialize(config)</code></strong>: 初始化Mermaid库配置
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>config</code> (Object): 配置对象，包含以下可选属性：
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>theme</code> (string): 主题名称，如’default’、’dark’、’forest’等</li>
<li class="text-foreground leading-relaxed"><code>startOnLoad</code> (boolean): 是否在页面加载时自动开始渲染</li>
<li class="text-foreground leading-relaxed"><code>securityLevel</code> (string): 安全级别，’strict’、’loose’、’sandbox’</li>
<li class="text-foreground leading-relaxed"><code>fontFamily</code> (string): 字体族名称</li>
<li class="text-foreground leading-relaxed"><code>fontSize</code> (number): 字体大小</li>
<li class="text-foreground leading-relaxed"><code>flowchart</code> (Object): 流程图特定配置</li>
<li class="text-foreground leading-relaxed"><code>sequence</code> (Object): 序列图特定配置</li>
</ul></li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: 无</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96Mermaid%E5%BA%93%E9%85%8D%E7%BD%AE%0Amermaid.initialize(%7B%0Atheme%3A%20'dark'%2C%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E4%BD%BF%E7%94%A8%E6%9A%97%E8%89%B2%E4%B8%BB%E9%A2%98%0AstartOnLoad%3A%20false%2C%20%20%20%20%20%2F%2F%20%E4%B8%8D%E8%87%AA%E5%8A%A8%E5%BC%80%E5%A7%8B%E6%B8%B2%E6%9F%93%0AsecurityLevel%3A%20'loose'%2C%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%AB%E4%B8%BA%E5%AE%BD%E6%9D%BE%0AfontFamily%3A%20'arial'%2C%20%20%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%AD%97%E4%BD%93%E4%B8%BAArial%0AfontSize%3A%2016%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F%E4%B8%BA16px%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 初始化Mermaid库配置</span>
mermaid.<span class="hljs-title function_ inline">initialize</span>({
  <span class="hljs-attr inline">theme</span>: <span class="hljs-string inline">&#x27;dark&#x27;</span>,          <span class="hljs-comment inline">// 使用暗色主题</span>
  <span class="hljs-attr inline">startOnLoad</span>: <span class="hljs-literal inline">false</span>,     <span class="hljs-comment inline">// 不自动开始渲染</span>
  <span class="hljs-attr inline">securityLevel</span>: <span class="hljs-string inline">&#x27;loose&#x27;</span>, <span class="hljs-comment inline">// 设置安全级别为宽松</span>
  <span class="hljs-attr inline">fontFamily</span>: <span class="hljs-string inline">&#x27;arial&#x27;</span>,    <span class="hljs-comment inline">// 设置字体为Arial</span>
  <span class="hljs-attr inline">fontSize</span>: <span class="hljs-number inline">16</span>            <span class="hljs-comment inline">// 设置字体大小为16px</span>
});
</code></pre>
            </div>
        </li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>mermaid.render(id, definition, element)</code></strong>: 渲染Mermaid图表
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>id</code> (string): 图表的唯一标识符</li>
<li class="text-foreground leading-relaxed"><code>definition</code> (string): Mermaid图表定义代码</li>
<li class="text-foreground leading-relaxed"><code>element</code> (Element): 用于渲染的DOM元素（可选）</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: Promise<Object> 解析为包含SVG的结果对象
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>svg</code> (string): 渲染后的SVG字符串</li>
<li class="text-foreground leading-relaxed"><code>bindFunctions</code> (function): 绑定交互函数（可选）</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E6%B8%B2%E6%9F%93%E7%AE%80%E5%8D%95%E7%9A%84%E6%B5%81%E7%A8%8B%E5%9B%BE%0Aconst%20result%20%3D%20await%20mermaid.render('graph-1'%2C%20'graph%20TD%3B%20A--%3EB')%3B%0Aconst%20svgString%20%3D%20result.svg%3B%20%20%2F%2F%20%E8%8E%B7%E5%8F%96SVG%E5%AD%97%E7%AC%A6%E4%B8%B2%0A%2F%2F%20%E5%9C%A8%E4%B8%B4%E6%97%B6%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%B8%B2%E6%9F%93%0Aconst%20tempDiv%20%3D%20document.createElement('div')%3B%0Aconst%20result2%20%3D%20await%20mermaid.render('graph-2'%2C%20'flowchart%20LR%3B%20C--%3ED'%2C%20tempDiv)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 渲染简单的流程图</span>
<span class="hljs-keyword inline">const</span> result = <span class="hljs-keyword inline">await</span> mermaid.<span class="hljs-title function_ inline">render</span>(<span class="hljs-string inline">&#x27;graph-1&#x27;</span>, <span class="hljs-string inline">&#x27;graph TD; A--&gt;B&#x27;</span>);
<span class="hljs-keyword inline">const</span> svgString = result.<span class="hljs-property inline">svg</span>;  <span class="hljs-comment inline">// 获取SVG字符串</span>

<span class="hljs-comment inline">// 在临时容器中渲染</span>
<span class="hljs-keyword inline">const</span> tempDiv = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">createElement</span>(<span class="hljs-string inline">&#x27;div&#x27;</span>);
<span class="hljs-keyword inline">const</span> result2 = <span class="hljs-keyword inline">await</span> mermaid.<span class="hljs-title function_ inline">render</span>(<span class="hljs-string inline">&#x27;graph-2&#x27;</span>, <span class="hljs-string inline">&#x27;flowchart LR; C--&gt;D&#x27;</span>, tempDiv);
</code></pre>
            </div>
        </li>
</ul></li>
</ul>
<h3 id="数组方法" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#数组方法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 数组方法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            数组方法
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>array.some(callback)</code></strong>: 检查数组中是否至少有一个元素满足条件
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">形参</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>callback</code> (function): 测试函数，接收三个参数：
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>element</code> (any): 当前元素</li>
<li class="text-foreground leading-relaxed"><code>index</code> (number): 当前索引（可选）</li>
<li class="text-foreground leading-relaxed"><code>array</code> (Array): 原数组（可选）</li>
</ul></li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>: (boolean) 是否存在满足条件的元素</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">使用示例</strong>:

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E5%AE%9A%E4%B9%89%E6%9C%89%E6%95%88%E7%9A%84Mermaid%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B%0Aconst%20validMermaidTypes%20%3D%20%5B'graph'%2C%20'flowchart'%2C%20'sequence'%5D%3B%0A%2F%2F%20%E6%A3%80%E6%9F%A5%E5%86%85%E5%AE%B9%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E6%9C%89%E6%95%88%E7%9A%84%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B%0Aconst%20isValid%20%3D%20validMermaidTypes.some(function(type)%20%7B%0Areturn%20content.toLowerCase().includes(type.toLowerCase())%3B%0A%7D)%3B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E7%9A%84%E7%AE%80%E5%8C%96%E5%86%99%E6%B3%95%0Aconst%20hasGraph%20%3D%20types.some(type%20%3D%3E%20type%20%3D%3D%3D%20'graph')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 定义有效的Mermaid图表类型</span>
<span class="hljs-keyword inline">const</span> validMermaidTypes = [<span class="hljs-string inline">&#x27;graph&#x27;</span>, <span class="hljs-string inline">&#x27;flowchart&#x27;</span>, <span class="hljs-string inline">&#x27;sequence&#x27;</span>];

<span class="hljs-comment inline">// 检查内容是否包含任何有效的图表类型</span>
<span class="hljs-keyword inline">const</span> isValid = validMermaidTypes.<span class="hljs-title function_ inline">some</span>(<span class="hljs-keyword inline">function</span>(<span class="hljs-params inline">type</span>) {
  <span class="hljs-keyword inline">return</span> content.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">includes</span>(type.<span class="hljs-title function_ inline">toLowerCase</span>());
});

<span class="hljs-comment inline">// 使用箭头函数的简化写法</span>
<span class="hljs-keyword inline">const</span> hasGraph = types.<span class="hljs-title function_ inline">some</span>(<span class="hljs-function inline"><span class="hljs-params inline">type</span> =&gt;</span> type === <span class="hljs-string inline">&#x27;graph&#x27;</span>);
</code></pre>
            </div>
        </li>
</ul></li>
</ul>
<hr class="border-0 h-px bg-gray-300 my-8">
<h2 id="indexjs-代码逐行解析" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#indexjs-代码逐行解析" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to index.js 代码逐行解析">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            index.js 代码逐行解析
        </h2>
<h3 id="文件开头和模块声明" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#文件开头和模块声明" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 文件开头和模块声明">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            文件开头和模块声明
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%22use%20strict%22%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-meta inline">&quot;use strict&quot;</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第1行</strong>: 使用严格模式，确保代码在严格的 JavaScript 环境中运行，有助于捕获常见的编程错误和提高代码质量。</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F**%0A*%20Plugin%20for%20Remarkable%20Markdown%20processor%20which%20transforms%20mermaid%20code%20blocks%20into%20Mermaid%20diagrams.%0A*%20Works%20as%20a%20post-processor%20on%20HTML%20content%20when%20html%3A%20true%20is%20enabled.%0A*%2F">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">/**
 * Plugin for Remarkable Markdown processor which transforms mermaid code blocks into Mermaid diagrams.
 * Works as a post-processor on HTML content when html: true is enabled.
 */</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第3-6行</strong>: JSDoc 注释，描述了这个插件的作用和工作原理：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">为 Remarkable Markdown 处理器提供插件功能</li>
<li class="text-foreground leading-relaxed">将 mermaid 代码块转换为 Mermaid 图表</li>
<li class="text-foreground leading-relaxed">作为后处理器工作，在 HTML 内容上进行二次处理</li>
</ul>
<h3 id="主函数定义" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#主函数定义" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 主函数定义">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            主函数定义
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20rmermaid%20%3D%20(md%2C%20options)%20%3D%3E%20%7B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">rmermaid</span> = (<span class="hljs-params inline">md, options</span>) =&gt; {
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第7行</strong>: 定义主函数 <code>rmermaid</code>，这是插件的入口点，接受两个参数：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>md</code>: Remarkable 实例对象，提供 Markdown 处理功能</li>
<li class="text-foreground leading-relaxed"><code>options</code>: 配置选项对象，包含插件的各种设置参数</li>
</ul>
<h3 id="工具函数导入" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#工具函数导入" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 工具函数导入">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            工具函数导入
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Import%20HTML%20processing%20utilities%0Aconst%20%7B%20processMermaidInHTML%20%7D%20%3D%20require('.%2Fmermaid-utils')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">  <span class="hljs-comment inline">// Import HTML processing utilities</span>
  <span class="hljs-keyword inline">const</span> { processMermaidInHTML } = <span class="hljs-built_in inline">require</span>(<span class="hljs-string inline">&#x27;./mermaid-utils&#x27;</span>);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第8-9行</strong>: 导入 HTML 处理工具函数：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>require('./mermaid-utils')</code></strong>: Node.js模块加载函数，使用相对路径导入同目录下的mermaid-utils.js文件</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">解构赋值</strong>: 从mermaid-utils模块中提取processMermaidInHTML函数</li>
<li class="text-foreground leading-relaxed"><code>processMermaidInHTML</code>: 核心处理函数，负责在HTML内容中查找和转换mermaid代码块</li>
</ul>
<h3 id="渲染方法重写" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#渲染方法重写" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 渲染方法重写">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            渲染方法重写
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Override%20the%20render%20method%20to%20post-process%20HTML%20content%0Aconst%20originalRender%20%3D%20md.render%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">  <span class="hljs-comment inline">// Override the render method to post-process HTML content</span>
  <span class="hljs-keyword inline">const</span> originalRender = md.<span class="hljs-property inline">render</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第11-12行</strong>: 保存原始的渲染方法：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>md.render</code></strong>: Remarkable实例的核心渲染方法，将Markdown文本转换为HTML</li>
<li class="text-foreground leading-relaxed"><code>originalRender</code>: 保存原始渲染方法的引用，以便在后续的自定义渲染中调用</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="md.render%20%3D%20function(src%2C%20env)%20%7B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">  md.<span class="hljs-property inline">render</span> = <span class="hljs-keyword inline">function</span>(<span class="hljs-params inline">src, env</span>) {
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第13行</strong>: 重写Remarkable实例的render方法，使用函数表达式而非箭头函数以确保正确的this上下文：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>src</code>: 输入的Markdown源文本字符串</li>
<li class="text-foreground leading-relaxed"><code>env</code>: 渲染环境对象（可选），包含渲染上下文信息</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20First%2C%20let%20Remarkable%20do%20its%20normal%20rendering%0Alet%20htmlContent%20%3D%20originalRender.call(this%2C%20src%2C%20env)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// First, let Remarkable do its normal rendering</span>
    <span class="hljs-keyword inline">let</span> htmlContent = originalRender.<span class="hljs-title function_ inline">call</span>(<span class="hljs-variable language_ inline">this</span>, src, env);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第14-15行</strong>: 执行原始的Markdown渲染：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>originalRender.call(this, src, env)</code></strong>: JavaScript函数调用方法，确保原始渲染方法在正确的上下文中执行
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>this</code>: 当前的Remarkable实例对象</li>
<li class="text-foreground leading-relaxed"><code>src, env</code>: 传递给原始渲染方法的参数</li>
</ul></li>
<li class="text-foreground leading-relaxed"><code>htmlContent</code>: 存储Remarkable标准渲染流程产生的HTML内容</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Then%2C%20post-process%20the%20HTML%20to%20transform%20mermaid%20code%20blocks%0AhtmlContent%20%3D%20processMermaidInHTML(htmlContent%2C%20options)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// Then, post-process the HTML to transform mermaid code blocks</span>
    htmlContent = <span class="hljs-title function_ inline">processMermaidInHTML</span>(htmlContent, options);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第17-18行</strong>: 对HTML内容进行后处理：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>processMermaidInHTML(htmlContent, options)</code></strong>: 调用工具函数处理HTML内容
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>htmlContent</code>: 经过Remarkable标准渲染的HTML字符串</li>
<li class="text-foreground leading-relaxed"><code>options</code>: 插件配置选项，传递给处理函数</li>
</ul></li>
<li class="text-foreground leading-relaxed">返回值: 经过mermaid处理的HTML内容，其中mermaid代码块被转换为可渲染的图表容器</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="return%20htmlContent%3B%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-keyword inline">return</span> htmlContent;
  };
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第20-21行</strong>: 返回处理后的HTML内容并结束函数定义。</p>
<h3 id="模块导出" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#模块导出" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 模块导出">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            模块导出
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%7D%3B%0Amodule.exports%20%3D%20rmermaid%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">};

<span class="hljs-variable language_ inline">module</span>.<span class="hljs-property inline">exports</span> = rmermaid;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第22-24行</strong>: 结束主函数定义并导出模块：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>};</code>: 结束rmermaid函数定义</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>module.exports</code></strong>: Node.js模块导出机制，使rmermaid函数可被其他模块通过require()导入使用</li>
</ul>
<hr class="border-0 h-px bg-gray-300 my-8">
<h2 id="mermaid-utilsjs-代码逐行解析" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#mermaid-utilsjs-代码逐行解析" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to mermaid-utils.js 代码逐行解析">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            mermaid-utils.js 代码逐行解析
        </h2>
<h3 id="文件头部注释" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#文件头部注释" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 文件头部注释">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            文件头部注释
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F**%0A*%20Utility%20functions%20for%20processing%20Mermaid%20diagrams%20in%20Remarkable%0A*%2F">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">/**
 * Utility functions for processing Mermaid diagrams in Remarkable
 */</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第1-3行</strong>: 文件说明注释，描述了这个工具文件的用途。</p>
<h3 id="wrapwithdiv-函数" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#wrapwithdiv-函数" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to wrapWithDiv 函数">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            wrapWithDiv 函数
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F**%0A*%20Wrap%20Mermaid%20mermaidCode%20code%20with%20a%20div%20element%0A*%20%40param%20%7Bstring%7D%20mermaidCode%20-%20The%20Mermaid%20mermaidCode%20code%0A*%20%40returns%20%7Bstring%7D%20-%20HTML%20div%20for%20client-side%20rendering%0A*%2F%0Afunction%20wrapWithDiv(mermaidCode)%20%7B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">/**
 * Wrap Mermaid mermaidCode code with a div element
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">mermaidCode</span> - The Mermaid mermaidCode code
 * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">string</span>} - HTML div for client-side rendering
 */</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">wrapWithDiv</span>(<span class="hljs-params inline">mermaidCode</span>) {
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第5-10行</strong>: 定义包装函数的JSDoc注释和函数声明：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">函数作用：将Mermaid代码包装在div元素中</li>
<li class="text-foreground leading-relaxed">参数：mermaidCode - Mermaid图表定义代码字符串</li>
<li class="text-foreground leading-relaxed">返回值：用于客户端渲染的HTML div字符串</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="if%20(typeof%20mermaidCode%20!%3D%3D%20'string')%20%7B%0Areturn%20'Invalid%20Mermaid%20Code'%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-keyword inline">if</span> (<span class="hljs-keyword inline">typeof</span> mermaidCode !== <span class="hljs-string inline">&#x27;string&#x27;</span>) {
        <span class="hljs-keyword inline">return</span> <span class="hljs-string inline">&#x27;&lt;div class=&quot;mermaid-error&quot;&gt;Invalid Mermaid Code&lt;/div&gt;&#x27;</span>;
    }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第11-13行</strong>: 输入验证：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>typeof mermaidCode</code></strong>: JavaScript操作符，检查变量的数据类型</li>
<li class="text-foreground leading-relaxed">如果输入不是字符串类型，返回错误提示的HTML div元素</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Generate%20a%20unique%20ID%20for%20this%20diagram%0Aconst%20diagramId%20%3D%20%60mermaid-%24%7BDate.now()%7D-%24%7BMath.random().toString(36).substring(2%2C%209)%7D%60%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// Generate a unique ID for this diagram</span>
    <span class="hljs-keyword inline">const</span> diagramId = <span class="hljs-string inline">`mermaid-<span class="hljs-subst inline">${<span class="hljs-built_in inline">Date</span>.now()}</span>-<span class="hljs-subst inline">${<span class="hljs-built_in inline">Math</span>.random().toString(<span class="hljs-number inline">36</span>).substring(<span class="hljs-number inline">2</span>, <span class="hljs-number inline">9</span>)}</span>`</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第15-16行</strong>: 生成唯一的图表ID：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>Date.now()</code></strong>: JavaScript内置方法，返回当前时间戳（毫秒）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>Math.random()</code></strong>: 生成0到1之间的随机数</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>.toString(36)</code></strong>: 将数字转换为36进制字符串（包含0-9和a-z）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>.substring(2, 9)</code></strong>: 提取字符串的第2到第9个字符（跳过&quot;0.&quot;前缀）</li>
<li class="text-foreground leading-relaxed">组合生成类似&quot;mermaid-1703123456789-abc123&quot;的唯一ID</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="return%20%60%24%7BdiagramId%7D%22%3E%24%7BmermaidCode%7D%60%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-keyword inline">return</span> <span class="hljs-string inline">`&lt;div class=&quot;mermaid&quot; id=&quot;<span class="hljs-subst inline">${diagramId}</span>&quot;&gt;<span class="hljs-subst inline">${mermaidCode}</span>&lt;/div&gt;`</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第18行</strong>: 返回包装后的HTML：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">使用模板字符串创建div元素</li>
<li class="text-foreground leading-relaxed"><code>class=&quot;mermaid&quot;</code>: CSS类名，用于Mermaid库识别和渲染</li>
<li class="text-foreground leading-relaxed"><code>id=&quot;${diagramId}&quot;</code>: 唯一标识符，用于避免多个图表之间的冲突</li>
<li class="text-foreground leading-relaxed"><code>${mermaidCode}</code>: 嵌入原始的Mermaid代码</li>
</ul>
<h3 id="applymermaidstyling-函数" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#applymermaidstyling-函数" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to applyMermaidStyling 函数">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            applyMermaidStyling 函数
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F**%0A*%20Apply%20custom%20styling%20to%20Mermaid%20containers%0A*%20%40param%20%7Bstring%7D%20htmlContent%20-%20The%20HTML%20content%20to%20process%0A*%20%40param%20%7BObject%7D%20config%20-%20Configuration%20object%0A*%20%40returns%20%7Bstring%7D%20-%20Processed%20HTML%20content%0A*%2F%0Afunction%20applyMermaidStyling(htmlContent%2C%20config%20%3D%20%7B%7D)%20%7B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">/**
 * Apply custom styling to Mermaid containers
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">htmlContent</span> - The HTML content to process
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">Object</span>} <span class="hljs-variable inline">config</span> - Configuration object
 * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">string</span>} - Processed HTML content
 */</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">applyMermaidStyling</span>(<span class="hljs-params inline">htmlContent, config = {}</span>) {
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第21-27行</strong>: 定义样式应用函数：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">参数：htmlContent - 要处理的HTML内容字符串</li>
<li class="text-foreground leading-relaxed">参数：config - 配置对象，使用默认参数语法设置默认值为空对象</li>
<li class="text-foreground leading-relaxed">返回值：处理后的HTML内容</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="if%20(!htmlContent%20%7C%7C%20typeof%20htmlContent%20!%3D%3D%20'string')%20%7B%0Areturn%20htmlContent%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-keyword inline">if</span> (!htmlContent || <span class="hljs-keyword inline">typeof</span> htmlContent !== <span class="hljs-string inline">&#x27;string&#x27;</span>) {
        <span class="hljs-keyword inline">return</span> htmlContent;
    }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第28-30行</strong>: 输入验证，确保htmlContent是有效的字符串。</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="let%20processedContent%20%3D%20htmlContent%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-keyword inline">let</span> processedContent = htmlContent;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第32行</strong>: 创建处理内容的副本，避免直接修改原始输入。</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Add%20custom%20CSS%20classes%20if%20specified%0Aif%20(config.customClass)%20%7B%0AprocessedContent%20%3D%20processedContent.replace(%0A%2Fclass%3D%22mermaid%22%2Fg%2C%0A%60class%3D%22mermaid%20%24%7Bconfig.customClass%7D%22%60%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// Add custom CSS classes if specified</span>
    <span class="hljs-keyword inline">if</span> (config.<span class="hljs-property inline">customClass</span>) {
        processedContent = processedContent.<span class="hljs-title function_ inline">replace</span>(
            <span class="hljs-regexp inline">/class=&quot;mermaid&quot;/g</span>,
            <span class="hljs-string inline">`class=&quot;mermaid <span class="hljs-subst inline">${config.customClass}</span>&quot;`</span>
        );
    }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第34-39行</strong>: 添加自定义CSS类：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">检查配置中是否指定了自定义类名</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.replace(regex, replacement)</code></strong>: 使用正则表达式替换字符串内容</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>/class=&quot;mermaid&quot;/g</code></strong>: 全局正则表达式，匹配所有<code>class=&quot;mermaid&quot;</code>的出现</li>
<li class="text-foreground leading-relaxed"><code>g</code>标志: 全局替换，替换所有匹配项而不是只替换第一个</li>
<li class="text-foreground leading-relaxed">在原有类名基础上添加自定义类名</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="return%20processedContent%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-keyword inline">return</span> processedContent;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第41行</strong>: 返回处理后的内容。</p>
<h3 id="addrenderingscript-函数" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#addrenderingscript-函数" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to addRenderingScript 函数">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            addRenderingScript 函数
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="function%20addRenderingScript(htmlContent%2C%20config)%20%7B%0Areturn%20htmlContent%20%2B%20%60">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">addRenderingScript</span>(<span class="hljs-params inline">htmlContent, config</span>) {
    <span class="hljs-keyword inline">return</span> htmlContent + <span class="hljs-string inline">`
&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.3/mermaid.min.js&quot; integrity=&quot;sha512-HvxxeyPSnbU7/x0g15v3OMxTFeADyCUnCN3iCam3BDTxgFPKxa+ujRCbFuwjE8PASDwOH5LpzFfGGNWks7tuJQ==&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/script&gt;
</span></code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第44-46行</strong>: 定义脚本添加函数并开始添加Mermaid库：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">从CDN加载Mermaid 10.9.3版本</li>
<li class="text-foreground leading-relaxed"><code>integrity</code>: SRI（子资源完整性）属性，确保脚本未被篡改</li>
<li class="text-foreground leading-relaxed"><code>crossorigin=&quot;anonymous&quot;</code>: 跨域设置，以匿名方式加载资源</li>
<li class="text-foreground leading-relaxed"><code>referrerpolicy=&quot;no-referrer&quot;</code>: 不发送referrer信息，提高隐私性</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="(function()%20%7B%0Aconst%20initializeMermaid%20%3D%20async%20function()%20%7B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    &lt;script&gt;
(<span class="hljs-keyword inline">function</span>(<span class="hljs-params inline"></span>) {
        <span class="hljs-keyword inline">const</span> initializeMermaid = <span class="hljs-keyword inline">async</span> <span class="hljs-keyword inline">function</span>(<span class="hljs-params inline"></span>) {
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第47-49行</strong>: 开始内联脚本，使用立即执行函数表达式（IIFE）和异步函数：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">立即执行函数表达式</strong>: 避免全局变量污染</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">async function</strong>: 使用异步函数以支持await语法</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="try%20%7B%0A%2F%2F%20Configure%20mermaid%20with%20provided%20config%0Amermaid.initialize(%7B%0AstartOnLoad%3A%20%24%7Bconfig.startOnLoad%20%7C%7C%20false%7D%2C%0Atheme%3A%20'%24%7Bconfig.theme%7D'%2C%0AsecurityLevel%3A%20'%24%7Bconfig.securityLevel%7D'%2C%0AfontFamily%3A%20'%24%7Bconfig.fontFamily%7D'%2C%0AfontSize%3A%20%24%7Bconfig.fontSize%7D%2C%0Aflowchart%3A%20%24%7BJSON.stringify(config.flowchart)%7D%2C%0Asequence%3A%20%24%7BJSON.stringify(config.sequence)%7D%2C%0Aclass%3A%20%24%7BJSON.stringify(config.class)%7D%2C%0AgitGraph%3A%20%24%7BJSON.stringify(config.gitGraph)%7D%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">            <span class="hljs-keyword inline">try</span> {
                <span class="hljs-comment inline">// Configure mermaid with provided config</span>
                mermaid.<span class="hljs-title function_ inline">initialize</span>({
                    <span class="hljs-attr inline">startOnLoad</span>: ${config.<span class="hljs-property inline">startOnLoad</span> || <span class="hljs-literal inline">false</span>},
                    <span class="hljs-attr inline">theme</span>: <span class="hljs-string inline">&#x27;${config.theme}&#x27;</span>,
                    <span class="hljs-attr inline">securityLevel</span>: <span class="hljs-string inline">&#x27;${config.securityLevel}&#x27;</span>,
                    <span class="hljs-attr inline">fontFamily</span>: <span class="hljs-string inline">&#x27;${config.fontFamily}&#x27;</span>,
                    <span class="hljs-attr inline">fontSize</span>: ${config.<span class="hljs-property inline">fontSize</span>},
                    <span class="hljs-attr inline">flowchart</span>: ${<span class="hljs-title class_ inline">JSON</span>.<span class="hljs-title function_ inline">stringify</span>(config.<span class="hljs-property inline">flowchart</span>)},
                    <span class="hljs-attr inline">sequence</span>: ${<span class="hljs-title class_ inline">JSON</span>.<span class="hljs-title function_ inline">stringify</span>(config.<span class="hljs-property inline">sequence</span>)},
                    <span class="hljs-attr inline">class</span>: ${<span class="hljs-title class_ inline">JSON</span>.<span class="hljs-title function_ inline">stringify</span>(config.<span class="hljs-property inline">class</span>)},
                    <span class="hljs-attr inline">gitGraph</span>: ${<span class="hljs-title class_ inline">JSON</span>.<span class="hljs-title function_ inline">stringify</span>(config.<span class="hljs-property inline">gitGraph</span>)}
                });
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第50-62行</strong>: 初始化Mermaid配置：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>mermaid.initialize()</code></strong>: Mermaid库的初始化方法，设置全局配置</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">模板字符串插值</strong>: 使用${}语法将配置值插入到生成的脚本中</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>JSON.stringify()</code></strong>: 将JavaScript对象转换为JSON字符串，确保复杂对象正确序列化</li>
<li class="text-foreground leading-relaxed">配置项说明：
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>startOnLoad</code>: 是否在页面加载时自动开始渲染</li>
<li class="text-foreground leading-relaxed"><code>theme</code>: 主题设置（如’default’, 'dark’等）</li>
<li class="text-foreground leading-relaxed"><code>securityLevel</code>: 安全级别设置</li>
<li class="text-foreground leading-relaxed"><code>fontFamily</code>: 字体族设置</li>
<li class="text-foreground leading-relaxed"><code>fontSize</code>: 字体大小设置</li>
<li class="text-foreground leading-relaxed"><code>flowchart</code>, <code>sequence</code>, <code>class</code>, <code>gitGraph</code>: 各种图表类型的特定配置</li>
</ul></li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Find%20all%20mermaid%20divs%20and%20render%20them%0Aconst%20mermaidDivs%20%3D%20document.querySelectorAll('.mermaid')%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                <span class="hljs-comment inline">// Find all mermaid divs and render them</span>
                <span class="hljs-keyword inline">const</span> mermaidDivs = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">querySelectorAll</span>(<span class="hljs-string inline">&#x27;.mermaid&#x27;</span>);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第64-65行</strong>: 查找所有Mermaid容器：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>document.querySelectorAll('.mermaid')</code></strong>: DOM API方法，根据CSS选择器查找所有匹配的元素</li>
<li class="text-foreground leading-relaxed">返回NodeList对象，包含所有class为&quot;mermaid&quot;的div元素</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="for%20(let%20i%20%3D%200%3B%20i%20length%3B%20i%2B%2B)%20%7B%0Aconst%20div%20%3D%20mermaidDivs%5Bi%5D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                <span class="hljs-keyword inline">for</span> (<span class="hljs-keyword inline">let</span> i = <span class="hljs-number inline">0</span>; i &lt; mermaidDivs.<span class="hljs-property inline">length</span>; i++) {
                    <span class="hljs-keyword inline">const</span> div = mermaidDivs[i];
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第67-68行</strong>: 遍历所有找到的Mermaid容器：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">使用传统for循环而不是forEach，以便更好地控制异步操作</li>
<li class="text-foreground leading-relaxed">获取当前处理的div元素</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Get%20clean%20text%20content%2C%20avoiding%20any%20HTML%20that%20might%20be%20mixed%20in%0Alet%20mermaidContent%20%3D%20div.textContent%20%7C%7C%20div.innerText%20%7C%7C%20''%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                    <span class="hljs-comment inline">// Get clean text content, avoiding any HTML that might be mixed in</span>
                    <span class="hljs-keyword inline">let</span> mermaidContent = div.<span class="hljs-property inline">textContent</span> || div.<span class="hljs-property inline">innerText</span> || <span class="hljs-string inline">&#x27;&#x27;</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第70-71行</strong>: 提取纯文本内容：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>div.textContent</code></strong>: 获取元素的文本内容（不包含HTML标签）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>div.innerText</code></strong>: 获取元素的可见文本内容（考虑CSS显示效果）</li>
<li class="text-foreground leading-relaxed">使用逻辑或操作符提供后备选项</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Clean%20up%20the%20content%20-%20remove%20any%20extra%20whitespace%20and%20HTML%20artifacts%0AmermaidContent%20%3D%20mermaidContent.trim()%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                    <span class="hljs-comment inline">// Clean up the content - remove any extra whitespace and HTML artifacts</span>
                    mermaidContent = mermaidContent.<span class="hljs-title function_ inline">trim</span>();
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第73-74行</strong>: 清理内容：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.trim()</code></strong>: 去除字符串首尾的空白字符（空格、制表符、换行符等）</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Skip%20if%20content%20is%20empty%20or%20contains%20HTML%20tags%20(already%20processed)%0Aif%20(!mermaidContent%20%7C%7C%20mermaidContent.includes(')%20%7C%7C%20mermaidContent.includes('))%20%7B%0Acontinue%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                    <span class="hljs-comment inline">// Skip if content is empty or contains HTML tags (already processed)</span>
                    <span class="hljs-keyword inline">if</span> (!mermaidContent || mermaidContent.<span class="hljs-title function_ inline">includes</span>(<span class="hljs-string inline">&#x27;&lt;svg&#x27;</span>) || mermaidContent.<span class="hljs-title function_ inline">includes</span>(<span class="hljs-string inline">&#x27;&lt;path&#x27;</span>)) {
                        <span class="hljs-keyword inline">continue</span>;
                    }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第76-79行</strong>: 跳过空内容或已处理的内容：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">检查内容是否为空</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.includes(substring)</code></strong>: 检查字符串是否包含指定的子字符串</li>
<li class="text-foreground leading-relaxed">如果包含<code>&lt;svg</code>或<code>&lt;path</code>标签，说明已经被渲染过，跳过处理</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Validate%20that%20this%20is%20actually%20mermaid%20content%0Aconst%20validMermaidTypes%20%3D%20%5B'graph'%2C%20'flowchart'%2C%20'sequenceDiagram'%2C%20'classDiagram'%2C%20'stateDiagram'%2C%20'erDiagram'%2C%20'journey'%2C%20'gantt'%2C%20'pie'%2C%20'gitgraph'%2C%20'mindmap'%2C%20'timeline'%5D%3B%0Aconst%20isValidMermaid%20%3D%20validMermaidTypes.some(function(type)%20%7B%0Areturn%20mermaidContent.toLowerCase().includes(type.toLowerCase())%3B%0A%7D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                    <span class="hljs-comment inline">// Validate that this is actually mermaid content</span>
                    <span class="hljs-keyword inline">const</span> validMermaidTypes = [<span class="hljs-string inline">&#x27;graph&#x27;</span>, <span class="hljs-string inline">&#x27;flowchart&#x27;</span>, <span class="hljs-string inline">&#x27;sequenceDiagram&#x27;</span>, <span class="hljs-string inline">&#x27;classDiagram&#x27;</span>, <span class="hljs-string inline">&#x27;stateDiagram&#x27;</span>, <span class="hljs-string inline">&#x27;erDiagram&#x27;</span>, <span class="hljs-string inline">&#x27;journey&#x27;</span>, <span class="hljs-string inline">&#x27;gantt&#x27;</span>, <span class="hljs-string inline">&#x27;pie&#x27;</span>, <span class="hljs-string inline">&#x27;gitgraph&#x27;</span>, <span class="hljs-string inline">&#x27;mindmap&#x27;</span>, <span class="hljs-string inline">&#x27;timeline&#x27;</span>];
                    <span class="hljs-keyword inline">const</span> isValidMermaid = validMermaidTypes.<span class="hljs-title function_ inline">some</span>(<span class="hljs-keyword inline">function</span>(<span class="hljs-params inline">type</span>) {
                        <span class="hljs-keyword inline">return</span> mermaidContent.<span class="hljs-title function_ inline">toLowerCase</span>().<span class="hljs-title function_ inline">includes</span>(type.<span class="hljs-title function_ inline">toLowerCase</span>());
                    });
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第81-85行</strong>: 验证是否为有效的Mermaid内容：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">定义有效的Mermaid图表类型数组</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>array.some(callback)</code></strong>: 数组方法，检查是否至少有一个元素满足条件</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.toLowerCase()</code></strong>: 将字符串转换为小写，用于大小写不敏感的比较</li>
<li class="text-foreground leading-relaxed">检查内容是否包含任何有效的Mermaid图表类型关键词</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="if%20(!isValidMermaid)%20%7B%0Aconsole.warn('Skipping%20non-mermaid%20content%3A'%2C%20mermaidContent.substring(0%2C%2050)%20%2B%20'...')%3B%0Acontinue%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                    <span class="hljs-keyword inline">if</span> (!isValidMermaid) {
                        <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">warn</span>(<span class="hljs-string inline">&#x27;Skipping non-mermaid content:&#x27;</span>, mermaidContent.<span class="hljs-title function_ inline">substring</span>(<span class="hljs-number inline">0</span>, <span class="hljs-number inline">50</span>) + <span class="hljs-string inline">&#x27;...&#x27;</span>);
                        <span class="hljs-keyword inline">continue</span>;
                    }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第87-90行</strong>: 跳过非Mermaid内容：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">如果内容不是有效的Mermaid代码，输出警告信息</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>console.warn()</code></strong>: 在控制台输出警告信息</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.substring(start, end)</code></strong>: 提取字符串的子串，这里取前50个字符用于日志显示</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="try%20%7B%0A%2F%2F%20Ensure%20the%20div%20is%20properly%20mounted%20and%20visible%0Aif%20(!div.offsetParent%20%26%26%20div.style.display%20!%3D%3D%20'none')%20%7B%0Adiv.style.display%20%3D%20'block'%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                    <span class="hljs-keyword inline">try</span> {
                        <span class="hljs-comment inline">// Ensure the div is properly mounted and visible</span>
                        <span class="hljs-keyword inline">if</span> (!div.<span class="hljs-property inline">offsetParent</span> &amp;&amp; div.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">display</span> !== <span class="hljs-string inline">&#x27;none&#x27;</span>) {
                            div.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">display</span> = <span class="hljs-string inline">&#x27;block&#x27;</span>;
                        }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第92-96行</strong>: 确保div元素正确挂载和可见：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>div.offsetParent</code></strong>: DOM属性，如果元素不可见或未挂载则为null</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>div.style.display</code></strong>: 元素的显示样式属性</li>
<li class="text-foreground leading-relaxed">如果元素不可见且不是显式隐藏，则设置为块级显示</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Create%20a%20temporary%20container%20to%20avoid%20DOM%20issues%0Aconst%20tempContainer%20%3D%20document.createElement('div')%3B%0AtempContainer.style.width%20%3D%20'100%25'%3B%0AtempContainer.style.height%20%3D%20'auto'%3B%0AtempContainer.style.visibility%20%3D%20'hidden'%3B%0AtempContainer.style.position%20%3D%20'absolute'%3B%0AtempContainer.style.top%20%3D%20'-9999px'%3B%0Adocument.body.appendChild(tempContainer)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                        <span class="hljs-comment inline">// Create a temporary container to avoid DOM issues</span>
                        <span class="hljs-keyword inline">const</span> tempContainer = <span class="hljs-variable language_ inline">document</span>.<span class="hljs-title function_ inline">createElement</span>(<span class="hljs-string inline">&#x27;div&#x27;</span>);
                        tempContainer.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">width</span> = <span class="hljs-string inline">&#x27;100%&#x27;</span>;
                        tempContainer.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">height</span> = <span class="hljs-string inline">&#x27;auto&#x27;</span>;
                        tempContainer.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">visibility</span> = <span class="hljs-string inline">&#x27;hidden&#x27;</span>;
                        tempContainer.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">position</span> = <span class="hljs-string inline">&#x27;absolute&#x27;</span>;
                        tempContainer.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">top</span> = <span class="hljs-string inline">&#x27;-9999px&#x27;</span>;
                        <span class="hljs-variable language_ inline">document</span>.<span class="hljs-property inline">body</span>.<span class="hljs-title function_ inline">appendChild</span>(tempContainer);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第98-105行</strong>: 创建临时容器避免DOM问题：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>document.createElement('div')</code></strong>: 创建新的div元素</li>
<li class="text-foreground leading-relaxed">设置临时容器的样式：
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>width: '100%'</code>: 宽度占满父容器</li>
<li class="text-foreground leading-relaxed"><code>height: 'auto'</code>: 高度自动</li>
<li class="text-foreground leading-relaxed"><code>visibility: 'hidden'</code>: 隐藏但保留布局空间</li>
<li class="text-foreground leading-relaxed"><code>position: 'absolute'</code>: 绝对定位</li>
<li class="text-foreground leading-relaxed"><code>top: '-9999px'</code>: 移出可视区域</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>document.body.appendChild()</code></strong>: 将临时容器添加到页面中</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Generate%20unique%20ID%20for%20this%20diagram%0Aconst%20id%20%3D%20'mermaid-render-'%20%2B%20Date.now()%20%2B%20'-'%20%2B%20i%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                        <span class="hljs-comment inline">// Generate unique ID for this diagram</span>
                        <span class="hljs-keyword inline">const</span> id = <span class="hljs-string inline">&#x27;mermaid-render-&#x27;</span> + <span class="hljs-title class_ inline">Date</span>.<span class="hljs-title function_ inline">now</span>() + <span class="hljs-string inline">&#x27;-&#x27;</span> + i;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第107-108行</strong>: 生成渲染用的唯一ID：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">结合时间戳和循环索引创建唯一标识符</li>
<li class="text-foreground leading-relaxed">用于Mermaid渲染时的内部标识</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Use%20mermaid%20v10%2B%20async%20API%20with%20proper%20DOM%20context%0Aconst%20result%20%3D%20await%20mermaid.render(id%2C%20mermaidContent%2C%20tempContainer)%3B%0Aconst%20svg%20%3D%20result.svg%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                        <span class="hljs-comment inline">// Use mermaid v10+ async API with proper DOM context</span>
                        <span class="hljs-keyword inline">const</span> result = <span class="hljs-keyword inline">await</span> mermaid.<span class="hljs-title function_ inline">render</span>(id, mermaidContent, tempContainer);
                        <span class="hljs-keyword inline">const</span> svg = result.<span class="hljs-property inline">svg</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第110-112行</strong>: 使用Mermaid异步API渲染图表：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>await mermaid.render()</code></strong>: 调用Mermaid的异步渲染方法
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>id</code>: 图表的唯一标识符</li>
<li class="text-foreground leading-relaxed"><code>mermaidContent</code>: 要渲染的Mermaid代码</li>
<li class="text-foreground leading-relaxed"><code>tempContainer</code>: 临时DOM容器</li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>result.svg</code></strong>: 从渲染结果中提取SVG字符串</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Remove%20temporary%20container%0Adocument.body.removeChild(tempContainer)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                        <span class="hljs-comment inline">// Remove temporary container</span>
                        <span class="hljs-variable language_ inline">document</span>.<span class="hljs-property inline">body</span>.<span class="hljs-title function_ inline">removeChild</span>(tempContainer);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第114-115行</strong>: 移除临时容器：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>document.body.removeChild()</code></strong>: 从DOM中移除临时容器元素</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Replace%20the%20div%20content%20with%20the%20SVG%0Adiv.innerHTML%20%3D%20svg%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                        <span class="hljs-comment inline">// Replace the div content with the SVG</span>
                        div.<span class="hljs-property inline">innerHTML</span> = svg;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第117-118行</strong>: 替换div内容：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>div.innerHTML</code></strong>: 设置元素的HTML内容</li>
<li class="text-foreground leading-relaxed">将原始的Mermaid代码替换为渲染后的SVG图表</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%7D%20catch%20(renderError)%20%7B%0Aconsole.error('Error%20rendering%20mermaid%20diagram%3A'%2C%20renderError)%3B%0Aconsole.error('Content%20that%20failed%3A'%2C%20mermaidContent)%3B%0A%2F%2F%20Keep%20the%20original%20content%20if%20rendering%20fails%0Aconst%20errorMessage%20%3D%20renderError%20instanceof%20Error%20%3F%20renderError.message%20%3A%20String(renderError)%3B%0Adiv.innerHTML%20%3D%20''%20%2B%0A'Error%20rendering%20mermaid%20diagram%3A%20'%20%2B%20errorMessage%20%2B%20'%5C%5Cn%5C%5Cn'%20%2B%0A'Original%20content%3A%5C%5Cn'%20%2B%20mermaidContent%20%2B%20''%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                    } <span class="hljs-keyword inline">catch</span> (renderError) {
                        <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error rendering mermaid diagram:&#x27;</span>, renderError);
                        <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Content that failed:&#x27;</span>, mermaidContent);
                        <span class="hljs-comment inline">// Keep the original content if rendering fails</span>
                        <span class="hljs-keyword inline">const</span> errorMessage = renderError <span class="hljs-keyword inline">instanceof</span> <span class="hljs-title class_ inline">Error</span> ? renderError.<span class="hljs-property inline">message</span> : <span class="hljs-title class_ inline">String</span>(renderError);
                        div.<span class="hljs-property inline">innerHTML</span> = <span class="hljs-string inline">&#x27;&lt;pre style=&quot;color: red; background: #fee; padding: 10px; border-radius: 4px;&quot;&gt;&#x27;</span> +
                            <span class="hljs-string inline">&#x27;Error rendering mermaid diagram: &#x27;</span> + errorMessage + <span class="hljs-string inline">&#x27;\\n\\n&#x27;</span> +
                            <span class="hljs-string inline">&#x27;Original content:\\n&#x27;</span> + mermaidContent + <span class="hljs-string inline">&#x27;&lt;/pre&gt;&#x27;</span>;
                    }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第120-128行</strong>: 处理渲染错误：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>console.error()</code></strong>: 在控制台输出错误信息</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>instanceof Error</code></strong>: 检查是否为Error对象实例</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>String(renderError)</code></strong>: 将错误对象转换为字符串</li>
<li class="text-foreground leading-relaxed">创建错误显示的HTML，包含：
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">红色文本和浅红色背景</li>
<li class="text-foreground leading-relaxed">错误消息</li>
<li class="text-foreground leading-relaxed">原始内容，帮助调试</li>
</ul></li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%7D%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Error%20initializing%20mermaid%3A'%2C%20error)%3B%0A%7D%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">                }
            } <span class="hljs-keyword inline">catch</span> (error) {
                <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">error</span>(<span class="hljs-string inline">&#x27;Error initializing mermaid:&#x27;</span>, error);
            }
        };
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第129-133行</strong>: 处理整体初始化错误并结束initializeMermaid函数。</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Wait%20for%20DOM%20to%20be%20fully%20ready%20and%20ensure%20proper%20mounting%0Aconst%20timeoutId%20%3D%20setInterval(function()%20%7B%0A%2F%2F%20Check%20if%20mermaid%20is%20available%0Aif%20(typeof%20mermaid%20%3D%3D%3D%20'undefined')%20%7B%0Aconsole.warn('Mermaid%20library%20is%20not%20loaded%20yet.')%3B%0Areturn%3B%0A%7D%0A%2F%2F%20Double-check%20that%20we're%20in%20a%20browser%20environment%0Aif%20(typeof%20window%20!%3D%3D%20'undefined'%20%26%26%20document.body)%20%7B%0AinitializeMermaid()%3B%0AclearInterval(timeoutId)%0A%7D%0A%7D%2C%201000)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">        <span class="hljs-comment inline">// Wait for DOM to be fully ready and ensure proper mounting</span>
        <span class="hljs-keyword inline">const</span> timeoutId = <span class="hljs-built_in inline">setInterval</span>(<span class="hljs-keyword inline">function</span>(<span class="hljs-params inline"></span>) {
            <span class="hljs-comment inline">// Check if mermaid is available</span>
            <span class="hljs-keyword inline">if</span> (<span class="hljs-keyword inline">typeof</span> mermaid === <span class="hljs-string inline">&#x27;undefined&#x27;</span>) {
                <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">warn</span>(<span class="hljs-string inline">&#x27;Mermaid library is not loaded yet.&#x27;</span>);
                <span class="hljs-keyword inline">return</span>;
            }
            <span class="hljs-comment inline">// Double-check that we&#x27;re in a browser environment</span>
            <span class="hljs-keyword inline">if</span> (<span class="hljs-keyword inline">typeof</span> <span class="hljs-variable language_ inline">window</span> !== <span class="hljs-string inline">&#x27;undefined&#x27;</span> &amp;&amp; <span class="hljs-variable language_ inline">document</span>.<span class="hljs-property inline">body</span>) {
                <span class="hljs-title function_ inline">initializeMermaid</span>();
                <span class="hljs-built_in inline">clearInterval</span>(timeoutId)
            }
        }, <span class="hljs-number inline">1000</span>);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第135-147行</strong>: 等待DOM和Mermaid库就绪：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>setInterval(callback, interval)</code></strong>: 设置定时器，每1000毫秒执行一次检查</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>typeof mermaid === 'undefined'</code></strong>: 检查Mermaid库是否已加载</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>typeof window !== 'undefined'</code></strong>: 检查是否在浏览器环境中</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>document.body</code></strong>: 检查DOM是否就绪</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>clearInterval(timeoutId)</code></strong>: 清除定时器，避免重复执行</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%7D)()%3B%0A%60%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    })();
    &lt;/script&gt;
    <span class="hljs-string inline">`;
}
</span></code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第148-151行</strong>: 结束立即执行函数表达式、脚本标签和addRenderingScript函数。</p>
<h3 id="processmermaidinhtml-函数" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#processmermaidinhtml-函数" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to processMermaidInHTML 函数">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            processMermaidInHTML 函数
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F**%0A*%20Process%20HTML%20content%20to%20transform%20mermaid%20code%20blocks%20into%20mermaid%20divs%0A*%20%40param%20%7Bstring%7D%20htmlContent%20-%20The%20HTML%20content%20to%20process%0A*%20%40param%20%7BObject%7D%20options%20-%20Processing%20options%0A*%20%40returns%20%7Bstring%7D%20-%20Processed%20HTML%20content%0A*%2F%0Afunction%20processMermaidInHTML(htmlContent%2C%20options%20%3D%20%7B%7D)%20%7B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">/**
 * Process HTML content to transform mermaid code blocks into mermaid divs
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">string</span>} <span class="hljs-variable inline">htmlContent</span> - The HTML content to process
 * <span class="hljs-doctag inline">@param</span> {<span class="hljs-type inline">Object</span>} <span class="hljs-variable inline">options</span> - Processing options
 * <span class="hljs-doctag inline">@returns</span> {<span class="hljs-type inline">string</span>} - Processed HTML content
 */</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">processMermaidInHTML</span>(<span class="hljs-params inline">htmlContent, options = {}</span>) {
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第153-159行</strong>: 定义主处理函数：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">参数：htmlContent - 要处理的HTML内容字符串</li>
<li class="text-foreground leading-relaxed">参数：options - 处理选项对象，默认为空对象</li>
<li class="text-foreground leading-relaxed">返回值：处理后的HTML内容</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="if%20(typeof%20htmlContent%20!%3D%3D%20'string')%20%7B%0Areturn%20htmlContent%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-keyword inline">if</span> (<span class="hljs-keyword inline">typeof</span> htmlContent !== <span class="hljs-string inline">&#x27;string&#x27;</span>) {
        <span class="hljs-keyword inline">return</span> htmlContent;
    }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第160-162行</strong>: 输入验证，确保htmlContent是字符串类型。</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20mermaidConfiguration%20%3D%20%7B%0AstartOnLoad%3A%20options.startOnLoad%20%7C%7C%20false%2C%0Atheme%3A%20options.theme%20%3D%3D%3D%20'light'%20%3F%20'default'%20%3A%20'dark'%2C%0AsecurityLevel%3A%20options.securityLevel%20%7C%7C%20'loose'%2C%0AfontFamily%3A%20options.fontFamily%20%7C%7C%20'arial'%2C%0AfontSize%3A%20options.fontSize%20%7C%7C%2016%2C%0Aflowchart%3A%20options.flowchart%20%7C%7C%20%7B%0AuseMaxWidth%3A%20true%2C%0AhtmlLabels%3A%20true%2C%0A%7D%2C%0Asequence%3A%20options.sequence%20%7C%7C%20%7B%0AuseMaxWidth%3A%20true%2C%0Awrap%3A%20true%2C%0A%7D%2C%0Aclass%3A%20options.class%20%7C%7C%20%7B%0AuseMaxWidth%3A%20true%2C%0A%7D%2C%0AgitGraph%3A%20options.gitGraph%20%7C%7C%20%7B%0AuseMaxWidth%3A%20true%2C%0A%7D%2C%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-keyword inline">const</span> mermaidConfiguration = {
        <span class="hljs-attr inline">startOnLoad</span>: options.<span class="hljs-property inline">startOnLoad</span> || <span class="hljs-literal inline">false</span>,
        <span class="hljs-attr inline">theme</span>: options.<span class="hljs-property inline">theme</span> === <span class="hljs-string inline">&#x27;light&#x27;</span> ? <span class="hljs-string inline">&#x27;default&#x27;</span> : <span class="hljs-string inline">&#x27;dark&#x27;</span>,
        <span class="hljs-attr inline">securityLevel</span>: options.<span class="hljs-property inline">securityLevel</span> || <span class="hljs-string inline">&#x27;loose&#x27;</span>,
        <span class="hljs-attr inline">fontFamily</span>: options.<span class="hljs-property inline">fontFamily</span> || <span class="hljs-string inline">&#x27;arial&#x27;</span>,
        <span class="hljs-attr inline">fontSize</span>: options.<span class="hljs-property inline">fontSize</span> || <span class="hljs-number inline">16</span>,
        <span class="hljs-attr inline">flowchart</span>: options.<span class="hljs-property inline">flowchart</span> || {
            <span class="hljs-attr inline">useMaxWidth</span>: <span class="hljs-literal inline">true</span>,
            <span class="hljs-attr inline">htmlLabels</span>: <span class="hljs-literal inline">true</span>,
        },
        <span class="hljs-attr inline">sequence</span>: options.<span class="hljs-property inline">sequence</span> || {
            <span class="hljs-attr inline">useMaxWidth</span>: <span class="hljs-literal inline">true</span>,
            <span class="hljs-attr inline">wrap</span>: <span class="hljs-literal inline">true</span>,
        },
        <span class="hljs-attr inline">class</span>: options.<span class="hljs-property inline">class</span> || {
            <span class="hljs-attr inline">useMaxWidth</span>: <span class="hljs-literal inline">true</span>,
        },
        <span class="hljs-attr inline">gitGraph</span>: options.<span class="hljs-property inline">gitGraph</span> || {
            <span class="hljs-attr inline">useMaxWidth</span>: <span class="hljs-literal inline">true</span>,
        },
    };
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第164-183行</strong>: 创建Mermaid配置对象：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">使用逻辑或操作符设置默认值</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">三元运算符</strong>: <code>options.theme === 'light' ? 'default' : 'dark'</code> 根据主题选项设置对应的Mermaid主题</li>
<li class="text-foreground leading-relaxed">各种图表类型的配置：
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>useMaxWidth: true</code>: 图表使用最大可用宽度</li>
<li class="text-foreground leading-relaxed"><code>htmlLabels: true</code>: 流程图使用HTML标签</li>
<li class="text-foreground leading-relaxed"><code>wrap: true</code>: 序列图启用文本换行</li>
</ul></li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Find%20all%20mermaid%20code%20blocks%20in%20the%20HTML%0A%2F%2F%20Pattern%20matches%3A%20...%0Aconst%20mermaidCodeBlockRegex%20%3D%20%2F(%5B%5Cs%5CS%5D*%3F)%2Fgi%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// Find all mermaid code blocks in the HTML</span>
    <span class="hljs-comment inline">// Pattern matches: &lt;pre&gt;&lt;code class=&quot;language-mermaid&quot;&gt;...&lt;/code&gt;&lt;/pre&gt;</span>
    <span class="hljs-keyword inline">const</span> mermaidCodeBlockRegex = <span class="hljs-regexp inline">/&lt;pre&gt;&lt;code class=&quot;language-mermaid&quot;&gt;([\s\S]*?)&lt;\/code&gt;&lt;\/pre&gt;/gi</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第185-187行</strong>: 定义正则表达式匹配Mermaid代码块：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">正则表达式详解</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>&lt;pre&gt;&lt;code class=&quot;language-mermaid&quot;&gt;</code>: 匹配代码块的开始标签</li>
<li class="text-foreground leading-relaxed"><code>([\s\S]*?)</code>: 捕获组，匹配任意字符（包括换行符）
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>[\s\S]</code>: 匹配任意空白字符或非空白字符（相当于匹配任意字符）</li>
<li class="text-foreground leading-relaxed"><code>*?</code>: 非贪婪匹配，匹配尽可能少的字符</li>
</ul></li>
<li class="text-foreground leading-relaxed"><code>&lt;\/code&gt;&lt;\/pre&gt;</code>: 匹配代码块的结束标签</li>
<li class="text-foreground leading-relaxed"><code>g</code>: 全局匹配标志</li>
<li class="text-foreground leading-relaxed"><code>i</code>: 忽略大小写标志</li>
</ul></li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="htmlContent%20%3D%20htmlContent.replace(mermaidCodeBlockRegex%2C%20(match%2C%20content)%20%3D%3E%20%7B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    htmlContent = htmlContent.<span class="hljs-title function_ inline">replace</span>(mermaidCodeBlockRegex, <span class="hljs-function inline">(<span class="hljs-params inline">match, content</span>) =&gt;</span> {
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第189行</strong>: 使用正则表达式替换匹配的代码块：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>string.replace(regex, callback)</code></strong>: 使用回调函数处理每个匹配项</li>
<li class="text-foreground leading-relaxed"><code>match</code>: 完整的匹配字符串</li>
<li class="text-foreground leading-relaxed"><code>content</code>: 第一个捕获组的内容（即mermaid代码）</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Check%20if%20content%20has%20been%20syntax%20highlighted%20by%20hljs%0Alet%20cleanContent%3B%0Aif%20(content.includes('))%20%7B%0A%2F%2F%20Extract%20text%20content%20from%20syntax-highlighted%20spans%0AcleanContent%20%3D%20content%0A.replace(%2F%5D*class%3D%22hljs-%5B%5E%22%5D*%22%5B%5E%3E%5D*%3E(.*%3F)%2Fgi%2C%20'%241')%0A.replace(%2F%5D*%3E(.*%3F)%2Fgi%2C%20'%241')%0A.replace(%2F%26lt%3B%2Fg%2C%20')%0A.replace(%2F%26gt%3B%2Fg%2C%20'%3E')%0A.replace(%2F%26amp%3B%2Fg%2C%20'%26')%0A.replace(%2F%22%2Fg%2C%20'%22')%0A.replace(%2F'%2Fg%2C%20%22'%22)%0A.replace(%2F'%2Fg%2C%20%22'%22)%0A.trim()%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">        <span class="hljs-comment inline">// Check if content has been syntax highlighted by hljs</span>
        <span class="hljs-keyword inline">let</span> cleanContent;
        <span class="hljs-keyword inline">if</span> (content.<span class="hljs-title function_ inline">includes</span>(<span class="hljs-string inline">&#x27;&lt;span class=&quot;hljs-&#x27;</span>)) {
            <span class="hljs-comment inline">// Extract text content from syntax-highlighted spans</span>
            cleanContent = content
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&lt;span[^&gt;]*class=&quot;hljs-[^&quot;]*&quot;[^&gt;]*&gt;(.*?)&lt;\/span&gt;/gi</span>, <span class="hljs-string inline">&#x27;$1&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&lt;span[^&gt;]*&gt;(.*?)&lt;\/span&gt;/gi</span>, <span class="hljs-string inline">&#x27;$1&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;lt;/g</span>, <span class="hljs-string inline">&#x27;&lt;&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;gt;/g</span>, <span class="hljs-string inline">&#x27;&gt;&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;amp;/g</span>, <span class="hljs-string inline">&#x27;&amp;&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;quot;/g</span>, <span class="hljs-string inline">&#x27;&quot;&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;#39;/g</span>, <span class="hljs-string inline">&quot;&#x27;&quot;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;#x27;/g</span>, <span class="hljs-string inline">&quot;&#x27;&quot;</span>)
                .<span class="hljs-title function_ inline">trim</span>();
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第190-202行</strong>: 处理语法高亮的内容：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>content.includes('&lt;span class=&quot;hljs-')</code></strong>: 检查是否包含highlight.js的语法高亮标记</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">正则表达式替换链</strong>:
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>/&lt;span[^&gt;]*class=&quot;hljs-[^&quot;]*&quot;[^&gt;]*&gt;(.*?)&lt;\/span&gt;/gi</code>: 移除hljs的span标签，保留内容</li>
<li class="text-foreground leading-relaxed"><code>/&lt;span[^&gt;]*&gt;(.*?)&lt;\/span&gt;/gi</code>: 移除其他span标签</li>
<li class="text-foreground leading-relaxed"><code>/&amp;lt;/g, '&lt;'</code>: 将HTML实体<code>&amp;lt;</code>转换为<code>&lt;</code></li>
<li class="text-foreground leading-relaxed"><code>/&amp;gt;/g, '&gt;'</code>: 将HTML实体<code>&amp;gt;</code>转换为<code>&gt;</code></li>
<li class="text-foreground leading-relaxed"><code>/&amp;amp;/g, '&amp;'</code>: 将HTML实体<code>&amp;amp;</code>转换为<code>&amp;</code></li>
<li class="text-foreground leading-relaxed"><code>/&amp;quot;/g, '&quot;'</code>: 将HTML实体<code>&amp;quot;</code>转换为<code>&quot;</code></li>
<li class="text-foreground leading-relaxed"><code>/&amp;#39;/g, &quot;'&quot;</code>: 将HTML实体<code>&amp;#39;</code>转换为<code>'</code></li>
<li class="text-foreground leading-relaxed"><code>/&amp;#x27;/g, &quot;'&quot;</code>: 将HTML实体<code>&amp;#x27;</code>转换为<code>'</code></li>
</ul></li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>.trim()</code></strong>: 去除首尾空白字符</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%7D%20else%20%7B%0A%2F%2F%20Decode%20HTML%20entities%20in%20the%20content%20(no%20syntax%20highlighting)%0AcleanContent%20%3D%20content%0A.replace(%2F%26lt%3B%2Fg%2C%20')%0A.replace(%2F%26gt%3B%2Fg%2C%20'%3E')%0A.replace(%2F%26amp%3B%2Fg%2C%20'%26')%0A.replace(%2F%22%2Fg%2C%20'%22')%0A.replace(%2F'%2Fg%2C%20%22'%22)%0A.replace(%2F'%2Fg%2C%20%22'%22)%0A.trim()%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">        } <span class="hljs-keyword inline">else</span> {
            <span class="hljs-comment inline">// Decode HTML entities in the content (no syntax highlighting)</span>
            cleanContent = content
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;lt;/g</span>, <span class="hljs-string inline">&#x27;&lt;&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;gt;/g</span>, <span class="hljs-string inline">&#x27;&gt;&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;amp;/g</span>, <span class="hljs-string inline">&#x27;&amp;&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;quot;/g</span>, <span class="hljs-string inline">&#x27;&quot;&#x27;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;#39;/g</span>, <span class="hljs-string inline">&quot;&#x27;&quot;</span>)
                .<span class="hljs-title function_ inline">replace</span>(<span class="hljs-regexp inline">/&amp;#x27;/g</span>, <span class="hljs-string inline">&quot;&#x27;&quot;</span>)
                .<span class="hljs-title function_ inline">trim</span>();
        }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第203-213行</strong>: 处理无语法高亮的内容：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">直接进行HTML实体解码</li>
<li class="text-foreground leading-relaxed">使用相同的实体转换规则</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20Transform%20into%20mermaid%20div%0AcleanContent%20%3D%20wrapWithDiv(cleanContent)%3B%0Areturn%20applyMermaidStyling(cleanContent%2C%20options)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">        <span class="hljs-comment inline">// Transform into mermaid div</span>
        cleanContent = <span class="hljs-title function_ inline">wrapWithDiv</span>(cleanContent);
        <span class="hljs-keyword inline">return</span> <span class="hljs-title function_ inline">applyMermaidStyling</span>(cleanContent, options);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第215-217行</strong>: 转换为Mermaid div：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>wrapWithDiv(cleanContent)</code></strong>: 调用前面定义的函数将内容包装在div中</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>applyMermaidStyling(cleanContent, options)</code></strong>: 应用自定义样式</li>
<li class="text-foreground leading-relaxed">返回最终的HTML字符串</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%7D)%3B%0Areturn%20addRenderingScript(htmlContent%2C%20mermaidConfiguration)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    });

    <span class="hljs-keyword inline">return</span> <span class="hljs-title function_ inline">addRenderingScript</span>(htmlContent, mermaidConfiguration);
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第218-221行</strong>: 完成替换并添加渲染脚本：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">结束replace回调函数</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>addRenderingScript(htmlContent, mermaidConfiguration)</code></strong>: 添加Mermaid库和初始化脚本</li>
</ul>
<h3 id="模块导出-1" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#模块导出-1" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 模块导出">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            模块导出
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="module.exports%20%3D%20%7B%0AprocessMermaidInHTML%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-variable language_ inline">module</span>.<span class="hljs-property inline">exports</span> = {
    processMermaidInHTML
};
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">第223-225行</strong>: 导出模块：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground"><code>module.exports</code></strong>: Node.js模块导出机制</li>
<li class="text-foreground leading-relaxed">使用对象形式导出processMermaidInHTML函数，便于解构导入</li>
</ul>
<hr class="border-0 h-px bg-gray-300 my-8">
<h2 id="总结" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#总结" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 总结">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            总结
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">这个插件的核心功能和特点包括：</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">后处理架构</strong>: 不修改Remarkable的解析流程，而是在HTML渲染完成后进行二次处理</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">代码块识别</strong>: 通过正则表达式识别<code>&lt;pre&gt;&lt;code class=&quot;language-mermaid&quot;&gt;</code>格式的代码块</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">语法高亮兼容</strong>: 智能处理highlight.js等语法高亮库产生的HTML结构</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">HTML实体解码</strong>: 正确处理Markdown渲染过程中产生的HTML实体</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">客户端渲染</strong>: 生成包含Mermaid库和初始化脚本的完整HTML</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">错误处理</strong>: 提供完善的错误处理和调试信息</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">配置灵活</strong>: 支持丰富的Mermaid配置选项</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">DOM安全</strong>: 使用临时容器避免DOM操作问题</li>
</ol>
<h3 id="非标准库函数使用总结" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#非标准库函数使用总结" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 非标准库函数使用总结">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            非标准库函数使用总结
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">本插件主要依赖以下非JavaScript标准库的函数和API：</p>
<h4 id="nodejs-生态系统" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#nodejs-生态系统" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Node.js 生态系统">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Node.js 生态系统
        </h4>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">模块系统</strong>: <code>require()</code>, <code>module.exports</code> 用于模块的导入导出</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">文件系统</strong>: 相对路径模块导入</li>
</ul>
<h4 id="remarkable-markdown-处理器" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#remarkable-markdown-处理器" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Remarkable Markdown 处理器">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Remarkable Markdown 处理器
        </h4>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">核心渲染</strong>: <code>md.render()</code> 执行Markdown到HTML的转换</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">方法重写</strong>: 通过保存原始方法引用实现功能扩展</li>
</ul>
<h4 id="mermaid-图表库" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#mermaid-图表库" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to Mermaid 图表库">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            Mermaid 图表库
        </h4>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">库加载</strong>: 通过CDN加载Mermaid 10.9.3版本</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">初始化</strong>: <code>mermaid.initialize()</code> 配置全局参数</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">异步渲染</strong>: <code>mermaid.render()</code> 异步API渲染图表</li>
</ul>
<h4 id="浏览器dom-api-1" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#浏览器dom-api-1" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 浏览器DOM API">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            浏览器DOM API
        </h4>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">元素查找</strong>: <code>document.querySelectorAll()</code> 查找目标元素</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">元素创建</strong>: <code>document.createElement()</code> 创建临时容器</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">DOM操作</strong>: <code>appendChild()</code>, <code>removeChild()</code> 管理DOM树</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">内容访问</strong>: <code>textContent</code>, <code>innerHTML</code> 获取和设置元素内容</li>
</ul>
<h4 id="正则表达式处理" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#正则表达式处理" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 正则表达式处理">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            正则表达式处理
        </h4>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">模式匹配</strong>: 复杂的正则表达式匹配HTML结构</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">内容提取</strong>: 使用捕获组提取代码块内容</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">实体转换</strong>: 批量HTML实体解码</li>
</ul>
<h4 id="异步编程" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#异步编程" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 异步编程">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            异步编程
        </h4>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">定时器</strong>: <code>setInterval()</code>, <code>clearInterval()</code> 等待库就绪</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">异步函数</strong>: <code>async/await</code> 处理Mermaid异步渲染</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">该插件通过巧妙的后处理机制，实现了与Remarkable无缝集成的Mermaid图表渲染功能，同时保持了良好的兼容性和错误处理能力。</p>
</div></article><footer class="mt-16 pt-8 border-t border-foreground/20"><div class="flex items-center justify-between"><a class="inline-flex items-center px-4 py-2 bg-primary text-foreground rounded-lg hover:bg-primary/90 transition-colors" href="/MilkWind-Website/documents/">documents.backToDocuments</a><div class="text-sm text-foreground/60"><span>documents.byAuthor<!-- --> <!-- -->MilkWind</span></div></div></footer></div></div><!--$--><!--/$--><!--$--><!--/$--><!--/$--><!--/$--><script src="/MilkWind-Website/_next/static/chunks/webpack-453b10ff6467cd69.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[38735,[\"1899\",\"static/chunks/1899-38fe6771109eb8a8.js\",\"7177\",\"static/chunks/app/layout-3eed8318d7b0d3da.js\"],\"default\"]\n3:I[19945,[\"1899\",\"static/chunks/1899-38fe6771109eb8a8.js\",\"7177\",\"static/chunks/app/layout-3eed8318d7b0d3da.js\"],\"default\"]\n4:I[65337,[\"1899\",\"static/chunks/1899-38fe6771109eb8a8.js\",\"7177\",\"static/chunks/app/layout-3eed8318d7b0d3da.js\"],\"default\"]\n5:I[96190,[\"1899\",\"static/chunks/1899-38fe6771109eb8a8.js\",\"7177\",\"static/chunks/app/layout-3eed8318d7b0d3da.js\"],\"ClientProviders\"]\n6:I[87555,[],\"\"]\n7:I[51901,[\"8039\",\"static/chunks/app/error-dda32be1d095a86c.js\"],\"default\"]\n8:I[31295,[],\"\"]\n9:I[6874,[\"6874\",\"static/chunks/6874-fbe9a08eb79b991c.js\",\"4345\",\"static/chunks/app/not-found-9ff98b2ccf24cac7.js\"],\"\"]\na:I[94970,[],\"ClientSegmentRoot\"]\nb:I[44065,[\"206\",\"static/chunks/206-4f4cbf4d7156f437.js\",\"3092\",\"static/chunks/app/documents/layout-28408791defde09e.js\"],\"default\"]\ne:I[59665,[],\"MetadataBoundary\"]\n10:I[59665,[],\"OutletBoundary\"]\n13:I[74911,[],\"AsyncMetadataOutlet\"]\n15:I[39460,[\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"8610\",\"static/chunks/8610-7bd3f91f3cf2a4d6.js\",\"5650\",\"static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js\"],\"default\"]\n16:I[88610,[\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"8610\",\"static/chunks/8610-7bd3f91f3cf2a4d6.js\",\"4209\",\"static/chunks/app/loading-68f227fb49b3ac8c.js\"],\"default\"]\n17:I[59665,[],\"ViewportBoundary\"]\n19:I[26614,[],\"\"]\n:HL[\"/MilkWind-Website/_next/static/css/fe7e5644f748258b.css\",\"style\"]\n:HL[\"/MilkWind-Website/_next/static/css/38943437573ce53c.css\",\"style\"]\n:HL[\"/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"_oUz7JKQXZE_al3RaxoXO\",\"p\":\"/MilkWind-Website\",\"c\":[\"\",\"documents\",\"zh\",\"dark\",\"plugins\",\"remarkable-mermaid-plus\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"documents\",{\"children\":[[\"slug\",\"zh/dark/plugins/remarkable-mermaid-plus\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/fe7e5644f748258b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/38943437573ce53c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_d71c80 __variable_744f1f font-sans antialiased min-h-screen bg-background text-foreground\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"$L3\",null,{}],[\"$\",\"$L4\",null,{}],[\"$\",\"$L5\",null,{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$7\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"z-10 relative min-h-screen flex items-center justify-center bg-background p-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center max-w-md\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-8xl font-bold text-primary mb-4\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-foreground mb-4\",\"children\":\"Page Not Found\"}],[\"$\",\"p\",null,{\"className\":\"text-foreground/70 mb-8\",\"children\":\"The page you're looking for doesn't exist or has been moved to a different location.\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-col sm:flex-row gap-4 justify-center\",\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/\",\"className\":\"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors\",\"children\":\"Go Home\"}],[\"$\",\"$L9\",null,{\"href\":\"/works\",\"className\":\"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors\",\"children\":\"View Works\"}]]}],[\"$\",\"div\",null,{\"className\":\"absolute inset-0 overflow-hidden pointer-events-none -z-10\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute top-1/4 left-1/4 w-2 h-2 bg-primary/20 rounded-full animate-float\"}],[\"$\",\"div\",null,{\"className\":\"absolute top-3/4 right-1/4 w-3 h-3 bg-accent/20 rounded-full animate-float\",\"style\":{\"animationDelay\":\"1s\"}}],[\"$\",\"div\",null,{\"className\":\"absolute bottom-1/4 left-1/3 w-1 h-1 bg-secondary/20 rounded-full animate-float\",\"style\":{\"animationDelay\":\"2s\"}}]]}]]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]}]]}],{\"children\":[\"documents\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$La\",null,{\"Component\":\"$b\",\"slots\":{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]},\"params\":{},\"promise\":\"$@c\"}]]}],{\"children\":[[\"slug\",\"zh/dark/plugins/remarkable-mermaid-plus\",\"c\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$Ld\",[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L10\",null,{\"children\":[\"$L11\",\"$L12\",[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]]}]]}],{},null,false]},null,false]},[[\"$\",\"$L15\",\"l\",{}],[],[]],false]},[[\"$\",\"$L16\",\"l\",{}],[],[]],false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"uhoq9V6QwB6Xxtr1WI1Os\",{\"children\":[[\"$\",\"$L17\",null,{\"children\":\"$L18\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$19\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"1a:\"$Sreact.suspense\"\n1b:I[74911,[],\"AsyncMetadata\"]\nc:{}\nf:[\"$\",\"$1a\",null,{\"fallback\":null,\"children\":[\"$\",\"$L1b\",null,{\"promise\":\"$@1c\"}]}]\n"])</script><script>self.__next_f.push([1,"1d:I[57340,[\"5584\",\"static/chunks/b498d07c-095637f0f10883c6.js\",\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"6874\",\"static/chunks/6874-fbe9a08eb79b991c.js\",\"9554\",\"static/chunks/9554-b714f9de28e85d30.js\",\"1873\",\"static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js\"],\"DocumentPageClient\"]\n1e:T48e3e,"])</script><script>self.__next_f.push([1,"\u003ch1 id=\"remarkable-mermaid-plus-插件代码解析\" class=\"group relative text-4xl font-bold mt-8 mb-4 text-foreground leading-tight\"\u003e\n            \u003ca href=\"#remarkable-mermaid-plus-插件代码解析\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Remarkable Mermaid Plus 插件代码解析\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Remarkable Mermaid Plus 插件代码解析\n        \u003c/h1\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e插件版本：v1.0.26\u003c/strong\u003e\u003c/p\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e本篇文章将会对 \u003ccode\u003eremarkable-mermaid-plus\u003c/code\u003e 插件代码进行逐行解析，包括主要的插件文件 \u003ccode\u003eindex.js\u003c/code\u003e 和工具函数文件 \u003ccode\u003emermaid-utils.js\u003c/code\u003e。本解析不仅解释每行代码的作用，还详细说明所有非JavaScript标准库函数的用法和原理。\u003c/p\u003e\n\u003ch2 id=\"概览\" class=\"group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight\"\u003e\n            \u003ca href=\"#概览\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 概览\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            概览\n        \u003c/h2\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003ccode\u003eremarkable-mermaid-plus\u003c/code\u003e 是一个用于 Remarkable Markdown 处理器的插件，它能够将 Markdown 代码块中的 \u003ccode\u003emermaid\u003c/code\u003e 代码转换为可交互的 Mermaid 图表。该插件采用后处理的方式，在 Remarkable 完成基本渲染后对 HTML 内容进行二次处理。\u003c/p\u003e\n\u003ch2 id=\"依赖库函数说明\" class=\"group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight\"\u003e\n            \u003ca href=\"#依赖库函数说明\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 依赖库函数说明\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            依赖库函数说明\n        \u003c/h2\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e在深入代码解析之前，先了解本插件使用的主要非标准库函数：\u003c/p\u003e\n\u003ch3 id=\"nodejs-相关函数\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#nodejs-相关函数\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Node.js 相关函数\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Node.js 相关函数\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003erequire(moduleName)\u003c/code\u003e\u003c/strong\u003e: Node.js模块加载函数，用于导入外部模块或库\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003emoduleName\u003c/code\u003e (string): 模块名称或路径字符串\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: 导入的模块对象或函数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E4%BB%8E%E5%B7%A5%E5%85%B7%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%0Aconst%20%7B%20processMermaidInHTML%20%7D%20%3D%20require('.%2Fmermaid-utils')%3B%0A%2F%2F%20%E5%AF%BC%E5%85%A5Node.js%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%0Aconst%20fs%20%3D%20require('fs')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 从工具模块导入处理函数\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e { processMermaidInHTML } = \u003cspan class=\"hljs-built_in inline\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;./mermaid-utils\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 导入Node.js核心模块\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e fs = \u003cspan class=\"hljs-built_in inline\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;fs\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003emodule.exports\u003c/code\u003e\u003c/strong\u003e: Node.js模块导出对象，用于向外部提供模块功能\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e: 无（这是一个属性，不是函数）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: 无\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E5%AF%BC%E5%87%BA%E5%8D%95%E4%B8%AA%E6%8F%92%E4%BB%B6%E5%87%BD%E6%95%B0%0Amodule.exports%20%3D%20rmermaid%3B%0A%2F%2F%20%E5%AF%BC%E5%87%BA%E5%8C%85%E5%90%AB%E5%A4%9A%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%0Amodule.exports%20%3D%20%7B%20processMermaidInHTML%20%7D%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 导出单个插件函数\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_ inline\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eexports\u003c/span\u003e = rmermaid;\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 导出包含多个函数的对象\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_ inline\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eexports\u003c/span\u003e = { processMermaidInHTML };\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"remarkable-插件api\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#remarkable-插件api\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Remarkable 插件API\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Remarkable 插件API\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003emd.render(src, env)\u003c/code\u003e\u003c/strong\u003e: Remarkable的核心渲染方法\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esrc\u003c/code\u003e (string): 输入的Markdown文本字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eenv\u003c/code\u003e (Object): 渲染环境对象（可选），包含渲染上下文信息\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (string) 渲染后的HTML字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E6%B8%B2%E6%9F%93%E5%9F%BA%E6%9C%AC%E7%9A%84Markdown%E6%96%87%E6%9C%AC%0Aconst%20html%20%3D%20md.render('%23%20Hello%20World%5Cn%5CnThis%20is%20**bold**%20text.')%3B%0A%2F%2F%20%E6%B8%B2%E6%9F%93%E6%97%B6%E4%BC%A0%E9%80%92%E7%8E%AF%E5%A2%83%E5%AF%B9%E8%B1%A1%0Aconst%20htmlWithEnv%20%3D%20md.render('%23%20Title'%2C%20%7B%20customData%3A%20'value'%20%7D)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 渲染基本的Markdown文本\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e html = md.\u003cspan class=\"hljs-title function_ inline\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;# Hello World\\n\\nThis is **bold** text.\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 渲染时传递环境对象\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e htmlWithEnv = md.\u003cspan class=\"hljs-title function_ inline\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;# Title\u0026#x27;\u003c/span\u003e, { \u003cspan class=\"hljs-attr inline\"\u003ecustomData\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;value\u0026#x27;\u003c/span\u003e });\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eoriginalRender.call(this, src, env)\u003c/code\u003e\u003c/strong\u003e: JavaScript函数调用方法\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ethis\u003c/code\u003e (Object): 调用上下文（这里是Remarkable实例）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esrc\u003c/code\u003e (string): 传递给原始render方法的Markdown文本\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eenv\u003c/code\u003e (Object): 传递给原始render方法的环境对象\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (string) 原始渲染结果\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E4%BF%9D%E5%AD%98%E5%8E%9F%E5%A7%8B%E6%B8%B2%E6%9F%93%E6%96%B9%E6%B3%95%0Aconst%20originalRender%20%3D%20md.render%3B%0A%2F%2F%20%E9%87%8D%E5%86%99%E6%B8%B2%E6%9F%93%E6%96%B9%E6%B3%95%E4%BB%A5%E6%B7%BB%E5%8A%A0%E5%90%8E%E5%A4%84%E7%90%86%0Amd.render%20%3D%20function(src%2C%20env)%20%7B%0A%2F%2F%20%E8%B0%83%E7%94%A8%E5%8E%9F%E5%A7%8B%E6%B8%B2%E6%9F%93%E6%96%B9%E6%B3%95%0Aconst%20htmlContent%20%3D%20originalRender.call(this%2C%20src%2C%20env)%3B%0A%2F%2F%20%E5%AF%B9HTML%E8%BF%9B%E8%A1%8C%E5%90%8E%E5%A4%84%E7%90%86%0Areturn%20processHTML(htmlContent)%3B%0A%7D%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 保存原始渲染方法\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e originalRender = md.\u003cspan class=\"hljs-property inline\"\u003erender\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 重写渲染方法以添加后处理\u003c/span\u003e\nmd.\u003cspan class=\"hljs-property inline\"\u003erender\u003c/span\u003e = \u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003esrc, env\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment inline\"\u003e// 调用原始渲染方法\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e htmlContent = originalRender.\u003cspan class=\"hljs-title function_ inline\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e, src, env);\n  \u003cspan class=\"hljs-comment inline\"\u003e// 对HTML进行后处理\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eprocessHTML\u003c/span\u003e(htmlContent);\n};\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"浏览器dom-api\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#浏览器dom-api\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 浏览器DOM API\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            浏览器DOM API\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003edocument.querySelectorAll(selector)\u003c/code\u003e\u003c/strong\u003e: 根据CSS选择器查找所有匹配的DOM元素\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eselector\u003c/code\u003e (string): CSS选择器字符串\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: NodeList对象，包含所有匹配的元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E6%9F%A5%E6%89%BE%E6%89%80%E6%9C%89class%E4%B8%BAmermaid%E7%9A%84%E5%85%83%E7%B4%A0%0Aconst%20mermaidDivs%20%3D%20document.querySelectorAll('.mermaid')%3B%0A%2F%2F%20%E6%9F%A5%E6%89%BE%E6%89%80%E6%9C%89pre%E6%A0%87%E7%AD%BE%E4%B8%8B%E7%9A%84code%E5%85%83%E7%B4%A0%0Aconst%20codeBlocks%20%3D%20document.querySelectorAll('pre%20code')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 查找所有class为mermaid的元素\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e mermaidDivs = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003equerySelectorAll\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;.mermaid\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 查找所有pre标签下的code元素\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e codeBlocks = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003equerySelectorAll\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;pre code\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003edocument.createElement(tagName)\u003c/code\u003e\u003c/strong\u003e: 创建指定标签名的新DOM元素\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003etagName\u003c/code\u003e (string): HTML标签名字符串\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: 新创建的DOM元素对象\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84div%E5%85%83%E7%B4%A0%0Aconst%20div%20%3D%20document.createElement('div')%3B%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84span%E5%85%83%E7%B4%A0%0Aconst%20span%20%3D%20document.createElement('span')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 创建新的div元素\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e div = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;div\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 创建新的span元素\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e span = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;span\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003edocument.body\u003c/code\u003e\u003c/strong\u003e: 文档的body元素引用\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e类型\u003c/strong\u003e: HTMLElement\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e说明\u003c/strong\u003e: 获取文档的body元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E5%B0%86%E4%B8%B4%E6%97%B6%E5%AE%B9%E5%99%A8%E6%B7%BB%E5%8A%A0%E5%88%B0%E9%A1%B5%E9%9D%A2body%E4%B8%AD%0Adocument.body.appendChild(tempContainer)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 将临时容器添加到页面body中\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003ebody\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eappendChild\u003c/span\u003e(tempContainer);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eelement.appendChild(child)\u003c/code\u003e\u003c/strong\u003e: 将子元素添加到父元素中\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003echild\u003c/code\u003e (Node): 要添加的子元素\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: 添加的子元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E8%8E%B7%E5%8F%96%E7%88%B6%E5%AE%B9%E5%99%A8%E5%85%83%E7%B4%A0%0Aconst%20parent%20%3D%20document.getElementById('container')%3B%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84%E5%AD%90%E5%85%83%E7%B4%A0%0Aconst%20child%20%3D%20document.createElement('div')%3B%0A%2F%2F%20%E5%B0%86%E5%AD%90%E5%85%83%E7%B4%A0%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%88%B6%E5%AE%B9%E5%99%A8%E4%B8%AD%0Aparent.appendChild(child)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 获取父容器元素\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e parent = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;container\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 创建新的子元素\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e child = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;div\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 将子元素添加到父容器中\u003c/span\u003e\nparent.\u003cspan class=\"hljs-title function_ inline\"\u003eappendChild\u003c/span\u003e(child);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eelement.removeChild(child)\u003c/code\u003e\u003c/strong\u003e: 从父元素中移除子元素\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003echild\u003c/code\u003e (Node): 要移除的子元素\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: 被移除的子元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E8%8E%B7%E5%8F%96%E7%88%B6%E5%AE%B9%E5%99%A8%E5%85%83%E7%B4%A0%0Aconst%20parent%20%3D%20document.getElementById('container')%3B%0A%2F%2F%20%E8%8E%B7%E5%8F%96%E8%A6%81%E7%A7%BB%E9%99%A4%E7%9A%84%E5%AD%90%E5%85%83%E7%B4%A0%0Aconst%20child%20%3D%20document.getElementById('temp')%3B%0A%2F%2F%20%E4%BB%8E%E7%88%B6%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%A7%BB%E9%99%A4%E5%AD%90%E5%85%83%E7%B4%A0%0Aparent.removeChild(child)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 获取父容器元素\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e parent = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;container\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 获取要移除的子元素\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e child = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;temp\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 从父容器中移除子元素\u003c/span\u003e\nparent.\u003cspan class=\"hljs-title function_ inline\"\u003eremoveChild\u003c/span\u003e(child);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eelement.textContent\u003c/code\u003e\u003c/strong\u003e: 获取或设置元素的文本内容\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e类型\u003c/strong\u003e: string\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e说明\u003c/strong\u003e: 获取元素的纯文本内容（不包含HTML标签）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E7%BA%AF%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%0Aconst%20text%20%3D%20div.textContent%3B%0A%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%0Adiv.textContent%20%3D%20'New%20text%20content'%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 获取元素的纯文本内容\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e text = div.\u003cspan class=\"hljs-property inline\"\u003etextContent\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 设置元素的文本内容\u003c/span\u003e\ndiv.\u003cspan class=\"hljs-property inline\"\u003etextContent\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;New text content\u0026#x27;\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eelement.innerText\u003c/code\u003e\u003c/strong\u003e: 获取或设置元素的可见文本内容\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e类型\u003c/strong\u003e: string\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e说明\u003c/strong\u003e: 获取元素的可见文本内容（考虑CSS样式）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E5%8F%AF%E8%A7%81%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%0Aconst%20visibleText%20%3D%20div.innerText%3B%0A%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%85%83%E7%B4%A0%E7%9A%84%E5%8F%AF%E8%A7%81%E6%96%87%E6%9C%AC%0Adiv.innerText%20%3D%20'Visible%20text'%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 获取元素的可见文本内容\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e visibleText = div.\u003cspan class=\"hljs-property inline\"\u003einnerText\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 设置元素的可见文本\u003c/span\u003e\ndiv.\u003cspan class=\"hljs-property inline\"\u003einnerText\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Visible text\u0026#x27;\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eelement.innerHTML\u003c/code\u003e\u003c/strong\u003e: 获取或设置元素的HTML内容\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e类型\u003c/strong\u003e: string\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e说明\u003c/strong\u003e: 获取或设置元素的HTML内容\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20html%20%3D%20div.innerHTML%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96HTML%E5%86%85%E5%AE%B9%0Adiv.innerHTML%20%3D%20'New%20HTML'%3B%20%20%2F%2F%20%E8%AE%BE%E7%BD%AEHTML%E5%86%85%E5%AE%B9\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e html = div.\u003cspan class=\"hljs-property inline\"\u003einnerHTML\u003c/span\u003e;               \u003cspan class=\"hljs-comment inline\"\u003e// 获取HTML内容\u003c/span\u003e\ndiv.\u003cspan class=\"hljs-property inline\"\u003einnerHTML\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;span\u0026gt;New HTML\u0026lt;/span\u0026gt;\u0026#x27;\u003c/span\u003e;  \u003cspan class=\"hljs-comment inline\"\u003e// 设置HTML内容\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eelement.offsetParent\u003c/code\u003e\u003c/strong\u003e: 获取元素的定位父元素\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e类型\u003c/strong\u003e: Element | null\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e说明\u003c/strong\u003e: 获取元素的定位父元素，如果元素不可见则返回null\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20isVisible%20%3D%20div.offsetParent%20!%3D%3D%20null%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e isVisible = div.\u003cspan class=\"hljs-property inline\"\u003eoffsetParent\u003c/span\u003e !== \u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eelement.style\u003c/code\u003e\u003c/strong\u003e: 元素的样式对象，用于设置CSS样式\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e类型\u003c/strong\u003e: CSSStyleDeclaration\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e说明\u003c/strong\u003e: 获取元素的样式对象，可以设置CSS属性\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"div.style.display%20%3D%20'block'%3B%0Adiv.style.width%20%3D%20'100%25'%3B%0Adiv.style.backgroundColor%20%3D%20'red'%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003ediv.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003edisplay\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;block\u0026#x27;\u003c/span\u003e;\ndiv.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003ewidth\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;100%\u0026#x27;\u003c/span\u003e;\ndiv.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003ebackgroundColor\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;red\u0026#x27;\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"javascript-内置对象和方法\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#javascript-内置对象和方法\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to JavaScript 内置对象和方法\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            JavaScript 内置对象和方法\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eDate.now()\u003c/code\u003e\u003c/strong\u003e: 返回当前时间戳（毫秒）\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e: 无\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (number) 当前时间戳（毫秒）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E6%88%B3%0Aconst%20timestamp%20%3D%20Date.now()%3B%0A%2F%2F%20%E7%94%9F%E6%88%90%E5%B8%A6%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E5%94%AF%E4%B8%80ID%0Aconst%20uniqueId%20%3D%20'mermaid-'%20%2B%20Date.now()%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 获取当前时间戳\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e timestamp = \u003cspan class=\"hljs-title class_ inline\"\u003eDate\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003enow\u003c/span\u003e();\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 生成带时间戳的唯一ID\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e uniqueId = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;mermaid-\u0026#x27;\u003c/span\u003e + \u003cspan class=\"hljs-title class_ inline\"\u003eDate\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003enow\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eMath.random()\u003c/code\u003e\u003c/strong\u003e: 生成0到1之间的随机数\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e: 无\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (number) 0到1之间的随机数（不包含1）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20randomValue%20%3D%20Math.random()%3B%0Aconst%20randomId%20%3D%20Math.random().toString(36).substring(2%2C%209)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e randomValue = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003erandom\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e randomId = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003erandom\u003c/span\u003e().\u003cspan class=\"hljs-title function_ inline\"\u003etoString\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e36\u003c/span\u003e).\u003cspan class=\"hljs-title function_ inline\"\u003esubstring\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number inline\"\u003e9\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eparseInt(value, radix)\u003c/code\u003e\u003c/strong\u003e: 将字符串转换为整数\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003evalue\u003c/code\u003e (string): 要转换的字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eradix\u003c/code\u003e (number): 进制基数，2-36之间（可选）\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (number) 转换后的整数，失败时返回NaN\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20num%20%3D%20parseInt('123'%2C%2010)%3B%20%20%20%20%20%20%20%20%2F%2F%20%E5%8D%81%E8%BF%9B%E5%88%B6%EF%BC%9A123%0Aconst%20hex%20%3D%20parseInt('FF'%2C%2016)%3B%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%EF%BC%9A255\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e num = \u003cspan class=\"hljs-built_in inline\"\u003eparseInt\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;123\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-number inline\"\u003e10\u003c/span\u003e);        \u003cspan class=\"hljs-comment inline\"\u003e// 十进制：123\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e hex = \u003cspan class=\"hljs-built_in inline\"\u003eparseInt\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;FF\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-number inline\"\u003e16\u003c/span\u003e);         \u003cspan class=\"hljs-comment inline\"\u003e// 十六进制：255\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eJSON.stringify(obj)\u003c/code\u003e\u003c/strong\u003e: 将JavaScript对象转换为JSON字符串\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eobj\u003c/code\u003e (any): 要转换的JavaScript值\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (string) JSON字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20config%20%3D%20%7B%20theme%3A%20'dark'%2C%20fontSize%3A%2016%20%7D%3B%0Aconst%20jsonString%20%3D%20JSON.stringify(config)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e config = { \u003cspan class=\"hljs-attr inline\"\u003etheme\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;dark\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr inline\"\u003efontSize\u003c/span\u003e: \u003cspan class=\"hljs-number inline\"\u003e16\u003c/span\u003e };\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e jsonString = \u003cspan class=\"hljs-title class_ inline\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003estringify\u003c/span\u003e(config);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003esetInterval(callback, interval)\u003c/code\u003e\u003c/strong\u003e: 设置定时器，每隔指定时间执行回调函数\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ecallback\u003c/code\u003e (function): 要执行的回调函数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003einterval\u003c/code\u003e (number): 时间间隔（毫秒）\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (number) 定时器ID，用于清除定时器\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20timerId%20%3D%20setInterval(function()%20%7B%0Aconsole.log('%E6%AF%8F%E7%A7%92%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1')%3B%0A%7D%2C%201000)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e timerId = \u003cspan class=\"hljs-built_in inline\"\u003esetInterval\u003c/span\u003e(\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;每秒执行一次\u0026#x27;\u003c/span\u003e);\n}, \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eclearInterval(intervalId)\u003c/code\u003e\u003c/strong\u003e: 清除定时器\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eintervalId\u003c/code\u003e (number): 定时器ID\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: 无\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"clearInterval(timerId)%3B%20%2F%2F%20%E6%B8%85%E9%99%A4%E5%AE%9A%E6%97%B6%E5%99%A8\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-built_in inline\"\u003eclearInterval\u003c/span\u003e(timerId); \u003cspan class=\"hljs-comment inline\"\u003e// 清除定时器\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003esetTimeout(callback, delay)\u003c/code\u003e\u003c/strong\u003e: 设置延时执行\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ecallback\u003c/code\u003e (function): 要执行的回调函数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003edelay\u003c/code\u003e (number): 延迟时间（毫秒）\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (number) 定时器ID\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20timeoutId%20%3D%20setTimeout(function()%20%7B%0Aconsole.log('3%E7%A7%92%E5%90%8E%E6%89%A7%E8%A1%8C')%3B%0A%7D%2C%203000)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e timeoutId = \u003cspan class=\"hljs-built_in inline\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;3秒后执行\u0026#x27;\u003c/span\u003e);\n}, \u003cspan class=\"hljs-number inline\"\u003e3000\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"正则表达式\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#正则表达式\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 正则表达式\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            正则表达式\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.replace(regex, replacement)\u003c/code\u003e\u003c/strong\u003e: 使用正则表达式替换字符串内容\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eregex\u003c/code\u003e (RegExp): 正则表达式对象\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ereplacement\u003c/code\u003e (string | function): 替换字符串或替换函数\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (string) 替换后的新字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20html%20%3D%20'graph'%3B%0Aconst%20clean%20%3D%20html.replace(%2F%5D*%3E(.*%3F)%2Fgi%2C%20'%241')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e html = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;graph\u0026lt;/span\u0026gt;\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e clean = html.\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026lt;span[^\u0026gt;]*\u0026gt;(.*?)\u0026lt;\\/span\u0026gt;/gi\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;$1\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.match(regex)\u003c/code\u003e\u003c/strong\u003e: 使用正则表达式匹配字符串\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eregex\u003c/code\u003e (RegExp): 正则表达式对象\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (Array | null) 匹配结果数组，无匹配时返回null\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20matches%20%3D%20topic.match(%2F%2Fg)%3B%0Aconst%20count%20%3D%20matches%20%3F%20matches.length%20%3A%200%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e matches = topic.\u003cspan class=\"hljs-title function_ inline\"\u003ematch\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026lt;span class=\u0026quot;katex\u0026quot;\u0026gt;/g\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e count = matches ? matches.\u003cspan class=\"hljs-property inline\"\u003elength\u003c/span\u003e : \u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.includes(substring)\u003c/code\u003e\u003c/strong\u003e: 检查字符串是否包含子字符串\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esubstring\u003c/code\u003e (string): 要搜索的子字符串\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (boolean) 是否包含指定子字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20hasSvg%20%3D%20content.includes(')%3B%0Aconst%20isGraph%20%3D%20content.includes('graph')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e hasSvg = content.\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;svg\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e isGraph = content.\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;graph\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.toLowerCase()\u003c/code\u003e\u003c/strong\u003e: 将字符串转换为小写\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e: 无\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (string) 转换为小写的新字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20lowerType%20%3D%20type.toLowerCase()%3B%0Aconst%20comparison%20%3D%20content.toLowerCase().includes('flowchart')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e lowerType = type.\u003cspan class=\"hljs-title function_ inline\"\u003etoLowerCase\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e comparison = content.\u003cspan class=\"hljs-title function_ inline\"\u003etoLowerCase\u003c/span\u003e().\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;flowchart\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.substring(start, end)\u003c/code\u003e\u003c/strong\u003e: 提取字符串的子串\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003estart\u003c/code\u003e (number): 起始位置索引\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eend\u003c/code\u003e (number): 结束位置索引（可选，不包含该位置）\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (string) 提取的子字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20preview%20%3D%20content.substring(0%2C%2050)%3B%0Aconst%20randomStr%20%3D%20Math.random().toString(36).substring(2%2C%209)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e preview = content.\u003cspan class=\"hljs-title function_ inline\"\u003esubstring\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number inline\"\u003e50\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e randomStr = \u003cspan class=\"hljs-title class_ inline\"\u003eMath\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003erandom\u003c/span\u003e().\u003cspan class=\"hljs-title function_ inline\"\u003etoString\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e36\u003c/span\u003e).\u003cspan class=\"hljs-title function_ inline\"\u003esubstring\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number inline\"\u003e9\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.trim()\u003c/code\u003e\u003c/strong\u003e: 去除字符串首尾空白字符\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e: 无\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (string) 去除首尾空白后的新字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20cleanContent%20%3D%20mermaidContent.trim()%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e cleanContent = mermaidContent.\u003cspan class=\"hljs-title function_ inline\"\u003etrim\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"mermaid-库函数\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#mermaid-库函数\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Mermaid 库函数\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Mermaid 库函数\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003emermaid.initialize(config)\u003c/code\u003e\u003c/strong\u003e: 初始化Mermaid库配置\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003econfig\u003c/code\u003e (Object): 配置对象，包含以下可选属性：\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003etheme\u003c/code\u003e (string): 主题名称，如’default’、’dark’、’forest’等\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003estartOnLoad\u003c/code\u003e (boolean): 是否在页面加载时自动开始渲染\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esecurityLevel\u003c/code\u003e (string): 安全级别，’strict’、’loose’、’sandbox’\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003efontFamily\u003c/code\u003e (string): 字体族名称\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003efontSize\u003c/code\u003e (number): 字体大小\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eflowchart\u003c/code\u003e (Object): 流程图特定配置\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esequence\u003c/code\u003e (Object): 序列图特定配置\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: 无\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96Mermaid%E5%BA%93%E9%85%8D%E7%BD%AE%0Amermaid.initialize(%7B%0Atheme%3A%20'dark'%2C%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E4%BD%BF%E7%94%A8%E6%9A%97%E8%89%B2%E4%B8%BB%E9%A2%98%0AstartOnLoad%3A%20false%2C%20%20%20%20%20%2F%2F%20%E4%B8%8D%E8%87%AA%E5%8A%A8%E5%BC%80%E5%A7%8B%E6%B8%B2%E6%9F%93%0AsecurityLevel%3A%20'loose'%2C%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%AB%E4%B8%BA%E5%AE%BD%E6%9D%BE%0AfontFamily%3A%20'arial'%2C%20%20%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%AD%97%E4%BD%93%E4%B8%BAArial%0AfontSize%3A%2016%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F%E4%B8%BA16px%0A%7D)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 初始化Mermaid库配置\u003c/span\u003e\nmermaid.\u003cspan class=\"hljs-title function_ inline\"\u003einitialize\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr inline\"\u003etheme\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;dark\u0026#x27;\u003c/span\u003e,          \u003cspan class=\"hljs-comment inline\"\u003e// 使用暗色主题\u003c/span\u003e\n  \u003cspan class=\"hljs-attr inline\"\u003estartOnLoad\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e,     \u003cspan class=\"hljs-comment inline\"\u003e// 不自动开始渲染\u003c/span\u003e\n  \u003cspan class=\"hljs-attr inline\"\u003esecurityLevel\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;loose\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-comment inline\"\u003e// 设置安全级别为宽松\u003c/span\u003e\n  \u003cspan class=\"hljs-attr inline\"\u003efontFamily\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;arial\u0026#x27;\u003c/span\u003e,    \u003cspan class=\"hljs-comment inline\"\u003e// 设置字体为Arial\u003c/span\u003e\n  \u003cspan class=\"hljs-attr inline\"\u003efontSize\u003c/span\u003e: \u003cspan class=\"hljs-number inline\"\u003e16\u003c/span\u003e            \u003cspan class=\"hljs-comment inline\"\u003e// 设置字体大小为16px\u003c/span\u003e\n});\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003emermaid.render(id, definition, element)\u003c/code\u003e\u003c/strong\u003e: 渲染Mermaid图表\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eid\u003c/code\u003e (string): 图表的唯一标识符\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003edefinition\u003c/code\u003e (string): Mermaid图表定义代码\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eelement\u003c/code\u003e (Element): 用于渲染的DOM元素（可选）\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: Promise\u003cObject\u003e 解析为包含SVG的结果对象\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esvg\u003c/code\u003e (string): 渲染后的SVG字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ebindFunctions\u003c/code\u003e (function): 绑定交互函数（可选）\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E6%B8%B2%E6%9F%93%E7%AE%80%E5%8D%95%E7%9A%84%E6%B5%81%E7%A8%8B%E5%9B%BE%0Aconst%20result%20%3D%20await%20mermaid.render('graph-1'%2C%20'graph%20TD%3B%20A--%3EB')%3B%0Aconst%20svgString%20%3D%20result.svg%3B%20%20%2F%2F%20%E8%8E%B7%E5%8F%96SVG%E5%AD%97%E7%AC%A6%E4%B8%B2%0A%2F%2F%20%E5%9C%A8%E4%B8%B4%E6%97%B6%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%B8%B2%E6%9F%93%0Aconst%20tempDiv%20%3D%20document.createElement('div')%3B%0Aconst%20result2%20%3D%20await%20mermaid.render('graph-2'%2C%20'flowchart%20LR%3B%20C--%3ED'%2C%20tempDiv)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 渲染简单的流程图\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e result = \u003cspan class=\"hljs-keyword inline\"\u003eawait\u003c/span\u003e mermaid.\u003cspan class=\"hljs-title function_ inline\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;graph-1\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;graph TD; A--\u0026gt;B\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e svgString = result.\u003cspan class=\"hljs-property inline\"\u003esvg\u003c/span\u003e;  \u003cspan class=\"hljs-comment inline\"\u003e// 获取SVG字符串\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 在临时容器中渲染\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e tempDiv = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;div\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e result2 = \u003cspan class=\"hljs-keyword inline\"\u003eawait\u003c/span\u003e mermaid.\u003cspan class=\"hljs-title function_ inline\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;graph-2\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;flowchart LR; C--\u0026gt;D\u0026#x27;\u003c/span\u003e, tempDiv);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"数组方法\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#数组方法\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 数组方法\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            数组方法\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003earray.some(callback)\u003c/code\u003e\u003c/strong\u003e: 检查数组中是否至少有一个元素满足条件\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e形参\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ecallback\u003c/code\u003e (function): 测试函数，接收三个参数：\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eelement\u003c/code\u003e (any): 当前元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eindex\u003c/code\u003e (number): 当前索引（可选）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003earray\u003c/code\u003e (Array): 原数组（可选）\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e: (boolean) 是否存在满足条件的元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e使用示例\u003c/strong\u003e:\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20%E5%AE%9A%E4%B9%89%E6%9C%89%E6%95%88%E7%9A%84Mermaid%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B%0Aconst%20validMermaidTypes%20%3D%20%5B'graph'%2C%20'flowchart'%2C%20'sequence'%5D%3B%0A%2F%2F%20%E6%A3%80%E6%9F%A5%E5%86%85%E5%AE%B9%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E6%9C%89%E6%95%88%E7%9A%84%E5%9B%BE%E8%A1%A8%E7%B1%BB%E5%9E%8B%0Aconst%20isValid%20%3D%20validMermaidTypes.some(function(type)%20%7B%0Areturn%20content.toLowerCase().includes(type.toLowerCase())%3B%0A%7D)%3B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E7%9A%84%E7%AE%80%E5%8C%96%E5%86%99%E6%B3%95%0Aconst%20hasGraph%20%3D%20types.some(type%20%3D%3E%20type%20%3D%3D%3D%20'graph')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 定义有效的Mermaid图表类型\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e validMermaidTypes = [\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;graph\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;flowchart\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;sequence\u0026#x27;\u003c/span\u003e];\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 检查内容是否包含任何有效的图表类型\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e isValid = validMermaidTypes.\u003cspan class=\"hljs-title function_ inline\"\u003esome\u003c/span\u003e(\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003etype\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e content.\u003cspan class=\"hljs-title function_ inline\"\u003etoLowerCase\u003c/span\u003e().\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(type.\u003cspan class=\"hljs-title function_ inline\"\u003etoLowerCase\u003c/span\u003e());\n});\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 使用箭头函数的简化写法\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e hasGraph = types.\u003cspan class=\"hljs-title function_ inline\"\u003esome\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003etype\u003c/span\u003e =\u0026gt;\u003c/span\u003e type === \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;graph\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr class=\"border-0 h-px bg-gray-300 my-8\"\u003e\n\u003ch2 id=\"indexjs-代码逐行解析\" class=\"group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight\"\u003e\n            \u003ca href=\"#indexjs-代码逐行解析\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to index.js 代码逐行解析\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            index.js 代码逐行解析\n        \u003c/h2\u003e\n\u003ch3 id=\"文件开头和模块声明\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#文件开头和模块声明\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 文件开头和模块声明\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            文件开头和模块声明\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%22use%20strict%22%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-meta inline\"\u003e\u0026quot;use strict\u0026quot;\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第1行\u003c/strong\u003e: 使用严格模式，确保代码在严格的 JavaScript 环境中运行，有助于捕获常见的编程错误和提高代码质量。\u003c/p\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F**%0A*%20Plugin%20for%20Remarkable%20Markdown%20processor%20which%20transforms%20mermaid%20code%20blocks%20into%20Mermaid%20diagrams.%0A*%20Works%20as%20a%20post-processor%20on%20HTML%20content%20when%20html%3A%20true%20is%20enabled.%0A*%2F\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e/**\n * Plugin for Remarkable Markdown processor which transforms mermaid code blocks into Mermaid diagrams.\n * Works as a post-processor on HTML content when html: true is enabled.\n */\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第3-6行\u003c/strong\u003e: JSDoc 注释，描述了这个插件的作用和工作原理：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e为 Remarkable Markdown 处理器提供插件功能\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e将 mermaid 代码块转换为 Mermaid 图表\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e作为后处理器工作，在 HTML 内容上进行二次处理\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"主函数定义\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#主函数定义\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 主函数定义\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            主函数定义\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20rmermaid%20%3D%20(md%2C%20options)%20%3D%3E%20%7B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ermermaid\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003emd, options\u003c/span\u003e) =\u0026gt; {\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第7行\u003c/strong\u003e: 定义主函数 \u003ccode\u003ermermaid\u003c/code\u003e，这是插件的入口点，接受两个参数：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003emd\u003c/code\u003e: Remarkable 实例对象，提供 Markdown 处理功能\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eoptions\u003c/code\u003e: 配置选项对象，包含插件的各种设置参数\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"工具函数导入\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#工具函数导入\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 工具函数导入\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            工具函数导入\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Import%20HTML%20processing%20utilities%0Aconst%20%7B%20processMermaidInHTML%20%7D%20%3D%20require('.%2Fmermaid-utils')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e  \u003cspan class=\"hljs-comment inline\"\u003e// Import HTML processing utilities\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e { processMermaidInHTML } = \u003cspan class=\"hljs-built_in inline\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;./mermaid-utils\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第8-9行\u003c/strong\u003e: 导入 HTML 处理工具函数：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003erequire('./mermaid-utils')\u003c/code\u003e\u003c/strong\u003e: Node.js模块加载函数，使用相对路径导入同目录下的mermaid-utils.js文件\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e解构赋值\u003c/strong\u003e: 从mermaid-utils模块中提取processMermaidInHTML函数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eprocessMermaidInHTML\u003c/code\u003e: 核心处理函数，负责在HTML内容中查找和转换mermaid代码块\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"渲染方法重写\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#渲染方法重写\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 渲染方法重写\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            渲染方法重写\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Override%20the%20render%20method%20to%20post-process%20HTML%20content%0Aconst%20originalRender%20%3D%20md.render%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e  \u003cspan class=\"hljs-comment inline\"\u003e// Override the render method to post-process HTML content\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e originalRender = md.\u003cspan class=\"hljs-property inline\"\u003erender\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第11-12行\u003c/strong\u003e: 保存原始的渲染方法：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003emd.render\u003c/code\u003e\u003c/strong\u003e: Remarkable实例的核心渲染方法，将Markdown文本转换为HTML\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eoriginalRender\u003c/code\u003e: 保存原始渲染方法的引用，以便在后续的自定义渲染中调用\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"md.render%20%3D%20function(src%2C%20env)%20%7B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e  md.\u003cspan class=\"hljs-property inline\"\u003erender\u003c/span\u003e = \u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003esrc, env\u003c/span\u003e) {\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第13行\u003c/strong\u003e: 重写Remarkable实例的render方法，使用函数表达式而非箭头函数以确保正确的this上下文：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esrc\u003c/code\u003e: 输入的Markdown源文本字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eenv\u003c/code\u003e: 渲染环境对象（可选），包含渲染上下文信息\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20First%2C%20let%20Remarkable%20do%20its%20normal%20rendering%0Alet%20htmlContent%20%3D%20originalRender.call(this%2C%20src%2C%20env)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-comment inline\"\u003e// First, let Remarkable do its normal rendering\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003elet\u003c/span\u003e htmlContent = originalRender.\u003cspan class=\"hljs-title function_ inline\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_ inline\"\u003ethis\u003c/span\u003e, src, env);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第14-15行\u003c/strong\u003e: 执行原始的Markdown渲染：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eoriginalRender.call(this, src, env)\u003c/code\u003e\u003c/strong\u003e: JavaScript函数调用方法，确保原始渲染方法在正确的上下文中执行\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ethis\u003c/code\u003e: 当前的Remarkable实例对象\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esrc, env\u003c/code\u003e: 传递给原始渲染方法的参数\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ehtmlContent\u003c/code\u003e: 存储Remarkable标准渲染流程产生的HTML内容\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Then%2C%20post-process%20the%20HTML%20to%20transform%20mermaid%20code%20blocks%0AhtmlContent%20%3D%20processMermaidInHTML(htmlContent%2C%20options)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-comment inline\"\u003e// Then, post-process the HTML to transform mermaid code blocks\u003c/span\u003e\n    htmlContent = \u003cspan class=\"hljs-title function_ inline\"\u003eprocessMermaidInHTML\u003c/span\u003e(htmlContent, options);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第17-18行\u003c/strong\u003e: 对HTML内容进行后处理：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eprocessMermaidInHTML(htmlContent, options)\u003c/code\u003e\u003c/strong\u003e: 调用工具函数处理HTML内容\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ehtmlContent\u003c/code\u003e: 经过Remarkable标准渲染的HTML字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eoptions\u003c/code\u003e: 插件配置选项，传递给处理函数\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e返回值: 经过mermaid处理的HTML内容，其中mermaid代码块被转换为可渲染的图表容器\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"return%20htmlContent%3B%0A%7D%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e htmlContent;\n  };\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第20-21行\u003c/strong\u003e: 返回处理后的HTML内容并结束函数定义。\u003c/p\u003e\n\u003ch3 id=\"模块导出\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#模块导出\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 模块导出\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            模块导出\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%7D%3B%0Amodule.exports%20%3D%20rmermaid%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e};\n\n\u003cspan class=\"hljs-variable language_ inline\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eexports\u003c/span\u003e = rmermaid;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第22-24行\u003c/strong\u003e: 结束主函数定义并导出模块：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e};\u003c/code\u003e: 结束rmermaid函数定义\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003emodule.exports\u003c/code\u003e\u003c/strong\u003e: Node.js模块导出机制，使rmermaid函数可被其他模块通过require()导入使用\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr class=\"border-0 h-px bg-gray-300 my-8\"\u003e\n\u003ch2 id=\"mermaid-utilsjs-代码逐行解析\" class=\"group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight\"\u003e\n            \u003ca href=\"#mermaid-utilsjs-代码逐行解析\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to mermaid-utils.js 代码逐行解析\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            mermaid-utils.js 代码逐行解析\n        \u003c/h2\u003e\n\u003ch3 id=\"文件头部注释\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#文件头部注释\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 文件头部注释\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            文件头部注释\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F**%0A*%20Utility%20functions%20for%20processing%20Mermaid%20diagrams%20in%20Remarkable%0A*%2F\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e/**\n * Utility functions for processing Mermaid diagrams in Remarkable\n */\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第1-3行\u003c/strong\u003e: 文件说明注释，描述了这个工具文件的用途。\u003c/p\u003e\n\u003ch3 id=\"wrapwithdiv-函数\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#wrapwithdiv-函数\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to wrapWithDiv 函数\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            wrapWithDiv 函数\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F**%0A*%20Wrap%20Mermaid%20mermaidCode%20code%20with%20a%20div%20element%0A*%20%40param%20%7Bstring%7D%20mermaidCode%20-%20The%20Mermaid%20mermaidCode%20code%0A*%20%40returns%20%7Bstring%7D%20-%20HTML%20div%20for%20client-side%20rendering%0A*%2F%0Afunction%20wrapWithDiv(mermaidCode)%20%7B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e/**\n * Wrap Mermaid mermaidCode code with a div element\n * \u003cspan class=\"hljs-doctag inline\"\u003e@param\u003c/span\u003e {\u003cspan class=\"hljs-type inline\"\u003estring\u003c/span\u003e} \u003cspan class=\"hljs-variable inline\"\u003emermaidCode\u003c/span\u003e - The Mermaid mermaidCode code\n * \u003cspan class=\"hljs-doctag inline\"\u003e@returns\u003c/span\u003e {\u003cspan class=\"hljs-type inline\"\u003estring\u003c/span\u003e} - HTML div for client-side rendering\n */\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ewrapWithDiv\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003emermaidCode\u003c/span\u003e) {\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第5-10行\u003c/strong\u003e: 定义包装函数的JSDoc注释和函数声明：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e函数作用：将Mermaid代码包装在div元素中\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e参数：mermaidCode - Mermaid图表定义代码字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e返回值：用于客户端渲染的HTML div字符串\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"if%20(typeof%20mermaidCode%20!%3D%3D%20'string')%20%7B%0Areturn%20'Invalid%20Mermaid%20Code'%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword inline\"\u003etypeof\u003c/span\u003e mermaidCode !== \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;string\u0026#x27;\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;div class=\u0026quot;mermaid-error\u0026quot;\u0026gt;Invalid Mermaid Code\u0026lt;/div\u0026gt;\u0026#x27;\u003c/span\u003e;\n    }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第11-13行\u003c/strong\u003e: 输入验证：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003etypeof mermaidCode\u003c/code\u003e\u003c/strong\u003e: JavaScript操作符，检查变量的数据类型\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e如果输入不是字符串类型，返回错误提示的HTML div元素\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Generate%20a%20unique%20ID%20for%20this%20diagram%0Aconst%20diagramId%20%3D%20%60mermaid-%24%7BDate.now()%7D-%24%7BMath.random().toString(36).substring(2%2C%209)%7D%60%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-comment inline\"\u003e// Generate a unique ID for this diagram\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e diagramId = \u003cspan class=\"hljs-string inline\"\u003e`mermaid-\u003cspan class=\"hljs-subst inline\"\u003e${\u003cspan class=\"hljs-built_in inline\"\u003eDate\u003c/span\u003e.now()}\u003c/span\u003e-\u003cspan class=\"hljs-subst inline\"\u003e${\u003cspan class=\"hljs-built_in inline\"\u003eMath\u003c/span\u003e.random().toString(\u003cspan class=\"hljs-number inline\"\u003e36\u003c/span\u003e).substring(\u003cspan class=\"hljs-number inline\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number inline\"\u003e9\u003c/span\u003e)}\u003c/span\u003e`\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第15-16行\u003c/strong\u003e: 生成唯一的图表ID：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eDate.now()\u003c/code\u003e\u003c/strong\u003e: JavaScript内置方法，返回当前时间戳（毫秒）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eMath.random()\u003c/code\u003e\u003c/strong\u003e: 生成0到1之间的随机数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003e.toString(36)\u003c/code\u003e\u003c/strong\u003e: 将数字转换为36进制字符串（包含0-9和a-z）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003e.substring(2, 9)\u003c/code\u003e\u003c/strong\u003e: 提取字符串的第2到第9个字符（跳过\u0026quot;0.\u0026quot;前缀）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e组合生成类似\u0026quot;mermaid-1703123456789-abc123\u0026quot;的唯一ID\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"return%20%60%24%7BdiagramId%7D%22%3E%24%7BmermaidCode%7D%60%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string inline\"\u003e`\u0026lt;div class=\u0026quot;mermaid\u0026quot; id=\u0026quot;\u003cspan class=\"hljs-subst inline\"\u003e${diagramId}\u003c/span\u003e\u0026quot;\u0026gt;\u003cspan class=\"hljs-subst inline\"\u003e${mermaidCode}\u003c/span\u003e\u0026lt;/div\u0026gt;`\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第18行\u003c/strong\u003e: 返回包装后的HTML：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e使用模板字符串创建div元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eclass=\u0026quot;mermaid\u0026quot;\u003c/code\u003e: CSS类名，用于Mermaid库识别和渲染\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eid=\u0026quot;${diagramId}\u0026quot;\u003c/code\u003e: 唯一标识符，用于避免多个图表之间的冲突\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e${mermaidCode}\u003c/code\u003e: 嵌入原始的Mermaid代码\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"applymermaidstyling-函数\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#applymermaidstyling-函数\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to applyMermaidStyling 函数\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            applyMermaidStyling 函数\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F**%0A*%20Apply%20custom%20styling%20to%20Mermaid%20containers%0A*%20%40param%20%7Bstring%7D%20htmlContent%20-%20The%20HTML%20content%20to%20process%0A*%20%40param%20%7BObject%7D%20config%20-%20Configuration%20object%0A*%20%40returns%20%7Bstring%7D%20-%20Processed%20HTML%20content%0A*%2F%0Afunction%20applyMermaidStyling(htmlContent%2C%20config%20%3D%20%7B%7D)%20%7B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e/**\n * Apply custom styling to Mermaid containers\n * \u003cspan class=\"hljs-doctag inline\"\u003e@param\u003c/span\u003e {\u003cspan class=\"hljs-type inline\"\u003estring\u003c/span\u003e} \u003cspan class=\"hljs-variable inline\"\u003ehtmlContent\u003c/span\u003e - The HTML content to process\n * \u003cspan class=\"hljs-doctag inline\"\u003e@param\u003c/span\u003e {\u003cspan class=\"hljs-type inline\"\u003eObject\u003c/span\u003e} \u003cspan class=\"hljs-variable inline\"\u003econfig\u003c/span\u003e - Configuration object\n * \u003cspan class=\"hljs-doctag inline\"\u003e@returns\u003c/span\u003e {\u003cspan class=\"hljs-type inline\"\u003estring\u003c/span\u003e} - Processed HTML content\n */\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eapplyMermaidStyling\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003ehtmlContent, config = {}\u003c/span\u003e) {\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第21-27行\u003c/strong\u003e: 定义样式应用函数：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e参数：htmlContent - 要处理的HTML内容字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e参数：config - 配置对象，使用默认参数语法设置默认值为空对象\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e返回值：处理后的HTML内容\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"if%20(!htmlContent%20%7C%7C%20typeof%20htmlContent%20!%3D%3D%20'string')%20%7B%0Areturn%20htmlContent%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!htmlContent || \u003cspan class=\"hljs-keyword inline\"\u003etypeof\u003c/span\u003e htmlContent !== \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;string\u0026#x27;\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e htmlContent;\n    }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第28-30行\u003c/strong\u003e: 输入验证，确保htmlContent是有效的字符串。\u003c/p\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"let%20processedContent%20%3D%20htmlContent%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-keyword inline\"\u003elet\u003c/span\u003e processedContent = htmlContent;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第32行\u003c/strong\u003e: 创建处理内容的副本，避免直接修改原始输入。\u003c/p\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Add%20custom%20CSS%20classes%20if%20specified%0Aif%20(config.customClass)%20%7B%0AprocessedContent%20%3D%20processedContent.replace(%0A%2Fclass%3D%22mermaid%22%2Fg%2C%0A%60class%3D%22mermaid%20%24%7Bconfig.customClass%7D%22%60%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-comment inline\"\u003e// Add custom CSS classes if specified\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (config.\u003cspan class=\"hljs-property inline\"\u003ecustomClass\u003c/span\u003e) {\n        processedContent = processedContent.\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\n            \u003cspan class=\"hljs-regexp inline\"\u003e/class=\u0026quot;mermaid\u0026quot;/g\u003c/span\u003e,\n            \u003cspan class=\"hljs-string inline\"\u003e`class=\u0026quot;mermaid \u003cspan class=\"hljs-subst inline\"\u003e${config.customClass}\u003c/span\u003e\u0026quot;`\u003c/span\u003e\n        );\n    }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第34-39行\u003c/strong\u003e: 添加自定义CSS类：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e检查配置中是否指定了自定义类名\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.replace(regex, replacement)\u003c/code\u003e\u003c/strong\u003e: 使用正则表达式替换字符串内容\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003e/class=\u0026quot;mermaid\u0026quot;/g\u003c/code\u003e\u003c/strong\u003e: 全局正则表达式，匹配所有\u003ccode\u003eclass=\u0026quot;mermaid\u0026quot;\u003c/code\u003e的出现\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eg\u003c/code\u003e标志: 全局替换，替换所有匹配项而不是只替换第一个\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e在原有类名基础上添加自定义类名\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"return%20processedContent%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e processedContent;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第41行\u003c/strong\u003e: 返回处理后的内容。\u003c/p\u003e\n\u003ch3 id=\"addrenderingscript-函数\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#addrenderingscript-函数\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to addRenderingScript 函数\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            addRenderingScript 函数\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"function%20addRenderingScript(htmlContent%2C%20config)%20%7B%0Areturn%20htmlContent%20%2B%20%60\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eaddRenderingScript\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003ehtmlContent, config\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e htmlContent + \u003cspan class=\"hljs-string inline\"\u003e`\n\u0026lt;script src=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.3/mermaid.min.js\u0026quot; integrity=\u0026quot;sha512-HvxxeyPSnbU7/x0g15v3OMxTFeADyCUnCN3iCam3BDTxgFPKxa+ujRCbFuwjE8PASDwOH5LpzFfGGNWks7tuJQ==\u0026quot; crossorigin=\u0026quot;anonymous\u0026quot; referrerpolicy=\u0026quot;no-referrer\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第44-46行\u003c/strong\u003e: 定义脚本添加函数并开始添加Mermaid库：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e从CDN加载Mermaid 10.9.3版本\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eintegrity\u003c/code\u003e: SRI（子资源完整性）属性，确保脚本未被篡改\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ecrossorigin=\u0026quot;anonymous\u0026quot;\u003c/code\u003e: 跨域设置，以匿名方式加载资源\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ereferrerpolicy=\u0026quot;no-referrer\u0026quot;\u003c/code\u003e: 不发送referrer信息，提高隐私性\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"(function()%20%7B%0Aconst%20initializeMermaid%20%3D%20async%20function()%20%7B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u0026lt;script\u0026gt;\n(\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e initializeMermaid = \u003cspan class=\"hljs-keyword inline\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第47-49行\u003c/strong\u003e: 开始内联脚本，使用立即执行函数表达式（IIFE）和异步函数：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e立即执行函数表达式\u003c/strong\u003e: 避免全局变量污染\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003easync function\u003c/strong\u003e: 使用异步函数以支持await语法\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"try%20%7B%0A%2F%2F%20Configure%20mermaid%20with%20provided%20config%0Amermaid.initialize(%7B%0AstartOnLoad%3A%20%24%7Bconfig.startOnLoad%20%7C%7C%20false%7D%2C%0Atheme%3A%20'%24%7Bconfig.theme%7D'%2C%0AsecurityLevel%3A%20'%24%7Bconfig.securityLevel%7D'%2C%0AfontFamily%3A%20'%24%7Bconfig.fontFamily%7D'%2C%0AfontSize%3A%20%24%7Bconfig.fontSize%7D%2C%0Aflowchart%3A%20%24%7BJSON.stringify(config.flowchart)%7D%2C%0Asequence%3A%20%24%7BJSON.stringify(config.sequence)%7D%2C%0Aclass%3A%20%24%7BJSON.stringify(config.class)%7D%2C%0AgitGraph%3A%20%24%7BJSON.stringify(config.gitGraph)%7D%0A%7D)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e            \u003cspan class=\"hljs-keyword inline\"\u003etry\u003c/span\u003e {\n                \u003cspan class=\"hljs-comment inline\"\u003e// Configure mermaid with provided config\u003c/span\u003e\n                mermaid.\u003cspan class=\"hljs-title function_ inline\"\u003einitialize\u003c/span\u003e({\n                    \u003cspan class=\"hljs-attr inline\"\u003estartOnLoad\u003c/span\u003e: ${config.\u003cspan class=\"hljs-property inline\"\u003estartOnLoad\u003c/span\u003e || \u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e},\n                    \u003cspan class=\"hljs-attr inline\"\u003etheme\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;${config.theme}\u0026#x27;\u003c/span\u003e,\n                    \u003cspan class=\"hljs-attr inline\"\u003esecurityLevel\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;${config.securityLevel}\u0026#x27;\u003c/span\u003e,\n                    \u003cspan class=\"hljs-attr inline\"\u003efontFamily\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;${config.fontFamily}\u0026#x27;\u003c/span\u003e,\n                    \u003cspan class=\"hljs-attr inline\"\u003efontSize\u003c/span\u003e: ${config.\u003cspan class=\"hljs-property inline\"\u003efontSize\u003c/span\u003e},\n                    \u003cspan class=\"hljs-attr inline\"\u003eflowchart\u003c/span\u003e: ${\u003cspan class=\"hljs-title class_ inline\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003estringify\u003c/span\u003e(config.\u003cspan class=\"hljs-property inline\"\u003eflowchart\u003c/span\u003e)},\n                    \u003cspan class=\"hljs-attr inline\"\u003esequence\u003c/span\u003e: ${\u003cspan class=\"hljs-title class_ inline\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003estringify\u003c/span\u003e(config.\u003cspan class=\"hljs-property inline\"\u003esequence\u003c/span\u003e)},\n                    \u003cspan class=\"hljs-attr inline\"\u003eclass\u003c/span\u003e: ${\u003cspan class=\"hljs-title class_ inline\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003estringify\u003c/span\u003e(config.\u003cspan class=\"hljs-property inline\"\u003eclass\u003c/span\u003e)},\n                    \u003cspan class=\"hljs-attr inline\"\u003egitGraph\u003c/span\u003e: ${\u003cspan class=\"hljs-title class_ inline\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003estringify\u003c/span\u003e(config.\u003cspan class=\"hljs-property inline\"\u003egitGraph\u003c/span\u003e)}\n                });\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第50-62行\u003c/strong\u003e: 初始化Mermaid配置：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003emermaid.initialize()\u003c/code\u003e\u003c/strong\u003e: Mermaid库的初始化方法，设置全局配置\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e模板字符串插值\u003c/strong\u003e: 使用${}语法将配置值插入到生成的脚本中\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eJSON.stringify()\u003c/code\u003e\u003c/strong\u003e: 将JavaScript对象转换为JSON字符串，确保复杂对象正确序列化\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e配置项说明：\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003estartOnLoad\u003c/code\u003e: 是否在页面加载时自动开始渲染\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003etheme\u003c/code\u003e: 主题设置（如’default’, 'dark’等）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003esecurityLevel\u003c/code\u003e: 安全级别设置\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003efontFamily\u003c/code\u003e: 字体族设置\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003efontSize\u003c/code\u003e: 字体大小设置\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eflowchart\u003c/code\u003e, \u003ccode\u003esequence\u003c/code\u003e, \u003ccode\u003eclass\u003c/code\u003e, \u003ccode\u003egitGraph\u003c/code\u003e: 各种图表类型的特定配置\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Find%20all%20mermaid%20divs%20and%20render%20them%0Aconst%20mermaidDivs%20%3D%20document.querySelectorAll('.mermaid')%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                \u003cspan class=\"hljs-comment inline\"\u003e// Find all mermaid divs and render them\u003c/span\u003e\n                \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e mermaidDivs = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003equerySelectorAll\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;.mermaid\u0026#x27;\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第64-65行\u003c/strong\u003e: 查找所有Mermaid容器：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003edocument.querySelectorAll('.mermaid')\u003c/code\u003e\u003c/strong\u003e: DOM API方法，根据CSS选择器查找所有匹配的元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e返回NodeList对象，包含所有class为\u0026quot;mermaid\u0026quot;的div元素\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"for%20(let%20i%20%3D%200%3B%20i%20length%3B%20i%2B%2B)%20%7B%0Aconst%20div%20%3D%20mermaidDivs%5Bi%5D%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                \u003cspan class=\"hljs-keyword inline\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword inline\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e; i \u0026lt; mermaidDivs.\u003cspan class=\"hljs-property inline\"\u003elength\u003c/span\u003e; i++) {\n                    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e div = mermaidDivs[i];\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第67-68行\u003c/strong\u003e: 遍历所有找到的Mermaid容器：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e使用传统for循环而不是forEach，以便更好地控制异步操作\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e获取当前处理的div元素\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Get%20clean%20text%20content%2C%20avoiding%20any%20HTML%20that%20might%20be%20mixed%20in%0Alet%20mermaidContent%20%3D%20div.textContent%20%7C%7C%20div.innerText%20%7C%7C%20''%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                    \u003cspan class=\"hljs-comment inline\"\u003e// Get clean text content, avoiding any HTML that might be mixed in\u003c/span\u003e\n                    \u003cspan class=\"hljs-keyword inline\"\u003elet\u003c/span\u003e mermaidContent = div.\u003cspan class=\"hljs-property inline\"\u003etextContent\u003c/span\u003e || div.\u003cspan class=\"hljs-property inline\"\u003einnerText\u003c/span\u003e || \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第70-71行\u003c/strong\u003e: 提取纯文本内容：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003ediv.textContent\u003c/code\u003e\u003c/strong\u003e: 获取元素的文本内容（不包含HTML标签）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003ediv.innerText\u003c/code\u003e\u003c/strong\u003e: 获取元素的可见文本内容（考虑CSS显示效果）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e使用逻辑或操作符提供后备选项\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Clean%20up%20the%20content%20-%20remove%20any%20extra%20whitespace%20and%20HTML%20artifacts%0AmermaidContent%20%3D%20mermaidContent.trim()%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                    \u003cspan class=\"hljs-comment inline\"\u003e// Clean up the content - remove any extra whitespace and HTML artifacts\u003c/span\u003e\n                    mermaidContent = mermaidContent.\u003cspan class=\"hljs-title function_ inline\"\u003etrim\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第73-74行\u003c/strong\u003e: 清理内容：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.trim()\u003c/code\u003e\u003c/strong\u003e: 去除字符串首尾的空白字符（空格、制表符、换行符等）\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Skip%20if%20content%20is%20empty%20or%20contains%20HTML%20tags%20(already%20processed)%0Aif%20(!mermaidContent%20%7C%7C%20mermaidContent.includes(')%20%7C%7C%20mermaidContent.includes('))%20%7B%0Acontinue%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                    \u003cspan class=\"hljs-comment inline\"\u003e// Skip if content is empty or contains HTML tags (already processed)\u003c/span\u003e\n                    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!mermaidContent || mermaidContent.\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;svg\u0026#x27;\u003c/span\u003e) || mermaidContent.\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;path\u0026#x27;\u003c/span\u003e)) {\n                        \u003cspan class=\"hljs-keyword inline\"\u003econtinue\u003c/span\u003e;\n                    }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第76-79行\u003c/strong\u003e: 跳过空内容或已处理的内容：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e检查内容是否为空\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.includes(substring)\u003c/code\u003e\u003c/strong\u003e: 检查字符串是否包含指定的子字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e如果包含\u003ccode\u003e\u0026lt;svg\u003c/code\u003e或\u003ccode\u003e\u0026lt;path\u003c/code\u003e标签，说明已经被渲染过，跳过处理\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Validate%20that%20this%20is%20actually%20mermaid%20content%0Aconst%20validMermaidTypes%20%3D%20%5B'graph'%2C%20'flowchart'%2C%20'sequenceDiagram'%2C%20'classDiagram'%2C%20'stateDiagram'%2C%20'erDiagram'%2C%20'journey'%2C%20'gantt'%2C%20'pie'%2C%20'gitgraph'%2C%20'mindmap'%2C%20'timeline'%5D%3B%0Aconst%20isValidMermaid%20%3D%20validMermaidTypes.some(function(type)%20%7B%0Areturn%20mermaidContent.toLowerCase().includes(type.toLowerCase())%3B%0A%7D)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                    \u003cspan class=\"hljs-comment inline\"\u003e// Validate that this is actually mermaid content\u003c/span\u003e\n                    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e validMermaidTypes = [\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;graph\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;flowchart\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;sequenceDiagram\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;classDiagram\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;stateDiagram\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;erDiagram\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;journey\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;gantt\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;pie\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;gitgraph\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;mindmap\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;timeline\u0026#x27;\u003c/span\u003e];\n                    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e isValidMermaid = validMermaidTypes.\u003cspan class=\"hljs-title function_ inline\"\u003esome\u003c/span\u003e(\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003etype\u003c/span\u003e) {\n                        \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e mermaidContent.\u003cspan class=\"hljs-title function_ inline\"\u003etoLowerCase\u003c/span\u003e().\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(type.\u003cspan class=\"hljs-title function_ inline\"\u003etoLowerCase\u003c/span\u003e());\n                    });\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第81-85行\u003c/strong\u003e: 验证是否为有效的Mermaid内容：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e定义有效的Mermaid图表类型数组\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003earray.some(callback)\u003c/code\u003e\u003c/strong\u003e: 数组方法，检查是否至少有一个元素满足条件\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.toLowerCase()\u003c/code\u003e\u003c/strong\u003e: 将字符串转换为小写，用于大小写不敏感的比较\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e检查内容是否包含任何有效的Mermaid图表类型关键词\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"if%20(!isValidMermaid)%20%7B%0Aconsole.warn('Skipping%20non-mermaid%20content%3A'%2C%20mermaidContent.substring(0%2C%2050)%20%2B%20'...')%3B%0Acontinue%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!isValidMermaid) {\n                        \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ewarn\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Skipping non-mermaid content:\u0026#x27;\u003c/span\u003e, mermaidContent.\u003cspan class=\"hljs-title function_ inline\"\u003esubstring\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number inline\"\u003e50\u003c/span\u003e) + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;...\u0026#x27;\u003c/span\u003e);\n                        \u003cspan class=\"hljs-keyword inline\"\u003econtinue\u003c/span\u003e;\n                    }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第87-90行\u003c/strong\u003e: 跳过非Mermaid内容：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e如果内容不是有效的Mermaid代码，输出警告信息\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003econsole.warn()\u003c/code\u003e\u003c/strong\u003e: 在控制台输出警告信息\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.substring(start, end)\u003c/code\u003e\u003c/strong\u003e: 提取字符串的子串，这里取前50个字符用于日志显示\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"try%20%7B%0A%2F%2F%20Ensure%20the%20div%20is%20properly%20mounted%20and%20visible%0Aif%20(!div.offsetParent%20%26%26%20div.style.display%20!%3D%3D%20'none')%20%7B%0Adiv.style.display%20%3D%20'block'%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                    \u003cspan class=\"hljs-keyword inline\"\u003etry\u003c/span\u003e {\n                        \u003cspan class=\"hljs-comment inline\"\u003e// Ensure the div is properly mounted and visible\u003c/span\u003e\n                        \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!div.\u003cspan class=\"hljs-property inline\"\u003eoffsetParent\u003c/span\u003e \u0026amp;\u0026amp; div.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003edisplay\u003c/span\u003e !== \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;none\u0026#x27;\u003c/span\u003e) {\n                            div.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003edisplay\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;block\u0026#x27;\u003c/span\u003e;\n                        }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第92-96行\u003c/strong\u003e: 确保div元素正确挂载和可见：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003ediv.offsetParent\u003c/code\u003e\u003c/strong\u003e: DOM属性，如果元素不可见或未挂载则为null\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003ediv.style.display\u003c/code\u003e\u003c/strong\u003e: 元素的显示样式属性\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e如果元素不可见且不是显式隐藏，则设置为块级显示\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Create%20a%20temporary%20container%20to%20avoid%20DOM%20issues%0Aconst%20tempContainer%20%3D%20document.createElement('div')%3B%0AtempContainer.style.width%20%3D%20'100%25'%3B%0AtempContainer.style.height%20%3D%20'auto'%3B%0AtempContainer.style.visibility%20%3D%20'hidden'%3B%0AtempContainer.style.position%20%3D%20'absolute'%3B%0AtempContainer.style.top%20%3D%20'-9999px'%3B%0Adocument.body.appendChild(tempContainer)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                        \u003cspan class=\"hljs-comment inline\"\u003e// Create a temporary container to avoid DOM issues\u003c/span\u003e\n                        \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e tempContainer = \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;div\u0026#x27;\u003c/span\u003e);\n                        tempContainer.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003ewidth\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;100%\u0026#x27;\u003c/span\u003e;\n                        tempContainer.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eheight\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;auto\u0026#x27;\u003c/span\u003e;\n                        tempContainer.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evisibility\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;hidden\u0026#x27;\u003c/span\u003e;\n                        tempContainer.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eposition\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;absolute\u0026#x27;\u003c/span\u003e;\n                        tempContainer.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003etop\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;-9999px\u0026#x27;\u003c/span\u003e;\n                        \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003ebody\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eappendChild\u003c/span\u003e(tempContainer);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第98-105行\u003c/strong\u003e: 创建临时容器避免DOM问题：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003edocument.createElement('div')\u003c/code\u003e\u003c/strong\u003e: 创建新的div元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e设置临时容器的样式：\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ewidth: '100%'\u003c/code\u003e: 宽度占满父容器\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eheight: 'auto'\u003c/code\u003e: 高度自动\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003evisibility: 'hidden'\u003c/code\u003e: 隐藏但保留布局空间\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eposition: 'absolute'\u003c/code\u003e: 绝对定位\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003etop: '-9999px'\u003c/code\u003e: 移出可视区域\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003edocument.body.appendChild()\u003c/code\u003e\u003c/strong\u003e: 将临时容器添加到页面中\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Generate%20unique%20ID%20for%20this%20diagram%0Aconst%20id%20%3D%20'mermaid-render-'%20%2B%20Date.now()%20%2B%20'-'%20%2B%20i%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                        \u003cspan class=\"hljs-comment inline\"\u003e// Generate unique ID for this diagram\u003c/span\u003e\n                        \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e id = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;mermaid-render-\u0026#x27;\u003c/span\u003e + \u003cspan class=\"hljs-title class_ inline\"\u003eDate\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003enow\u003c/span\u003e() + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;-\u0026#x27;\u003c/span\u003e + i;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第107-108行\u003c/strong\u003e: 生成渲染用的唯一ID：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e结合时间戳和循环索引创建唯一标识符\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e用于Mermaid渲染时的内部标识\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Use%20mermaid%20v10%2B%20async%20API%20with%20proper%20DOM%20context%0Aconst%20result%20%3D%20await%20mermaid.render(id%2C%20mermaidContent%2C%20tempContainer)%3B%0Aconst%20svg%20%3D%20result.svg%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                        \u003cspan class=\"hljs-comment inline\"\u003e// Use mermaid v10+ async API with proper DOM context\u003c/span\u003e\n                        \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e result = \u003cspan class=\"hljs-keyword inline\"\u003eawait\u003c/span\u003e mermaid.\u003cspan class=\"hljs-title function_ inline\"\u003erender\u003c/span\u003e(id, mermaidContent, tempContainer);\n                        \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e svg = result.\u003cspan class=\"hljs-property inline\"\u003esvg\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第110-112行\u003c/strong\u003e: 使用Mermaid异步API渲染图表：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eawait mermaid.render()\u003c/code\u003e\u003c/strong\u003e: 调用Mermaid的异步渲染方法\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eid\u003c/code\u003e: 图表的唯一标识符\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003emermaidContent\u003c/code\u003e: 要渲染的Mermaid代码\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003etempContainer\u003c/code\u003e: 临时DOM容器\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eresult.svg\u003c/code\u003e\u003c/strong\u003e: 从渲染结果中提取SVG字符串\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Remove%20temporary%20container%0Adocument.body.removeChild(tempContainer)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                        \u003cspan class=\"hljs-comment inline\"\u003e// Remove temporary container\u003c/span\u003e\n                        \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003ebody\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eremoveChild\u003c/span\u003e(tempContainer);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第114-115行\u003c/strong\u003e: 移除临时容器：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003edocument.body.removeChild()\u003c/code\u003e\u003c/strong\u003e: 从DOM中移除临时容器元素\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Replace%20the%20div%20content%20with%20the%20SVG%0Adiv.innerHTML%20%3D%20svg%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                        \u003cspan class=\"hljs-comment inline\"\u003e// Replace the div content with the SVG\u003c/span\u003e\n                        div.\u003cspan class=\"hljs-property inline\"\u003einnerHTML\u003c/span\u003e = svg;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第117-118行\u003c/strong\u003e: 替换div内容：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003ediv.innerHTML\u003c/code\u003e\u003c/strong\u003e: 设置元素的HTML内容\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e将原始的Mermaid代码替换为渲染后的SVG图表\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%7D%20catch%20(renderError)%20%7B%0Aconsole.error('Error%20rendering%20mermaid%20diagram%3A'%2C%20renderError)%3B%0Aconsole.error('Content%20that%20failed%3A'%2C%20mermaidContent)%3B%0A%2F%2F%20Keep%20the%20original%20content%20if%20rendering%20fails%0Aconst%20errorMessage%20%3D%20renderError%20instanceof%20Error%20%3F%20renderError.message%20%3A%20String(renderError)%3B%0Adiv.innerHTML%20%3D%20''%20%2B%0A'Error%20rendering%20mermaid%20diagram%3A%20'%20%2B%20errorMessage%20%2B%20'%5C%5Cn%5C%5Cn'%20%2B%0A'Original%20content%3A%5C%5Cn'%20%2B%20mermaidContent%20%2B%20''%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                    } \u003cspan class=\"hljs-keyword inline\"\u003ecatch\u003c/span\u003e (renderError) {\n                        \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Error rendering mermaid diagram:\u0026#x27;\u003c/span\u003e, renderError);\n                        \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Content that failed:\u0026#x27;\u003c/span\u003e, mermaidContent);\n                        \u003cspan class=\"hljs-comment inline\"\u003e// Keep the original content if rendering fails\u003c/span\u003e\n                        \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e errorMessage = renderError \u003cspan class=\"hljs-keyword inline\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eError\u003c/span\u003e ? renderError.\u003cspan class=\"hljs-property inline\"\u003emessage\u003c/span\u003e : \u003cspan class=\"hljs-title class_ inline\"\u003eString\u003c/span\u003e(renderError);\n                        div.\u003cspan class=\"hljs-property inline\"\u003einnerHTML\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;pre style=\u0026quot;color: red; background: #fee; padding: 10px; border-radius: 4px;\u0026quot;\u0026gt;\u0026#x27;\u003c/span\u003e +\n                            \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Error rendering mermaid diagram: \u0026#x27;\u003c/span\u003e + errorMessage + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\\\\n\\\\n\u0026#x27;\u003c/span\u003e +\n                            \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Original content:\\\\n\u0026#x27;\u003c/span\u003e + mermaidContent + \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;/pre\u0026gt;\u0026#x27;\u003c/span\u003e;\n                    }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第120-128行\u003c/strong\u003e: 处理渲染错误：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003econsole.error()\u003c/code\u003e\u003c/strong\u003e: 在控制台输出错误信息\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003einstanceof Error\u003c/code\u003e\u003c/strong\u003e: 检查是否为Error对象实例\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eString(renderError)\u003c/code\u003e\u003c/strong\u003e: 将错误对象转换为字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e创建错误显示的HTML，包含：\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e红色文本和浅红色背景\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e错误消息\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e原始内容，帮助调试\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%7D%0A%7D%20catch%20(error)%20%7B%0Aconsole.error('Error%20initializing%20mermaid%3A'%2C%20error)%3B%0A%7D%0A%7D%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e                }\n            } \u003cspan class=\"hljs-keyword inline\"\u003ecatch\u003c/span\u003e (error) {\n                \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Error initializing mermaid:\u0026#x27;\u003c/span\u003e, error);\n            }\n        };\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第129-133行\u003c/strong\u003e: 处理整体初始化错误并结束initializeMermaid函数。\u003c/p\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Wait%20for%20DOM%20to%20be%20fully%20ready%20and%20ensure%20proper%20mounting%0Aconst%20timeoutId%20%3D%20setInterval(function()%20%7B%0A%2F%2F%20Check%20if%20mermaid%20is%20available%0Aif%20(typeof%20mermaid%20%3D%3D%3D%20'undefined')%20%7B%0Aconsole.warn('Mermaid%20library%20is%20not%20loaded%20yet.')%3B%0Areturn%3B%0A%7D%0A%2F%2F%20Double-check%20that%20we're%20in%20a%20browser%20environment%0Aif%20(typeof%20window%20!%3D%3D%20'undefined'%20%26%26%20document.body)%20%7B%0AinitializeMermaid()%3B%0AclearInterval(timeoutId)%0A%7D%0A%7D%2C%201000)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e        \u003cspan class=\"hljs-comment inline\"\u003e// Wait for DOM to be fully ready and ensure proper mounting\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e timeoutId = \u003cspan class=\"hljs-built_in inline\"\u003esetInterval\u003c/span\u003e(\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n            \u003cspan class=\"hljs-comment inline\"\u003e// Check if mermaid is available\u003c/span\u003e\n            \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword inline\"\u003etypeof\u003c/span\u003e mermaid === \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;undefined\u0026#x27;\u003c/span\u003e) {\n                \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ewarn\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;Mermaid library is not loaded yet.\u0026#x27;\u003c/span\u003e);\n                \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e;\n            }\n            \u003cspan class=\"hljs-comment inline\"\u003e// Double-check that we\u0026#x27;re in a browser environment\u003c/span\u003e\n            \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword inline\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-variable language_ inline\"\u003ewindow\u003c/span\u003e !== \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;undefined\u0026#x27;\u003c/span\u003e \u0026amp;\u0026amp; \u003cspan class=\"hljs-variable language_ inline\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003ebody\u003c/span\u003e) {\n                \u003cspan class=\"hljs-title function_ inline\"\u003einitializeMermaid\u003c/span\u003e();\n                \u003cspan class=\"hljs-built_in inline\"\u003eclearInterval\u003c/span\u003e(timeoutId)\n            }\n        }, \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第135-147行\u003c/strong\u003e: 等待DOM和Mermaid库就绪：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003esetInterval(callback, interval)\u003c/code\u003e\u003c/strong\u003e: 设置定时器，每1000毫秒执行一次检查\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003etypeof mermaid === 'undefined'\u003c/code\u003e\u003c/strong\u003e: 检查Mermaid库是否已加载\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003etypeof window !== 'undefined'\u003c/code\u003e\u003c/strong\u003e: 检查是否在浏览器环境中\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003edocument.body\u003c/code\u003e\u003c/strong\u003e: 检查DOM是否就绪\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eclearInterval(timeoutId)\u003c/code\u003e\u003c/strong\u003e: 清除定时器，避免重复执行\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%7D)()%3B%0A%60%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    })();\n    \u0026lt;/script\u0026gt;\n    \u003cspan class=\"hljs-string inline\"\u003e`;\n}\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第148-151行\u003c/strong\u003e: 结束立即执行函数表达式、脚本标签和addRenderingScript函数。\u003c/p\u003e\n\u003ch3 id=\"processmermaidinhtml-函数\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#processmermaidinhtml-函数\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to processMermaidInHTML 函数\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            processMermaidInHTML 函数\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F**%0A*%20Process%20HTML%20content%20to%20transform%20mermaid%20code%20blocks%20into%20mermaid%20divs%0A*%20%40param%20%7Bstring%7D%20htmlContent%20-%20The%20HTML%20content%20to%20process%0A*%20%40param%20%7BObject%7D%20options%20-%20Processing%20options%0A*%20%40returns%20%7Bstring%7D%20-%20Processed%20HTML%20content%0A*%2F%0Afunction%20processMermaidInHTML(htmlContent%2C%20options%20%3D%20%7B%7D)%20%7B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e/**\n * Process HTML content to transform mermaid code blocks into mermaid divs\n * \u003cspan class=\"hljs-doctag inline\"\u003e@param\u003c/span\u003e {\u003cspan class=\"hljs-type inline\"\u003estring\u003c/span\u003e} \u003cspan class=\"hljs-variable inline\"\u003ehtmlContent\u003c/span\u003e - The HTML content to process\n * \u003cspan class=\"hljs-doctag inline\"\u003e@param\u003c/span\u003e {\u003cspan class=\"hljs-type inline\"\u003eObject\u003c/span\u003e} \u003cspan class=\"hljs-variable inline\"\u003eoptions\u003c/span\u003e - Processing options\n * \u003cspan class=\"hljs-doctag inline\"\u003e@returns\u003c/span\u003e {\u003cspan class=\"hljs-type inline\"\u003estring\u003c/span\u003e} - Processed HTML content\n */\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eprocessMermaidInHTML\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003ehtmlContent, options = {}\u003c/span\u003e) {\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第153-159行\u003c/strong\u003e: 定义主处理函数：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e参数：htmlContent - 要处理的HTML内容字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e参数：options - 处理选项对象，默认为空对象\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e返回值：处理后的HTML内容\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"if%20(typeof%20htmlContent%20!%3D%3D%20'string')%20%7B%0Areturn%20htmlContent%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword inline\"\u003etypeof\u003c/span\u003e htmlContent !== \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;string\u0026#x27;\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e htmlContent;\n    }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第160-162行\u003c/strong\u003e: 输入验证，确保htmlContent是字符串类型。\u003c/p\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"const%20mermaidConfiguration%20%3D%20%7B%0AstartOnLoad%3A%20options.startOnLoad%20%7C%7C%20false%2C%0Atheme%3A%20options.theme%20%3D%3D%3D%20'light'%20%3F%20'default'%20%3A%20'dark'%2C%0AsecurityLevel%3A%20options.securityLevel%20%7C%7C%20'loose'%2C%0AfontFamily%3A%20options.fontFamily%20%7C%7C%20'arial'%2C%0AfontSize%3A%20options.fontSize%20%7C%7C%2016%2C%0Aflowchart%3A%20options.flowchart%20%7C%7C%20%7B%0AuseMaxWidth%3A%20true%2C%0AhtmlLabels%3A%20true%2C%0A%7D%2C%0Asequence%3A%20options.sequence%20%7C%7C%20%7B%0AuseMaxWidth%3A%20true%2C%0Awrap%3A%20true%2C%0A%7D%2C%0Aclass%3A%20options.class%20%7C%7C%20%7B%0AuseMaxWidth%3A%20true%2C%0A%7D%2C%0AgitGraph%3A%20options.gitGraph%20%7C%7C%20%7B%0AuseMaxWidth%3A%20true%2C%0A%7D%2C%0A%7D%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e mermaidConfiguration = {\n        \u003cspan class=\"hljs-attr inline\"\u003estartOnLoad\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003estartOnLoad\u003c/span\u003e || \u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr inline\"\u003etheme\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003etheme\u003c/span\u003e === \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;light\u0026#x27;\u003c/span\u003e ? \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;default\u0026#x27;\u003c/span\u003e : \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;dark\u0026#x27;\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr inline\"\u003esecurityLevel\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003esecurityLevel\u003c/span\u003e || \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;loose\u0026#x27;\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr inline\"\u003efontFamily\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003efontFamily\u003c/span\u003e || \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;arial\u0026#x27;\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr inline\"\u003efontSize\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003efontSize\u003c/span\u003e || \u003cspan class=\"hljs-number inline\"\u003e16\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr inline\"\u003eflowchart\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003eflowchart\u003c/span\u003e || {\n            \u003cspan class=\"hljs-attr inline\"\u003euseMaxWidth\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr inline\"\u003ehtmlLabels\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e,\n        },\n        \u003cspan class=\"hljs-attr inline\"\u003esequence\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003esequence\u003c/span\u003e || {\n            \u003cspan class=\"hljs-attr inline\"\u003euseMaxWidth\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr inline\"\u003ewrap\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e,\n        },\n        \u003cspan class=\"hljs-attr inline\"\u003eclass\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003eclass\u003c/span\u003e || {\n            \u003cspan class=\"hljs-attr inline\"\u003euseMaxWidth\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e,\n        },\n        \u003cspan class=\"hljs-attr inline\"\u003egitGraph\u003c/span\u003e: options.\u003cspan class=\"hljs-property inline\"\u003egitGraph\u003c/span\u003e || {\n            \u003cspan class=\"hljs-attr inline\"\u003euseMaxWidth\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e,\n        },\n    };\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第164-183行\u003c/strong\u003e: 创建Mermaid配置对象：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e使用逻辑或操作符设置默认值\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e三元运算符\u003c/strong\u003e: \u003ccode\u003eoptions.theme === 'light' ? 'default' : 'dark'\u003c/code\u003e 根据主题选项设置对应的Mermaid主题\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e各种图表类型的配置：\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003euseMaxWidth: true\u003c/code\u003e: 图表使用最大可用宽度\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ehtmlLabels: true\u003c/code\u003e: 流程图使用HTML标签\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ewrap: true\u003c/code\u003e: 序列图启用文本换行\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Find%20all%20mermaid%20code%20blocks%20in%20the%20HTML%0A%2F%2F%20Pattern%20matches%3A%20...%0Aconst%20mermaidCodeBlockRegex%20%3D%20%2F(%5B%5Cs%5CS%5D*%3F)%2Fgi%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    \u003cspan class=\"hljs-comment inline\"\u003e// Find all mermaid code blocks in the HTML\u003c/span\u003e\n    \u003cspan class=\"hljs-comment inline\"\u003e// Pattern matches: \u0026lt;pre\u0026gt;\u0026lt;code class=\u0026quot;language-mermaid\u0026quot;\u0026gt;...\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e mermaidCodeBlockRegex = \u003cspan class=\"hljs-regexp inline\"\u003e/\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026quot;language-mermaid\u0026quot;\u0026gt;([\\s\\S]*?)\u0026lt;\\/code\u0026gt;\u0026lt;\\/pre\u0026gt;/gi\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第185-187行\u003c/strong\u003e: 定义正则表达式匹配Mermaid代码块：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e正则表达式详解\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026quot;language-mermaid\u0026quot;\u0026gt;\u003c/code\u003e: 匹配代码块的开始标签\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e([\\s\\S]*?)\u003c/code\u003e: 捕获组，匹配任意字符（包括换行符）\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e[\\s\\S]\u003c/code\u003e: 匹配任意空白字符或非空白字符（相当于匹配任意字符）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e*?\u003c/code\u003e: 非贪婪匹配，匹配尽可能少的字符\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e\u0026lt;\\/code\u0026gt;\u0026lt;\\/pre\u0026gt;\u003c/code\u003e: 匹配代码块的结束标签\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003eg\u003c/code\u003e: 全局匹配标志\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ei\u003c/code\u003e: 忽略大小写标志\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"htmlContent%20%3D%20htmlContent.replace(mermaidCodeBlockRegex%2C%20(match%2C%20content)%20%3D%3E%20%7B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    htmlContent = htmlContent.\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(mermaidCodeBlockRegex, \u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003ematch, content\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第189行\u003c/strong\u003e: 使用正则表达式替换匹配的代码块：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003estring.replace(regex, callback)\u003c/code\u003e\u003c/strong\u003e: 使用回调函数处理每个匹配项\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003ematch\u003c/code\u003e: 完整的匹配字符串\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003econtent\u003c/code\u003e: 第一个捕获组的内容（即mermaid代码）\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Check%20if%20content%20has%20been%20syntax%20highlighted%20by%20hljs%0Alet%20cleanContent%3B%0Aif%20(content.includes('))%20%7B%0A%2F%2F%20Extract%20text%20content%20from%20syntax-highlighted%20spans%0AcleanContent%20%3D%20content%0A.replace(%2F%5D*class%3D%22hljs-%5B%5E%22%5D*%22%5B%5E%3E%5D*%3E(.*%3F)%2Fgi%2C%20'%241')%0A.replace(%2F%5D*%3E(.*%3F)%2Fgi%2C%20'%241')%0A.replace(%2F%26lt%3B%2Fg%2C%20')%0A.replace(%2F%26gt%3B%2Fg%2C%20'%3E')%0A.replace(%2F%26amp%3B%2Fg%2C%20'%26')%0A.replace(%2F%22%2Fg%2C%20'%22')%0A.replace(%2F'%2Fg%2C%20%22'%22)%0A.replace(%2F'%2Fg%2C%20%22'%22)%0A.trim()%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e        \u003cspan class=\"hljs-comment inline\"\u003e// Check if content has been syntax highlighted by hljs\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword inline\"\u003elet\u003c/span\u003e cleanContent;\n        \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (content.\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;span class=\u0026quot;hljs-\u0026#x27;\u003c/span\u003e)) {\n            \u003cspan class=\"hljs-comment inline\"\u003e// Extract text content from syntax-highlighted spans\u003c/span\u003e\n            cleanContent = content\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026lt;span[^\u0026gt;]*class=\u0026quot;hljs-[^\u0026quot;]*\u0026quot;[^\u0026gt;]*\u0026gt;(.*?)\u0026lt;\\/span\u0026gt;/gi\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;$1\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026lt;span[^\u0026gt;]*\u0026gt;(.*?)\u0026lt;\\/span\u0026gt;/gi\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;$1\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;lt;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;gt;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026gt;\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;amp;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026amp;\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;quot;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026quot;\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;#39;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026quot;\u0026#x27;\u0026quot;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;#x27;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026quot;\u0026#x27;\u0026quot;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003etrim\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第190-202行\u003c/strong\u003e: 处理语法高亮的内容：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003econtent.includes('\u0026lt;span class=\u0026quot;hljs-')\u003c/code\u003e\u003c/strong\u003e: 检查是否包含highlight.js的语法高亮标记\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e正则表达式替换链\u003c/strong\u003e:\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e/\u0026lt;span[^\u0026gt;]*class=\u0026quot;hljs-[^\u0026quot;]*\u0026quot;[^\u0026gt;]*\u0026gt;(.*?)\u0026lt;\\/span\u0026gt;/gi\u003c/code\u003e: 移除hljs的span标签，保留内容\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e/\u0026lt;span[^\u0026gt;]*\u0026gt;(.*?)\u0026lt;\\/span\u0026gt;/gi\u003c/code\u003e: 移除其他span标签\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e/\u0026amp;lt;/g, '\u0026lt;'\u003c/code\u003e: 将HTML实体\u003ccode\u003e\u0026amp;lt;\u003c/code\u003e转换为\u003ccode\u003e\u0026lt;\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e/\u0026amp;gt;/g, '\u0026gt;'\u003c/code\u003e: 将HTML实体\u003ccode\u003e\u0026amp;gt;\u003c/code\u003e转换为\u003ccode\u003e\u0026gt;\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e/\u0026amp;amp;/g, '\u0026amp;'\u003c/code\u003e: 将HTML实体\u003ccode\u003e\u0026amp;amp;\u003c/code\u003e转换为\u003ccode\u003e\u0026amp;\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e/\u0026amp;quot;/g, '\u0026quot;'\u003c/code\u003e: 将HTML实体\u003ccode\u003e\u0026amp;quot;\u003c/code\u003e转换为\u003ccode\u003e\u0026quot;\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e/\u0026amp;#39;/g, \u0026quot;'\u0026quot;\u003c/code\u003e: 将HTML实体\u003ccode\u003e\u0026amp;#39;\u003c/code\u003e转换为\u003ccode\u003e'\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003ccode\u003e/\u0026amp;#x27;/g, \u0026quot;'\u0026quot;\u003c/code\u003e: 将HTML实体\u003ccode\u003e\u0026amp;#x27;\u003c/code\u003e转换为\u003ccode\u003e'\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003e.trim()\u003c/code\u003e\u003c/strong\u003e: 去除首尾空白字符\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%7D%20else%20%7B%0A%2F%2F%20Decode%20HTML%20entities%20in%20the%20content%20(no%20syntax%20highlighting)%0AcleanContent%20%3D%20content%0A.replace(%2F%26lt%3B%2Fg%2C%20')%0A.replace(%2F%26gt%3B%2Fg%2C%20'%3E')%0A.replace(%2F%26amp%3B%2Fg%2C%20'%26')%0A.replace(%2F%22%2Fg%2C%20'%22')%0A.replace(%2F'%2Fg%2C%20%22'%22)%0A.replace(%2F'%2Fg%2C%20%22'%22)%0A.trim()%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e        } \u003cspan class=\"hljs-keyword inline\"\u003eelse\u003c/span\u003e {\n            \u003cspan class=\"hljs-comment inline\"\u003e// Decode HTML entities in the content (no syntax highlighting)\u003c/span\u003e\n            cleanContent = content\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;lt;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026lt;\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;gt;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026gt;\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;amp;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026amp;\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;quot;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026quot;\u0026#x27;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;#39;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026quot;\u0026#x27;\u0026quot;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp inline\"\u003e/\u0026amp;#x27;/g\u003c/span\u003e, \u003cspan class=\"hljs-string inline\"\u003e\u0026quot;\u0026#x27;\u0026quot;\u003c/span\u003e)\n                .\u003cspan class=\"hljs-title function_ inline\"\u003etrim\u003c/span\u003e();\n        }\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第203-213行\u003c/strong\u003e: 处理无语法高亮的内容：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e直接进行HTML实体解码\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e使用相同的实体转换规则\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%2F%2F%20Transform%20into%20mermaid%20div%0AcleanContent%20%3D%20wrapWithDiv(cleanContent)%3B%0Areturn%20applyMermaidStyling(cleanContent%2C%20options)%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e        \u003cspan class=\"hljs-comment inline\"\u003e// Transform into mermaid div\u003c/span\u003e\n        cleanContent = \u003cspan class=\"hljs-title function_ inline\"\u003ewrapWithDiv\u003c/span\u003e(cleanContent);\n        \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eapplyMermaidStyling\u003c/span\u003e(cleanContent, options);\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第215-217行\u003c/strong\u003e: 转换为Mermaid div：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003ewrapWithDiv(cleanContent)\u003c/code\u003e\u003c/strong\u003e: 调用前面定义的函数将内容包装在div中\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eapplyMermaidStyling(cleanContent, options)\u003c/code\u003e\u003c/strong\u003e: 应用自定义样式\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e返回最终的HTML字符串\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"%7D)%3B%0Areturn%20addRenderingScript(htmlContent%2C%20mermaidConfiguration)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e    });\n\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eaddRenderingScript\u003c/span\u003e(htmlContent, mermaidConfiguration);\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第218-221行\u003c/strong\u003e: 完成替换并添加渲染脚本：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e结束replace回调函数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003eaddRenderingScript(htmlContent, mermaidConfiguration)\u003c/code\u003e\u003c/strong\u003e: 添加Mermaid库和初始化脚本\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"模块导出-1\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#模块导出-1\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 模块导出\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            模块导出\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"javascript\" data-code=\"module.exports%20%3D%20%7B%0AprocessMermaidInHTML%0A%7D%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejavascript\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-javascript\"\u003e\u003cspan class=\"hljs-variable language_ inline\"\u003emodule\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003eexports\u003c/span\u003e = {\n    processMermaidInHTML\n};\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e第223-225行\u003c/strong\u003e: 导出模块：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e\u003ccode\u003emodule.exports\u003c/code\u003e\u003c/strong\u003e: Node.js模块导出机制\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e使用对象形式导出processMermaidInHTML函数，便于解构导入\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr class=\"border-0 h-px bg-gray-300 my-8\"\u003e\n\u003ch2 id=\"总结\" class=\"group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight\"\u003e\n            \u003ca href=\"#总结\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 总结\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            总结\n        \u003c/h2\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e这个插件的核心功能和特点包括：\u003c/p\u003e\n\u003col class=\"list-decimal list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e后处理架构\u003c/strong\u003e: 不修改Remarkable的解析流程，而是在HTML渲染完成后进行二次处理\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e代码块识别\u003c/strong\u003e: 通过正则表达式识别\u003ccode\u003e\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026quot;language-mermaid\u0026quot;\u0026gt;\u003c/code\u003e格式的代码块\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e语法高亮兼容\u003c/strong\u003e: 智能处理highlight.js等语法高亮库产生的HTML结构\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eHTML实体解码\u003c/strong\u003e: 正确处理Markdown渲染过程中产生的HTML实体\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e客户端渲染\u003c/strong\u003e: 生成包含Mermaid库和初始化脚本的完整HTML\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e错误处理\u003c/strong\u003e: 提供完善的错误处理和调试信息\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e配置灵活\u003c/strong\u003e: 支持丰富的Mermaid配置选项\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eDOM安全\u003c/strong\u003e: 使用临时容器避免DOM操作问题\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"非标准库函数使用总结\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#非标准库函数使用总结\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 非标准库函数使用总结\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            非标准库函数使用总结\n        \u003c/h3\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e本插件主要依赖以下非JavaScript标准库的函数和API：\u003c/p\u003e\n\u003ch4 id=\"nodejs-生态系统\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#nodejs-生态系统\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Node.js 生态系统\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Node.js 生态系统\n        \u003c/h4\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e模块系统\u003c/strong\u003e: \u003ccode\u003erequire()\u003c/code\u003e, \u003ccode\u003emodule.exports\u003c/code\u003e 用于模块的导入导出\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e文件系统\u003c/strong\u003e: 相对路径模块导入\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"remarkable-markdown-处理器\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#remarkable-markdown-处理器\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Remarkable Markdown 处理器\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Remarkable Markdown 处理器\n        \u003c/h4\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e核心渲染\u003c/strong\u003e: \u003ccode\u003emd.render()\u003c/code\u003e 执行Markdown到HTML的转换\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e方法重写\u003c/strong\u003e: 通过保存原始方法引用实现功能扩展\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"mermaid-图表库\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#mermaid-图表库\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to Mermaid 图表库\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            Mermaid 图表库\n        \u003c/h4\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e库加载\u003c/strong\u003e: 通过CDN加载Mermaid 10.9.3版本\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e初始化\u003c/strong\u003e: \u003ccode\u003emermaid.initialize()\u003c/code\u003e 配置全局参数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e异步渲染\u003c/strong\u003e: \u003ccode\u003emermaid.render()\u003c/code\u003e 异步API渲染图表\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"浏览器dom-api-1\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#浏览器dom-api-1\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 浏览器DOM API\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            浏览器DOM API\n        \u003c/h4\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e元素查找\u003c/strong\u003e: \u003ccode\u003edocument.querySelectorAll()\u003c/code\u003e 查找目标元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e元素创建\u003c/strong\u003e: \u003ccode\u003edocument.createElement()\u003c/code\u003e 创建临时容器\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eDOM操作\u003c/strong\u003e: \u003ccode\u003eappendChild()\u003c/code\u003e, \u003ccode\u003eremoveChild()\u003c/code\u003e 管理DOM树\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e内容访问\u003c/strong\u003e: \u003ccode\u003etextContent\u003c/code\u003e, \u003ccode\u003einnerHTML\u003c/code\u003e 获取和设置元素内容\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"正则表达式处理\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#正则表达式处理\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 正则表达式处理\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            正则表达式处理\n        \u003c/h4\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e模式匹配\u003c/strong\u003e: 复杂的正则表达式匹配HTML结构\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e内容提取\u003c/strong\u003e: 使用捕获组提取代码块内容\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e实体转换\u003c/strong\u003e: 批量HTML实体解码\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"异步编程\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#异步编程\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 异步编程\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            异步编程\n        \u003c/h4\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e定时器\u003c/strong\u003e: \u003ccode\u003esetInterval()\u003c/code\u003e, \u003ccode\u003eclearInterval()\u003c/code\u003e 等待库就绪\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e异步函数\u003c/strong\u003e: \u003ccode\u003easync/await\u003c/code\u003e 处理Mermaid异步渲染\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e该插件通过巧妙的后处理机制，实现了与Remarkable无缝集成的Mermaid图表渲染功能，同时保持了良好的兼容性和错误处理能力。\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"$L1d\",null,{\"htmlContent\":\"$1e\",\"frontMatter\":{\"title\":\"remarkable-mermaid-plus代码全解析\",\"description\":\"详细解析remarkable-mermaid-plus插件代码\",\"date\":\"2025-06-22\",\"author\":\"MilkWind\",\"tags\":[\"代码解析\",\"插件\"],\"references\":{}},\"readingTime\":\"35 min read\",\"category\":\"plugins\",\"tocItems\":[{\"id\":\"remarkable-mermaid-plus-插件代码解析\",\"text\":\"Remarkable Mermaid Plus 插件代码解析\",\"level\":1},{\"id\":\"概览\",\"text\":\"概览\",\"level\":2},{\"id\":\"依赖库函数说明\",\"text\":\"依赖库函数说明\",\"level\":2},{\"id\":\"nodejs-相关函数\",\"text\":\"Node.js 相关函数\",\"level\":3},{\"id\":\"remarkable-插件api\",\"text\":\"Remarkable 插件API\",\"level\":3},{\"id\":\"浏览器dom-api\",\"text\":\"浏览器DOM API\",\"level\":3},{\"id\":\"javascript-内置对象和方法\",\"text\":\"JavaScript 内置对象和方法\",\"level\":3},{\"id\":\"正则表达式\",\"text\":\"正则表达式\",\"level\":3},{\"id\":\"mermaid-库函数\",\"text\":\"Mermaid 库函数\",\"level\":3},{\"id\":\"数组方法\",\"text\":\"数组方法\",\"level\":3},{\"id\":\"indexjs-代码逐行解析\",\"text\":\"index.js 代码逐行解析\",\"level\":2},{\"id\":\"文件开头和模块声明\",\"text\":\"文件开头和模块声明\",\"level\":3},{\"id\":\"主函数定义\",\"text\":\"主函数定义\",\"level\":3},{\"id\":\"工具函数导入\",\"text\":\"工具函数导入\",\"level\":3},{\"id\":\"渲染方法重写\",\"text\":\"渲染方法重写\",\"level\":3},{\"id\":\"模块导出\",\"text\":\"模块导出\",\"level\":3},{\"id\":\"mermaid-utilsjs-代码逐行解析\",\"text\":\"mermaid-utils.js 代码逐行解析\",\"level\":2},{\"id\":\"文件头部注释\",\"text\":\"文件头部注释\",\"level\":3},{\"id\":\"wrapwithdiv-函数\",\"text\":\"wrapWithDiv 函数\",\"level\":3},{\"id\":\"applymermaidstyling-函数\",\"text\":\"applyMermaidStyling 函数\",\"level\":3},{\"id\":\"addrenderingscript-函数\",\"text\":\"addRenderingScript 函数\",\"level\":3},{\"id\":\"processmermaidinhtml-函数\",\"text\":\"processMermaidInHTML 函数\",\"level\":3},{\"id\":\"模块导出-1\",\"text\":\"模块导出\",\"level\":3},{\"id\":\"总结\",\"text\":\"总结\",\"level\":2},{\"id\":\"非标准库函数使用总结\",\"text\":\"非标准库函数使用总结\",\"level\":3},{\"id\":\"nodejs-生态系统\",\"text\":\"Node.js 生态系统\",\"level\":4},{\"id\":\"remarkable-markdown-处理器\",\"text\":\"Remarkable Markdown 处理器\",\"level\":4},{\"id\":\"mermaid-图表库\",\"text\":\"Mermaid 图表库\",\"level\":4},{\"id\":\"浏览器dom-api-1\",\"text\":\"浏览器DOM API\",\"level\":4},{\"id\":\"正则表达式处理\",\"text\":\"正则表达式处理\",\"level\":4},{\"id\":\"异步编程\",\"text\":\"异步编程\",\"level\":4}],\"translations\":{\"common\":{\"welcome\":\"欢迎\",\"loading\":\"加载中...\",\"error\":\"出现了一些问题\",\"retry\":\"重试\",\"theme\":\"主题\",\"language\":\"语言\",\"light\":\"浅色\",\"dark\":\"深色\"},\"navigation\":{\"home\":\"首页\",\"personal\":\"个人\",\"works\":\"作品\",\"contributions\":\"贡献\",\"documents\":\"文档\",\"about\":\"关于\",\"contact\":\"联系\"},\"personal\":{\"technicalSkills\":\"技术技能\",\"email\":\"邮箱\",\"github\":\"代码仓库\",\"resume\":\"简历\",\"codeRepository\":\"代码仓库\",\"loadingPersonalInfo\":\"加载个人信息中...\",\"loadingResume\":\"加载简历中...\",\"closeResume\":\"关闭简历\",\"emailCopied\":\"邮箱已复制到剪贴板！\",\"galaxyDefaultDescription\":\"精通全栈开发技术，具备跨平台架构能力，擅长AI技术整合与高性能系统优化\",\"skillGalaxy\":\"技能星系\",\"stirGalaxy\":\"搅动星系\",\"stirring\":\"搅动中...\",\"fullStackEngineer\":\"MilkWind - 全栈工程师\",\"professionalProfile\":\"关于我\"},\"documents\":{\"technicalDocuments\":\"技术文档\",\"description\":\"基本原理、代码拆分以及一些碎碎念。\",\"articles\":\"文章\",\"categories\":\"分类\",\"allCategories\":\"所有分类\",\"noArticlesFound\":\"未找到文章\",\"noArticlesAvailable\":\"中文暂无文章。\",\"noArticlesInCategory\":\"该分类下未找到文章。\",\"readMore\":\"阅读更多\",\"loadingDocuments\":\"加载文档中...\",\"backToDocuments\":\"← 返回文档\",\"documentNotFound\":\"文档未找到\",\"documentNotFoundDescription\":\"请求的文档无法找到。\",\"technicalInsights\":\"技术拆解\",\"untitledDocument\":\"无标题文档\",\"byAuthor\":\"作者：\",\"search\":\"搜索文章...\",\"searchByTags\":\"按标签筛选\",\"searching\":\"搜索中...\",\"noSearchResults\":\"没有找到符合搜索条件的文章\",\"clearSearch\":\"清除搜索\",\"selectedTags\":\"已选标签\",\"allTags\":\"所有标签\",\"searchInTitle\":\"在标题、描述和内容中搜索\",\"enterImmersiveMode\":\"沉浸阅读\",\"exitImmersiveMode\":\"退出沉浸模式\",\"immersiveReading\":\"沉浸阅读模式\",\"exploreContent\":\"按分类探索内容\",\"browseBy\":\"浏览方式\",\"exploreAll\":\"所有内容汇总\",\"categoryDescription\":\"该分类下的文章\",\"totalArticles\":\"文章\",\"totalCategories\":\"分类\",\"foundArticles\":\"找到文章\",\"categoriesWithResults\":\"有结果的分类\"},\"works\":{\"workCases\":\"作品案例\",\"projects\":\"作品集\",\"loadingProjects\":\"加载项目中...\",\"grid\":\"网格\",\"stack\":\"堆叠\",\"of\":\"共\",\"workCasesPageTitle\":\"作品案例页面\",\"pageWorkingCorrectly\":\"此页面运行正常！路由配置正确。\",\"try3DVersion\":\"尝试3D版本\",\"dragToScroll\":\"拖拽滚动\",\"dragToChange\":\"拖拽切换\",\"swipeCards\":\"切换卡片\",\"keyboardNav\":\"键盘导航\"},\"contributions\":{\"contributionCases\":\"开源项目\",\"contributions\":\"贡献\",\"loadingContributions\":\"加载贡献中...\",\"grid\":\"网格\",\"stack\":\"堆叠\",\"of\":\"共\",\"contributionCasesPageTitle\":\"贡献案例页面\",\"pageWorkingCorrectly\":\"此页面运行正常！路由配置正确。\",\"try3DVersion\":\"尝试3D版本\",\"dragToScroll\":\"拖拽滚动\",\"dragToChange\":\"拖拽切换\",\"swipeCards\":\"切换卡片\",\"keyboardNav\":\"键盘导航\"},\"contribution\":{\"contributionPreview\":\"贡献预览\",\"accessible\":\"可访问\",\"code\":\"代码\",\"maintenance\":\"维护\",\"enhancement\":\"增强\",\"documentation\":\"文档\",\"community\":\"社区\",\"moreItems\":\"更多\",\"technicalDetails\":\"技术详情\",\"technologies\":\"技术栈：\",\"contributionDetail\":\"贡献详情\",\"description\":\"描述：\",\"seeDetails\":\"查看详情\",\"github\":\"代码仓库\",\"viewContribution\":\"查看贡献\",\"viewCode\":\"查看代码\"},\"project\":{\"projectPreview\":\"项目预览\",\"accessible\":\"可访问\",\"tool\":\"工具\",\"plugin\":\"插件\",\"toy\":\"小玩意\",\"moreItems\":\"更多\",\"technicalDetails\":\"技术详情\",\"technologies\":\"技术栈：\",\"description\":\"描述：\",\"seeDetails\":\"查看详情\",\"github\":\"GitHub\",\"gitee\":\"Gitee\",\"viewLiveDemo\":\"查看演示\",\"viewCode\":\"查看代码\",\"access\":\"访问\",\"videos\":\"视频\",\"watchVideo\":\"观看视频\",\"hasVideo\":\"有视频\"},\"codeblock\":{\"copy\":\"复制\",\"copySuccess\":\"代码已复制到剪贴板！\",\"copyError\":\"复制代码失败\",\"copyTooltip\":\"复制代码\"},\"toc\":{\"contents\":\"目录\",\"autoScroll\":\"自动滚动到章节\",\"collapse\":\"折叠\",\"expand\":\"展开\"},\"loading\":{\"loading\":\"加载中\",\"preparingExperience\":\"准备体验中\"}},\"lang\":\"zh\",\"theme\":\"dark\"}]\n"])</script><script>self.__next_f.push([1,"12:null\n"])</script><script>self.__next_f.push([1,"18:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n11:null\n"])</script><script>self.__next_f.push([1,"1c:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"remarkable-mermaid-plus代码全解析 | Interactive Portfolio\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"详细解析remarkable-mermaid-plus插件代码\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"Developer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"portfolio,3D,interactive,web development,Three.js,Next.js\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"remarkable-mermaid-plus代码全解析 | Interactive Portfolio\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"详细解析remarkable-mermaid-plus插件代码\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"7\",{\"property\":\"article:published_time\",\"content\":\"2025-06-22\"}],[\"$\",\"meta\",\"8\",{\"property\":\"article:tag\",\"content\":\"代码解析\"}],[\"$\",\"meta\",\"9\",{\"property\":\"article:tag\",\"content\":\"插件\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:title\",\"content\":\"remarkable-mermaid-plus代码全解析 | Interactive Portfolio\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:description\",\"content\":\"详细解析remarkable-mermaid-plus插件代码\"}],[\"$\",\"link\",\"13\",{\"rel\":\"icon\",\"href\":\"/MilkWind-Website/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"32x32\"}]],\"error\":null,\"digest\":\"$undefined\"}\n14:{\"metadata\":\"$1c:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>