<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/f034c804622acb16.css" data-precedence="next"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/276b387d8ca46690.css" data-precedence="next"/><link rel="stylesheet" href="/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/MilkWind-Website/_next/static/chunks/webpack-1674c92fb524bcda.js"/><script src="/MilkWind-Website/_next/static/chunks/4bd1b696-5119e10e90c1bd1b.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/1684-794bcba02d6f7373.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/main-app-c5f95d71e93250dc.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/46-268e24d727b280ef.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/layout-af4a6e723c0ff668.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/error-dda32be1d095a86c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/6874-fbe9a08eb79b991c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/not-found-9ff98b2ccf24cac7.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/206-4f4cbf4d7156f437.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/layout-28408791defde09e.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/2415-689c103fb3d2c28d.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/8610-7bd3f91f3cf2a4d6.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/loading-68f227fb49b3ac8c.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/b498d07c-095637f0f10883c6.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/9554-b714f9de28e85d30.js" async=""></script><script src="/MilkWind-Website/_next/static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js" async=""></script><title>useRef | Interactive Portfolio</title><meta name="description" content="React基础知识篇-useRef"/><meta name="author" content="Developer"/><meta name="keywords" content="portfolio,3D,interactive,web development,Three.js,Next.js"/><meta property="og:title" content="useRef | Interactive Portfolio"/><meta property="og:description" content="React基础知识篇-useRef"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-06-22"/><meta property="article:tag" content="React"/><meta property="article:tag" content="基础知识"/><meta property="article:tag" content="useRef"/><meta property="article:tag" content="React Hook"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="useRef | Interactive Portfolio"/><meta name="twitter:description" content="React基础知识篇-useRef"/><link rel="icon" href="/MilkWind-Website/favicon.ico" type="image/x-icon" sizes="32x32"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/MilkWind-Website/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_9b7fb1 __variable_ca2a15 __variable_591dcc font-sans antialiased min-h-screen bg-background text-foreground"><div class="fixed inset-0 w-full h-full overflow-hidden pointer-events-none z-0" style="background:linear-gradient(135deg, hsl(210, 80%, 60%), hsl(180, 40%, 50%))"></div><div class="fixed top-20 right-5 z-50"><div class="w-16 h-16 rounded-full backdrop-blur-md border animate-pulse bg-surface/60 border-surface/40"></div></div><!--$--><style>
:root {
  --bprogress-color: #0066cc;
  --bprogress-height: 4px;
  --bprogress-spinner-size: 18px;
  --bprogress-spinner-animation-duration: 400ms;
  --bprogress-spinner-border-size: 2px;
  --bprogress-box-shadow: 0 0 10px #0066cc, 0 0 5px #0066cc;
  --bprogress-z-index: 99999;
  --bprogress-spinner-top: 15px;
  --bprogress-spinner-bottom: auto;
  --bprogress-spinner-right: 15px;
  --bprogress-spinner-left: auto;
}

.bprogress {
  width: 0;
  height: 0;
  pointer-events: none;
  z-index: var(--bprogress-z-index);
}

.bprogress .bar {
  background: var(--bprogress-color);
  position: fixed;
  z-index: var(--bprogress-z-index);
  top: 0;
  left: 0;
  width: 100%;
  height: var(--bprogress-height);
}

/* Fancy blur effect */
.bprogress .peg {
  display: block;
  position: absolute;
  right: 0;
  width: 100px;
  height: 100%;
  box-shadow: var(--bprogress-box-shadow);
  opacity: 1.0;
  transform: rotate(3deg) translate(0px, -4px);
}

/* Remove these to get rid of the spinner */
.bprogress .spinner {
  display: block;
  position: fixed;
  z-index: var(--bprogress-z-index);
  top: var(--bprogress-spinner-top);
  bottom: var(--bprogress-spinner-bottom);
  right: var(--bprogress-spinner-right);
  left: var(--bprogress-spinner-left);
}

.bprogress .spinner-icon {
  width: var(--bprogress-spinner-size);
  height: var(--bprogress-spinner-size);
  box-sizing: border-box;
  border: solid var(--bprogress-spinner-border-size) transparent;
  border-top-color: var(--bprogress-color);
  border-left-color: var(--bprogress-color);
  border-radius: 50%;
  -webkit-animation: bprogress-spinner var(--bprogress-spinner-animation-duration) linear infinite;
  animation: bprogress-spinner var(--bprogress-spinner-animation-duration) linear infinite;
}

.bprogress-custom-parent {
  overflow: hidden;
  position: relative;
}

.bprogress-custom-parent .bprogress .spinner,
.bprogress-custom-parent .bprogress .bar {
  position: absolute;
}

.bprogress .indeterminate {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--bprogress-height);
  overflow: hidden;
}

.bprogress .indeterminate .inc,
.bprogress .indeterminate .dec {
  position: absolute;
  top: 0;
  height: 100%;
  background-color: var(--bprogress-color);
}

.bprogress .indeterminate .inc {
  animation: bprogress-indeterminate-increase 2s infinite;
}

.bprogress .indeterminate .dec {
  animation: bprogress-indeterminate-decrease 2s 0.5s infinite;
}

@-webkit-keyframes bprogress-spinner {
  0%   { -webkit-transform: rotate(0deg); transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }
}

@keyframes bprogress-spinner {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes bprogress-indeterminate-increase {
  from { left: -5%; width: 5%; }
  to { left: 130%; width: 100%; }
}

@keyframes bprogress-indeterminate-decrease {
  from { left: -80%; width: 80%; }
  to { left: 110%; width: 10%; }
}
</style><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$--><div class="relative z-30 min-h-screen bg-background "><div class="container mx-auto px-4 py-8 max-w-4xl"><div class="mb-8"><a class="inline-flex items-center text-primary hover:text-primary/80 transition-colors" href="/MilkWind-Website/documents/">documents.backToDocuments</a></div><header class="mb-12"><div class="flex items-center gap-4 mb-4 text-sm text-foreground/60"><span class="px-3 py-1 bg-primary/20 text-primary rounded-full capitalize">basic knowledge</span><span>17 min read</span></div><h1 class="font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent text-4xl md:text-5xl">useRef</h1><p class="text-xl text-foreground/80 max-w-3xl">React基础知识篇-useRef</p><div class="flex flex-wrap gap-2 mt-6"><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">React</span><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">基础知识</span><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">useRef</span><span class="px-3 py-1 text-sm bg-accent/20 text-accent rounded-full">React Hook</span></div></header><article class="prose prose-headings:mt-8 prose-headings:font-semibold prose-headings:text-foreground prose-h1:text-5xl prose-h2:text-4xl prose-h3:text-3xl prose-h4:text-2xl prose-h5:text-xl prose-h6:text-lg max-w-none "><div class="prose-pre:p-4 prose-pre:bg-surface w-full"><p class="text-base leading-7 mb-4 text-foreground"><code>useRef</code> 是 React 提供的一个重要 Hook，用于在函数组件中创建可变的引用对象。它返回一个可变的 ref 对象，其 <code>.current</code> 属性可以保存任何值，并且在组件的整个生命周期内保持不变。</p>
<h3 id="基本作用" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#基本作用" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 基本作用">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">基本作用</strong>
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><code>useRef</code> 的主要作用是：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">访问和操作 DOM 元素</li>
<li class="text-foreground leading-relaxed">保存可变值，不触发重新渲染</li>
<li class="text-foreground leading-relaxed">在渲染之间保持数据的持久性</li>
<li class="text-foreground leading-relaxed">存储定时器、间隔器等引用</li>
<li class="text-foreground leading-relaxed">缓存昂贵的计算结果</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="import%20React%2C%20%7B%20useRef%2C%20useEffect%20%7D%20from%20'react'%3B%0Afunction%20MyComponent()%20%7B%0Aconst%20inputRef%20%3D%20useRef(null)%3B%0AuseEffect(()%20%3D%3E%20%7B%0A%2F%2F%20%E7%BB%84%E4%BB%B6%E6%8C%82%E8%BD%BD%E5%90%8E%E8%87%AA%E5%8A%A8%E8%81%9A%E7%84%A6%E8%BE%93%E5%85%A5%E6%A1%86%0AinputRef.current.focus()%3B%0A%7D%2C%20%5B%5D)%3B%0Aconst%20handleClick%20%3D%20()%20%3D%3E%20%7B%0A%2F%2F%20%E7%A8%8B%E5%BA%8F%E5%8C%96%E8%81%9A%E7%84%A6%E8%BE%93%E5%85%A5%E6%A1%86%0AinputRef.current.focus()%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ainput%20ref%3D%7BinputRef%7D%20type%3D%22text%22%20%2F%3E%0Abutton%20onClick%3D%7BhandleClick%7D%3E%E8%81%9A%E7%84%A6%E8%BE%93%E5%85%A5%E6%A1%86button%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">import</span> <span class="hljs-title class_ inline">React</span>, { useRef, useEffect } <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;react&#x27;</span>;

<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">MyComponent</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> inputRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-comment inline">// 组件挂载后自动聚焦输入框</span>
    inputRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">focus</span>();
  }, []);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleClick</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-comment inline">// 程序化聚焦输入框</span>
    inputRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">focus</span>();
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{inputRef}</span> <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;text&quot;</span> /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleClick}</span>&gt;</span>聚焦输入框<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="基本语法" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#基本语法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 基本语法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">基本语法</strong>
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="const%20refContainer%20%3D%20useRef(initialValue)%3B%0A%2F%2F%20%E8%AE%BF%E9%97%AE%E5%BD%93%E5%89%8D%E5%80%BC%0Aconst%20currentValue%20%3D%20refContainer.current%3B%0A%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%96%B0%E5%80%BC%0ArefContainer.current%20%3D%20newValue%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">const</span> refContainer = <span class="hljs-title function_ inline">useRef</span>(initialValue);

<span class="hljs-comment inline">// 访问当前值</span>
<span class="hljs-keyword inline">const</span> currentValue = refContainer.<span class="hljs-property inline">current</span>;

<span class="hljs-comment inline">// 设置新值</span>
refContainer.<span class="hljs-property inline">current</span> = newValue;
</code></pre>
            </div>
        
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">参数</strong>：初始值（可选）</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">返回值</strong>：一个具有 <code>current</code> 属性的可变 ref 对象</li>
</ul>
<h3 id="访问-dom-元素" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#访问-dom-元素" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 访问 DOM 元素">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">访问 DOM 元素</strong>
        </h3>
<h4 id="基本-dom-操作" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#基本-dom-操作" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 基本 DOM 操作">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">基本 DOM 操作</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20DOMExample()%20%7B%0Aconst%20titleRef%20%3D%20useRef(null)%3B%0Aconst%20inputRef%20%3D%20useRef(null)%3B%0Aconst%20handleStyleChange%20%3D%20()%20%3D%3E%20%7B%0AtitleRef.current.style.color%20%3D%20'red'%3B%0AtitleRef.current.style.fontSize%20%3D%20'24px'%3B%0A%7D%3B%0Aconst%20handleInputFocus%20%3D%20()%20%3D%3E%20%7B%0AinputRef.current.focus()%3B%0AinputRef.current.select()%3B%20%2F%2F%20%E9%80%89%E4%B8%AD%E6%89%80%E6%9C%89%E6%96%87%E6%9C%AC%0A%7D%3B%0Aconst%20handleGetValue%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log('%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E5%80%BC%3A'%2C%20inputRef.current.value)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ah1%20ref%3D%7BtitleRef%7D%3E%E6%A0%87%E9%A2%98h1%3E%0Ainput%20ref%3D%7BinputRef%7D%20type%3D%22text%22%20defaultValue%3D%22%E9%BB%98%E8%AE%A4%E6%96%87%E6%9C%AC%22%20%2F%3E%0Abutton%20onClick%3D%7BhandleStyleChange%7D%3E%E6%94%B9%E5%8F%98%E6%A0%87%E9%A2%98%E6%A0%B7%E5%BC%8Fbutton%3E%0Abutton%20onClick%3D%7BhandleInputFocus%7D%3E%E8%81%9A%E7%84%A6%E5%B9%B6%E9%80%89%E4%B8%ADbutton%3E%0Abutton%20onClick%3D%7BhandleGetValue%7D%3E%E8%8E%B7%E5%8F%96%E8%BE%93%E5%85%A5%E5%80%BCbutton%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">DOMExample</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> titleRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> inputRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleStyleChange</span> = (<span class="hljs-params inline"></span>) =&gt; {
    titleRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">color</span> = <span class="hljs-string inline">&#x27;red&#x27;</span>;
    titleRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">style</span>.<span class="hljs-property inline">fontSize</span> = <span class="hljs-string inline">&#x27;24px&#x27;</span>;
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleInputFocus</span> = (<span class="hljs-params inline"></span>) =&gt; {
    inputRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">focus</span>();
    inputRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">select</span>(); <span class="hljs-comment inline">// 选中所有文本</span>
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleGetValue</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;输入框的值:&#x27;</span>, inputRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">value</span>);
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h1</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{titleRef}</span>&gt;</span>标题<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h1</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{inputRef}</span> <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;text&quot;</span> <span class="hljs-attr inline">defaultValue</span>=<span class="hljs-string inline">&quot;默认文本&quot;</span> /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleStyleChange}</span>&gt;</span>改变标题样式<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleInputFocus}</span>&gt;</span>聚焦并选中<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleGetValue}</span>&gt;</span>获取输入值<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="滚动控制" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#滚动控制" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 滚动控制">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">滚动控制</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20ScrollExample()%20%7B%0Aconst%20containerRef%20%3D%20useRef(null)%3B%0Aconst%20topRef%20%3D%20useRef(null)%3B%0Aconst%20bottomRef%20%3D%20useRef(null)%3B%0Aconst%20scrollToTop%20%3D%20()%20%3D%3E%20%7B%0AtopRef.current%3F.scrollIntoView(%7B%0Abehavior%3A%20'smooth'%0A%7D)%3B%0A%7D%3B%0Aconst%20scrollToBottom%20%3D%20()%20%3D%3E%20%7B%0AbottomRef.current%3F.scrollIntoView(%7B%0Abehavior%3A%20'smooth'%0A%7D)%3B%0A%7D%3B%0Aconst%20scrollToPosition%20%3D%20(position)%20%3D%3E%20%7B%0AcontainerRef.current%3F.scrollTo(%7B%0Atop%3A%20position%2C%0Abehavior%3A%20'smooth'%0A%7D)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Abutton%20onClick%3D%7BscrollToTop%7D%3E%E6%BB%9A%E5%8A%A8%E5%88%B0%E9%A1%B6%E9%83%A8button%3E%0Abutton%20onClick%3D%7BscrollToBottom%7D%3E%E6%BB%9A%E5%8A%A8%E5%88%B0%E5%BA%95%E9%83%A8button%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20scrollToPosition(500)%7D%3E%E6%BB%9A%E5%8A%A8%E5%88%B0500px%E4%BD%8D%E7%BD%AEbutton%3E%0Adiv%20ref%3D%7BcontainerRef%7D%20style%3D%7B%7B%20height%3A%20300%2C%20overflow%3A%20'auto'%20%7D%7D%3E%0Adiv%20ref%3D%7BtopRef%7D%3E%E9%A1%B6%E9%83%A8%E5%86%85%E5%AE%B9div%3E%0Adiv%20style%3D%7B%7B%20height%3A%201000%20%7D%7D%3E%E4%B8%AD%E9%97%B4%E5%86%85%E5%AE%B9...div%3E%0Adiv%20ref%3D%7BbottomRef%7D%3E%E5%BA%95%E9%83%A8%E5%86%85%E5%AE%B9div%3E%0Adiv%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">ScrollExample</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> containerRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> topRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> bottomRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">scrollToTop</span> = (<span class="hljs-params inline"></span>) =&gt; {
    topRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">scrollIntoView</span>({ 
      <span class="hljs-attr inline">behavior</span>: <span class="hljs-string inline">&#x27;smooth&#x27;</span> 
    });
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">scrollToBottom</span> = (<span class="hljs-params inline"></span>) =&gt; {
    bottomRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">scrollIntoView</span>({ 
      <span class="hljs-attr inline">behavior</span>: <span class="hljs-string inline">&#x27;smooth&#x27;</span> 
    });
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">scrollToPosition</span> = (<span class="hljs-params inline">position</span>) =&gt; {
    containerRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">scrollTo</span>({
      <span class="hljs-attr inline">top</span>: position,
      <span class="hljs-attr inline">behavior</span>: <span class="hljs-string inline">&#x27;smooth&#x27;</span>
    });
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{scrollToTop}</span>&gt;</span>滚动到顶部<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{scrollToBottom}</span>&gt;</span>滚动到底部<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{()</span> =&gt;</span> scrollToPosition(500)}&gt;滚动到500px位置<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{containerRef}</span> <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{</span> <span class="hljs-attr inline">height:</span> <span class="hljs-attr inline">300</span>, <span class="hljs-attr inline">overflow:</span> &#x27;<span class="hljs-attr inline">auto</span>&#x27; }}&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{topRef}</span>&gt;</span>顶部内容<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{</span> <span class="hljs-attr inline">height:</span> <span class="hljs-attr inline">1000</span> }}&gt;</span>中间内容...<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{bottomRef}</span>&gt;</span>底部内容<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="保存可变值" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#保存可变值" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 保存可变值">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">保存可变值</strong>
        </h3>
<h4 id="不触发重新渲染的计数器" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#不触发重新渲染的计数器" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 不触发重新渲染的计数器">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">不触发重新渲染的计数器</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20MutableCounter()%20%7B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0Aconst%20renderCount%20%3D%20useRef(0)%3B%0Aconst%20previousCount%20%3D%20useRef(0)%3B%0A%2F%2F%20%E6%AF%8F%E6%AC%A1%E6%B8%B2%E6%9F%93%E6%97%B6%E5%A2%9E%E5%8A%A0%E6%B8%B2%E6%9F%93%E8%AE%A1%E6%95%B0%0ArenderCount.current%20%2B%3D%201%3B%0A%2F%2F%20%E4%BF%9D%E5%AD%98%E4%B8%8A%E4%B8%80%E6%AC%A1%E7%9A%84%20count%20%E5%80%BC%0AuseEffect(()%20%3D%3E%20%7B%0ApreviousCount.current%20%3D%20count%3B%0A%7D)%3B%0Areturn%20(%0Adiv%3E%0Ap%3E%E5%BD%93%E5%89%8D%E8%AE%A1%E6%95%B0%3A%20%7Bcount%7Dp%3E%0Ap%3E%E4%B8%8A%E4%B8%80%E6%AC%A1%E8%AE%A1%E6%95%B0%3A%20%7BpreviousCount.current%7Dp%3E%0Ap%3E%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93%E6%AC%A1%E6%95%B0%3A%20%7BrenderCount.current%7Dp%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20setCount(count%20%2B%201)%7D%3E%E5%A2%9E%E5%8A%A0button%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">MutableCounter</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [count, setCount] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> renderCount = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> previousCount = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-number inline">0</span>);

  <span class="hljs-comment inline">// 每次渲染时增加渲染计数</span>
  renderCount.<span class="hljs-property inline">current</span> += <span class="hljs-number inline">1</span>;

  <span class="hljs-comment inline">// 保存上一次的 count 值</span>
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    previousCount.<span class="hljs-property inline">current</span> = count;
  });

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>当前计数: {count}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>上一次计数: {previousCount.current}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>组件渲染次数: {renderCount.current}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{()</span> =&gt;</span> setCount(count + 1)}&gt;增加<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="存储定时器引用" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#存储定时器引用" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 存储定时器引用">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">存储定时器引用</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20Timer()%20%7B%0Aconst%20%5Bseconds%2C%20setSeconds%5D%20%3D%20useState(0)%3B%0Aconst%20%5BisRunning%2C%20setIsRunning%5D%20%3D%20useState(false)%3B%0Aconst%20intervalRef%20%3D%20useRef(null)%3B%0Aconst%20startTimer%20%3D%20()%20%3D%3E%20%7B%0Aif%20(!isRunning)%20%7B%0AsetIsRunning(true)%3B%0AintervalRef.current%20%3D%20setInterval(()%20%3D%3E%20%7B%0AsetSeconds(prev%20%3D%3E%20prev%20%2B%201)%3B%0A%7D%2C%201000)%3B%0A%7D%0A%7D%3B%0Aconst%20stopTimer%20%3D%20()%20%3D%3E%20%7B%0Aif%20(isRunning)%20%7B%0AsetIsRunning(false)%3B%0AclearInterval(intervalRef.current)%3B%0A%7D%0A%7D%3B%0Aconst%20resetTimer%20%3D%20()%20%3D%3E%20%7B%0AsetSeconds(0)%3B%0AsetIsRunning(false)%3B%0AclearInterval(intervalRef.current)%3B%0A%7D%3B%0A%2F%2F%20%E7%BB%84%E4%BB%B6%E5%8D%B8%E8%BD%BD%E6%97%B6%E6%B8%85%E7%90%86%E5%AE%9A%E6%97%B6%E5%99%A8%0AuseEffect(()%20%3D%3E%20%7B%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(intervalRef.current)%20%7B%0AclearInterval(intervalRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5B%5D)%3B%0Areturn%20(%0Adiv%3E%0Ah2%3E%E8%AE%A1%E6%97%B6%E5%99%A8%3A%20%7Bseconds%7D%E7%A7%92h2%3E%0Abutton%20onClick%3D%7BstartTimer%7D%20disabled%3D%7BisRunning%7D%3E%0A%E5%BC%80%E5%A7%8B%0Abutton%3E%0Abutton%20onClick%3D%7BstopTimer%7D%20disabled%3D%7B!isRunning%7D%3E%0A%E5%81%9C%E6%AD%A2%0Abutton%3E%0Abutton%20onClick%3D%7BresetTimer%7D%3E%E9%87%8D%E7%BD%AEbutton%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">Timer</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [seconds, setSeconds] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> [isRunning, setIsRunning] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);
  <span class="hljs-keyword inline">const</span> intervalRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">startTimer</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-keyword inline">if</span> (!isRunning) {
      <span class="hljs-title function_ inline">setIsRunning</span>(<span class="hljs-literal inline">true</span>);
      intervalRef.<span class="hljs-property inline">current</span> = <span class="hljs-built_in inline">setInterval</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-title function_ inline">setSeconds</span>(<span class="hljs-function inline"><span class="hljs-params inline">prev</span> =&gt;</span> prev + <span class="hljs-number inline">1</span>);
      }, <span class="hljs-number inline">1000</span>);
    }
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">stopTimer</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-keyword inline">if</span> (isRunning) {
      <span class="hljs-title function_ inline">setIsRunning</span>(<span class="hljs-literal inline">false</span>);
      <span class="hljs-built_in inline">clearInterval</span>(intervalRef.<span class="hljs-property inline">current</span>);
    }
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">resetTimer</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-title function_ inline">setSeconds</span>(<span class="hljs-number inline">0</span>);
    <span class="hljs-title function_ inline">setIsRunning</span>(<span class="hljs-literal inline">false</span>);
    <span class="hljs-built_in inline">clearInterval</span>(intervalRef.<span class="hljs-property inline">current</span>);
  };

  <span class="hljs-comment inline">// 组件卸载时清理定时器</span>
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
      <span class="hljs-keyword inline">if</span> (intervalRef.<span class="hljs-property inline">current</span>) {
        <span class="hljs-built_in inline">clearInterval</span>(intervalRef.<span class="hljs-property inline">current</span>);
      }
    };
  }, []);

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h2</span>&gt;</span>计时器: {seconds}秒<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h2</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{startTimer}</span> <span class="hljs-attr inline">disabled</span>=<span class="hljs-string inline">{isRunning}</span>&gt;</span>
        开始
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{stopTimer}</span> <span class="hljs-attr inline">disabled</span>=<span class="hljs-string inline">{!isRunning}</span>&gt;</span>
        停止
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{resetTimer}</span>&gt;</span>重置<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="表单处理" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#表单处理" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 表单处理">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">表单处理</strong>
        </h3>
<h4 id="非受控组件" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#非受控组件" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 非受控组件">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">非受控组件</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20UncontrolledForm()%20%7B%0Aconst%20nameRef%20%3D%20useRef(null)%3B%0Aconst%20emailRef%20%3D%20useRef(null)%3B%0Aconst%20passwordRef%20%3D%20useRef(null)%3B%0Aconst%20handleSubmit%20%3D%20(e)%20%3D%3E%20%7B%0Ae.preventDefault()%3B%0Aconst%20formData%20%3D%20%7B%0Aname%3A%20nameRef.current.value%2C%0Aemail%3A%20emailRef.current.value%2C%0Apassword%3A%20passwordRef.current.value%0A%7D%3B%0Aconsole.log('%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%3A'%2C%20formData)%3B%0A%7D%3B%0Aconst%20clearForm%20%3D%20()%20%3D%3E%20%7B%0AnameRef.current.value%20%3D%20''%3B%0AemailRef.current.value%20%3D%20''%3B%0ApasswordRef.current.value%20%3D%20''%3B%0AnameRef.current.focus()%3B%0A%7D%3B%0Areturn%20(%0Aform%20onSubmit%3D%7BhandleSubmit%7D%3E%0Adiv%3E%0Alabel%3E%E5%A7%93%E5%90%8D%3Alabel%3E%0Ainput%20ref%3D%7BnameRef%7D%20type%3D%22text%22%20required%20%2F%3E%0Adiv%3E%0Adiv%3E%0Alabel%3E%E9%82%AE%E7%AE%B1%3Alabel%3E%0Ainput%20ref%3D%7BemailRef%7D%20type%3D%22email%22%20required%20%2F%3E%0Adiv%3E%0Adiv%3E%0Alabel%3E%E5%AF%86%E7%A0%81%3Alabel%3E%0Ainput%20ref%3D%7BpasswordRef%7D%20type%3D%22password%22%20required%20%2F%3E%0Adiv%3E%0Abutton%20type%3D%22submit%22%3E%E6%8F%90%E4%BA%A4button%3E%0Abutton%20type%3D%22button%22%20onClick%3D%7BclearForm%7D%3E%E6%B8%85%E7%A9%BAbutton%3E%0Aform%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">UncontrolledForm</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> nameRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> emailRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> passwordRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleSubmit</span> = (<span class="hljs-params inline">e</span>) =&gt; {
    e.<span class="hljs-title function_ inline">preventDefault</span>();
    
    <span class="hljs-keyword inline">const</span> formData = {
      <span class="hljs-attr inline">name</span>: nameRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">value</span>,
      <span class="hljs-attr inline">email</span>: emailRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">value</span>,
      <span class="hljs-attr inline">password</span>: passwordRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">value</span>
    };

    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;表单数据:&#x27;</span>, formData);
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">clearForm</span> = (<span class="hljs-params inline"></span>) =&gt; {
    nameRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&#x27;&#x27;</span>;
    emailRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&#x27;&#x27;</span>;
    passwordRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&#x27;&#x27;</span>;
    nameRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">focus</span>();
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">form</span> <span class="hljs-attr inline">onSubmit</span>=<span class="hljs-string inline">{handleSubmit}</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">label</span>&gt;</span>姓名:<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">label</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{nameRef}</span> <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;text&quot;</span> <span class="hljs-attr inline">required</span> /&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">label</span>&gt;</span>邮箱:<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">label</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{emailRef}</span> <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;email&quot;</span> <span class="hljs-attr inline">required</span> /&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">label</span>&gt;</span>密码:<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">label</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{passwordRef}</span> <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;password&quot;</span> <span class="hljs-attr inline">required</span> /&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;submit&quot;</span>&gt;</span>提交<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;button&quot;</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{clearForm}</span>&gt;</span>清空<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">form</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="文件上传" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#文件上传" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 文件上传">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">文件上传</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20FileUpload()%20%7B%0Aconst%20fileInputRef%20%3D%20useRef(null)%3B%0Aconst%20%5BselectedFiles%2C%20setSelectedFiles%5D%20%3D%20useState(%5B%5D)%3B%0Aconst%20handleFileSelect%20%3D%20()%20%3D%3E%20%7B%0AfileInputRef.current%3F.click()%3B%0A%7D%3B%0Aconst%20handleFileChange%20%3D%20(e)%20%3D%3E%20%7B%0Aconst%20files%20%3D%20Array.from(e.target.files)%3B%0AsetSelectedFiles(files)%3B%0A%7D%3B%0Aconst%20clearFiles%20%3D%20()%20%3D%3E%20%7B%0AfileInputRef.current.value%20%3D%20''%3B%0AsetSelectedFiles(%5B%5D)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Aref%3D%7BfileInputRef%7D%0Atype%3D%22file%22%0Amultiple%0AonChange%3D%7BhandleFileChange%7D%0Astyle%3D%7B%7B%20display%3A%20'none'%20%7D%7D%0A%2F%3E%0Abutton%20onClick%3D%7BhandleFileSelect%7D%3E%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6button%3E%0Abutton%20onClick%3D%7BclearFiles%7D%3E%E6%B8%85%E7%A9%BA%E9%80%89%E6%8B%A9button%3E%0A%7BselectedFiles.length%20%3E%200%20%26%26%20(%0Adiv%3E%0Ah3%3E%E5%B7%B2%E9%80%89%E6%8B%A9%E7%9A%84%E6%96%87%E4%BB%B6%3Ah3%3E%0Aul%3E%0A%7BselectedFiles.map((file%2C%20index)%20%3D%3E%20(%0Ali%20key%3D%7Bindex%7D%3E%0A%7Bfile.name%7D%20(%7B(file.size%20%2F%201024).toFixed(2)%7D%20KB)%0Ali%3E%0A))%7D%0Aul%3E%0Adiv%3E%0A)%7D%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">FileUpload</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> fileInputRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> [selectedFiles, setSelectedFiles] = <span class="hljs-title function_ inline">useState</span>([]);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleFileSelect</span> = (<span class="hljs-params inline"></span>) =&gt; {
    fileInputRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">click</span>();
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleFileChange</span> = (<span class="hljs-params inline">e</span>) =&gt; {
    <span class="hljs-keyword inline">const</span> files = <span class="hljs-title class_ inline">Array</span>.<span class="hljs-title function_ inline">from</span>(e.<span class="hljs-property inline">target</span>.<span class="hljs-property inline">files</span>);
    <span class="hljs-title function_ inline">setSelectedFiles</span>(files);
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">clearFiles</span> = (<span class="hljs-params inline"></span>) =&gt; {
    fileInputRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&#x27;&#x27;</span>;
    <span class="hljs-title function_ inline">setSelectedFiles</span>([]);
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span>
        <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{fileInputRef}</span>
        <span class="hljs-attr inline">type</span>=<span class="hljs-string inline">&quot;file&quot;</span>
        <span class="hljs-attr inline">multiple</span>
        <span class="hljs-attr inline">onChange</span>=<span class="hljs-string inline">{handleFileChange}</span>
        <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{</span> <span class="hljs-attr inline">display:</span> &#x27;<span class="hljs-attr inline">none</span>&#x27; }}
      /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleFileSelect}</span>&gt;</span>选择文件<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{clearFiles}</span>&gt;</span>清空选择<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      
      {selectedFiles.length &gt; 0 &amp;&amp; (
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
          <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h3</span>&gt;</span>已选择的文件:<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h3</span>&gt;</span>
          <span class="hljs-tag inline">&lt;<span class="hljs-name inline">ul</span>&gt;</span>
            {selectedFiles.map((file, index) =&gt; (
              <span class="hljs-tag inline">&lt;<span class="hljs-name inline">li</span> <span class="hljs-attr inline">key</span>=<span class="hljs-string inline">{index}</span>&gt;</span>
                {file.name} ({(file.size / 1024).toFixed(2)} KB)
              <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">li</span>&gt;</span>
            ))}
          <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">ul</span>&gt;</span>
        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      )}
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="缓存和性能优化" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#缓存和性能优化" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 缓存和性能优化">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">缓存和性能优化</strong>
        </h3>
<h4 id="缓存昂贵计算的结果" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#缓存昂贵计算的结果" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 缓存昂贵计算的结果">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">缓存昂贵计算的结果</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20ExpensiveCalculation(%7B%20data%20%7D)%20%7B%0Aconst%20%5Bfilter%2C%20setFilter%5D%20%3D%20useState('')%3B%0Aconst%20cacheRef%20%3D%20useRef(new%20Map())%3B%0Aconst%20getProcessedData%20%3D%20useMemo(()%20%3D%3E%20%7B%0Aconst%20cacheKey%20%3D%20%60%24%7BJSON.stringify(data)%7D-%24%7Bfilter%7D%60%3B%0Aif%20(cacheRef.current.has(cacheKey))%20%7B%0Aconsole.log('%E4%BB%8E%E7%BC%93%E5%AD%98%E8%8E%B7%E5%8F%96%E7%BB%93%E6%9E%9C')%3B%0Areturn%20cacheRef.current.get(cacheKey)%3B%0A%7D%0Aconsole.log('%E6%89%A7%E8%A1%8C%E6%98%82%E8%B4%B5%E8%AE%A1%E7%AE%97')%3B%0Aconst%20result%20%3D%20data%0A.filter(item%20%3D%3E%20item.name.includes(filter))%0A.map(item%20%3D%3E%20(%7B%0A...item%2C%0Aprocessed%3A%20true%2C%0Atimestamp%3A%20Date.now()%0A%7D))%3B%0AcacheRef.current.set(cacheKey%2C%20result)%3B%0A%2F%2F%20%E9%99%90%E5%88%B6%E7%BC%93%E5%AD%98%E5%A4%A7%E5%B0%8F%0Aif%20(cacheRef.current.size%20%3E%2010)%20%7B%0Aconst%20firstKey%20%3D%20cacheRef.current.keys().next().value%3B%0AcacheRef.current.delete(firstKey)%3B%0A%7D%0Areturn%20result%3B%0A%7D%2C%20%5Bdata%2C%20filter%5D)%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Avalue%3D%7Bfilter%7D%0AonChange%3D%7B(e)%20%3D%3E%20setFilter(e.target.value)%7D%0Aplaceholder%3D%22%E6%90%9C%E7%B4%A2...%22%0A%2F%3E%0Ap%3E%E7%BB%93%E6%9E%9C%E6%95%B0%E9%87%8F%3A%20%7BgetProcessedData.length%7Dp%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">ExpensiveCalculation</span>(<span class="hljs-params inline">{ data }</span>) {
  <span class="hljs-keyword inline">const</span> [filter, setFilter] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-string inline">&#x27;&#x27;</span>);
  <span class="hljs-keyword inline">const</span> cacheRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Map</span>());

  <span class="hljs-keyword inline">const</span> getProcessedData = <span class="hljs-title function_ inline">useMemo</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">const</span> cacheKey = <span class="hljs-string inline">`<span class="hljs-subst inline">${<span class="hljs-built_in inline">JSON</span>.stringify(data)}</span>-<span class="hljs-subst inline">${filter}</span>`</span>;
    
    <span class="hljs-keyword inline">if</span> (cacheRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">has</span>(cacheKey)) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;从缓存获取结果&#x27;</span>);
      <span class="hljs-keyword inline">return</span> cacheRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">get</span>(cacheKey);
    }

    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;执行昂贵计算&#x27;</span>);
    <span class="hljs-keyword inline">const</span> result = data
      .<span class="hljs-title function_ inline">filter</span>(<span class="hljs-function inline"><span class="hljs-params inline">item</span> =&gt;</span> item.<span class="hljs-property inline">name</span>.<span class="hljs-title function_ inline">includes</span>(filter))
      .<span class="hljs-title function_ inline">map</span>(<span class="hljs-function inline"><span class="hljs-params inline">item</span> =&gt;</span> ({
        ...item,
        <span class="hljs-attr inline">processed</span>: <span class="hljs-literal inline">true</span>,
        <span class="hljs-attr inline">timestamp</span>: <span class="hljs-title class_ inline">Date</span>.<span class="hljs-title function_ inline">now</span>()
      }));

    cacheRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">set</span>(cacheKey, result);
    
    <span class="hljs-comment inline">// 限制缓存大小</span>
    <span class="hljs-keyword inline">if</span> (cacheRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">size</span> &gt; <span class="hljs-number inline">10</span>) {
      <span class="hljs-keyword inline">const</span> firstKey = cacheRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">keys</span>().<span class="hljs-title function_ inline">next</span>().<span class="hljs-property inline">value</span>;
      cacheRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">delete</span>(firstKey);
    }

    <span class="hljs-keyword inline">return</span> result;
  }, [data, filter]);

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span>
        <span class="hljs-attr inline">value</span>=<span class="hljs-string inline">{filter}</span>
        <span class="hljs-attr inline">onChange</span>=<span class="hljs-string inline">{(e)</span> =&gt;</span> setFilter(e.target.value)}
        placeholder=&quot;搜索...&quot;
      /&gt;
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>结果数量: {getProcessedData.length}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="防抖处理" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#防抖处理" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 防抖处理">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">防抖处理</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20SearchWithDebounce()%20%7B%0Aconst%20%5Bquery%2C%20setQuery%5D%20%3D%20useState('')%3B%0Aconst%20%5Bresults%2C%20setResults%5D%20%3D%20useState(%5B%5D)%3B%0Aconst%20debounceTimeoutRef%20%3D%20useRef(null)%3B%0Aconst%20handleSearch%20%3D%20(searchQuery)%20%3D%3E%20%7B%0A%2F%2F%20%E6%B8%85%E9%99%A4%E4%B9%8B%E5%89%8D%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8%0Aif%20(debounceTimeoutRef.current)%20%7B%0AclearTimeout(debounceTimeoutRef.current)%3B%0A%7D%0A%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%96%B0%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8%0AdebounceTimeoutRef.current%20%3D%20setTimeout(()%20%3D%3E%20%7B%0Aif%20(searchQuery)%20%7B%0A%2F%2F%20%E6%A8%A1%E6%8B%9FAPI%E8%B0%83%E7%94%A8%0Aconsole.log('%E6%90%9C%E7%B4%A2%3A'%2C%20searchQuery)%3B%0AsetResults(%5B%0A%60%E7%BB%93%E6%9E%9C1%3A%20%24%7BsearchQuery%7D%60%2C%0A%60%E7%BB%93%E6%9E%9C2%3A%20%24%7BsearchQuery%7D%60%2C%0A%60%E7%BB%93%E6%9E%9C3%3A%20%24%7BsearchQuery%7D%60%0A%5D)%3B%0A%7D%20else%20%7B%0AsetResults(%5B%5D)%3B%0A%7D%0A%7D%2C%20500)%3B%20%2F%2F%20500ms%E9%98%B2%E6%8A%96%0A%7D%3B%0Aconst%20handleInputChange%20%3D%20(e)%20%3D%3E%20%7B%0Aconst%20value%20%3D%20e.target.value%3B%0AsetQuery(value)%3B%0AhandleSearch(value)%3B%0A%7D%3B%0A%2F%2F%20%E6%B8%85%E7%90%86%E5%AE%9A%E6%97%B6%E5%99%A8%0AuseEffect(()%20%3D%3E%20%7B%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(debounceTimeoutRef.current)%20%7B%0AclearTimeout(debounceTimeoutRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5B%5D)%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Avalue%3D%7Bquery%7D%0AonChange%3D%7BhandleInputChange%7D%0Aplaceholder%3D%22%E8%BE%93%E5%85%A5%E6%90%9C%E7%B4%A2%E5%85%B3%E9%94%AE%E8%AF%8D...%22%0A%2F%3E%0Aul%3E%0A%7Bresults.map((result%2C%20index)%20%3D%3E%20(%0Ali%20key%3D%7Bindex%7D%3E%7Bresult%7Dli%3E%0A))%7D%0Aul%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">SearchWithDebounce</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [query, setQuery] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-string inline">&#x27;&#x27;</span>);
  <span class="hljs-keyword inline">const</span> [results, setResults] = <span class="hljs-title function_ inline">useState</span>([]);
  <span class="hljs-keyword inline">const</span> debounceTimeoutRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleSearch</span> = (<span class="hljs-params inline">searchQuery</span>) =&gt; {
    <span class="hljs-comment inline">// 清除之前的定时器</span>
    <span class="hljs-keyword inline">if</span> (debounceTimeoutRef.<span class="hljs-property inline">current</span>) {
      <span class="hljs-built_in inline">clearTimeout</span>(debounceTimeoutRef.<span class="hljs-property inline">current</span>);
    }

    <span class="hljs-comment inline">// 设置新的定时器</span>
    debounceTimeoutRef.<span class="hljs-property inline">current</span> = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-function inline">() =&gt;</span> {
      <span class="hljs-keyword inline">if</span> (searchQuery) {
        <span class="hljs-comment inline">// 模拟API调用</span>
        <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;搜索:&#x27;</span>, searchQuery);
        <span class="hljs-title function_ inline">setResults</span>([
          <span class="hljs-string inline">`结果1: <span class="hljs-subst inline">${searchQuery}</span>`</span>,
          <span class="hljs-string inline">`结果2: <span class="hljs-subst inline">${searchQuery}</span>`</span>,
          <span class="hljs-string inline">`结果3: <span class="hljs-subst inline">${searchQuery}</span>`</span>
        ]);
      } <span class="hljs-keyword inline">else</span> {
        <span class="hljs-title function_ inline">setResults</span>([]);
      }
    }, <span class="hljs-number inline">500</span>); <span class="hljs-comment inline">// 500ms防抖</span>
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleInputChange</span> = (<span class="hljs-params inline">e</span>) =&gt; {
    <span class="hljs-keyword inline">const</span> value = e.<span class="hljs-property inline">target</span>.<span class="hljs-property inline">value</span>;
    <span class="hljs-title function_ inline">setQuery</span>(value);
    <span class="hljs-title function_ inline">handleSearch</span>(value);
  };

  <span class="hljs-comment inline">// 清理定时器</span>
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
      <span class="hljs-keyword inline">if</span> (debounceTimeoutRef.<span class="hljs-property inline">current</span>) {
        <span class="hljs-built_in inline">clearTimeout</span>(debounceTimeoutRef.<span class="hljs-property inline">current</span>);
      }
    };
  }, []);

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span>
        <span class="hljs-attr inline">value</span>=<span class="hljs-string inline">{query}</span>
        <span class="hljs-attr inline">onChange</span>=<span class="hljs-string inline">{handleInputChange}</span>
        <span class="hljs-attr inline">placeholder</span>=<span class="hljs-string inline">&quot;输入搜索关键词...&quot;</span>
      /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">ul</span>&gt;</span>
        {results.map((result, index) =&gt; (
          <span class="hljs-tag inline">&lt;<span class="hljs-name inline">li</span> <span class="hljs-attr inline">key</span>=<span class="hljs-string inline">{index}</span>&gt;</span>{result}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">li</span>&gt;</span>
        ))}
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">ul</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="组件间通信" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#组件间通信" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 组件间通信">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">组件间通信</strong>
        </h3>
<h4 id="转发-ref" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#转发-ref" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 转发 ref">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">转发 ref</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="%2F%2F%20%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%20forwardRef%0Aconst%20CustomInput%20%3D%20React.forwardRef((props%2C%20ref)%20%3D%3E%20%7B%0Areturn%20(%0Ainput%0Aref%3D%7Bref%7D%0Astyle%3D%7B%7B%0Apadding%3A%20'8px'%2C%0Aborder%3A%20'2px%20solid%20%23ccc'%2C%0AborderRadius%3A%20'4px'%0A%7D%7D%0A%7B...props%7D%0A%2F%3E%0A)%3B%0A%7D)%3B%0A%2F%2F%20%E7%88%B6%E7%BB%84%E4%BB%B6%0Afunction%20ParentComponent()%20%7B%0Aconst%20inputRef%20%3D%20useRef(null)%3B%0Aconst%20focusInput%20%3D%20()%20%3D%3E%20%7B%0AinputRef.current%3F.focus()%3B%0A%7D%3B%0Aconst%20getInputValue%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log('%E8%BE%93%E5%85%A5%E5%80%BC%3A'%2C%20inputRef.current%3F.value)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0ACustomInput%20ref%3D%7BinputRef%7D%20placeholder%3D%22%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BE%93%E5%85%A5%E6%A1%86%22%20%2F%3E%0Abutton%20onClick%3D%7BfocusInput%7D%3E%E8%81%9A%E7%84%A6button%3E%0Abutton%20onClick%3D%7BgetInputValue%7D%3E%E8%8E%B7%E5%8F%96%E5%80%BCbutton%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-comment inline">// 子组件使用 forwardRef</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title class_ inline">CustomInput</span> = <span class="hljs-title class_ inline">React</span>.<span class="hljs-title function_ inline">forwardRef</span>(<span class="hljs-function inline">(<span class="hljs-params inline">props, ref</span>) =&gt;</span> {
  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span>
      <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{ref}</span>
      <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{{</span>
        <span class="hljs-attr inline">padding:</span> &#x27;<span class="hljs-attr inline">8px</span>&#x27;,
        <span class="hljs-attr inline">border:</span> &#x27;<span class="hljs-attr inline">2px</span> <span class="hljs-attr inline">solid</span> #<span class="hljs-attr inline">ccc</span>&#x27;,
        <span class="hljs-attr inline">borderRadius:</span> &#x27;<span class="hljs-attr inline">4px</span>&#x27;
      }}
      {<span class="hljs-attr inline">...props</span>}
    /&gt;</span></span>
  );
});

<span class="hljs-comment inline">// 父组件</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">ParentComponent</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> inputRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">focusInput</span> = (<span class="hljs-params inline"></span>) =&gt; {
    inputRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">focus</span>();
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getInputValue</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;输入值:&#x27;</span>, inputRef.<span class="hljs-property inline">current</span>?.<span class="hljs-property inline">value</span>);
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">CustomInput</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{inputRef}</span> <span class="hljs-attr inline">placeholder</span>=<span class="hljs-string inline">&quot;自定义输入框&quot;</span> /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{focusInput}</span>&gt;</span>聚焦<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{getInputValue}</span>&gt;</span>获取值<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="暴露方法给父组件" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#暴露方法给父组件" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 暴露方法给父组件">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">暴露方法给父组件</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="%2F%2F%20%E5%AD%90%E7%BB%84%E4%BB%B6%0Aconst%20ChildComponent%20%3D%20React.forwardRef((props%2C%20ref)%20%3D%3E%20%7B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0Aconst%20internalRef%20%3D%20useRef(null)%3B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%20useImperativeHandle%20%E6%9A%B4%E9%9C%B2%E6%96%B9%E6%B3%95%0AuseImperativeHandle(ref%2C%20()%20%3D%3E%20(%7B%0Afocus%3A%20()%20%3D%3E%20%7B%0AinternalRef.current%3F.focus()%3B%0A%7D%2C%0Areset%3A%20()%20%3D%3E%20%7B%0AsetCount(0)%3B%0A%7D%2C%0Aincrement%3A%20()%20%3D%3E%20%7B%0AsetCount(prev%20%3D%3E%20prev%20%2B%201)%3B%0A%7D%2C%0AgetCount%3A%20()%20%3D%3E%20count%0A%7D))%3B%0Areturn%20(%0Adiv%3E%0Ainput%20ref%3D%7BinternalRef%7D%20value%3D%7Bcount%7D%20readOnly%20%2F%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20setCount(count%20%2B%201)%7D%3E%E5%86%85%E9%83%A8%E5%A2%9E%E5%8A%A0button%3E%0Adiv%3E%0A)%3B%0A%7D)%3B%0A%2F%2F%20%E7%88%B6%E7%BB%84%E4%BB%B6%0Afunction%20ImperativeParent()%20%7B%0Aconst%20childRef%20%3D%20useRef(null)%3B%0Aconst%20handleFocus%20%3D%20()%20%3D%3E%20%7B%0AchildRef.current%3F.focus()%3B%0A%7D%3B%0Aconst%20handleReset%20%3D%20()%20%3D%3E%20%7B%0AchildRef.current%3F.reset()%3B%0A%7D%3B%0Aconst%20handleIncrement%20%3D%20()%20%3D%3E%20%7B%0AchildRef.current%3F.increment()%3B%0A%7D%3B%0Aconst%20handleGetCount%20%3D%20()%20%3D%3E%20%7B%0Aconst%20count%20%3D%20childRef.current%3F.getCount()%3B%0Aconsole.log('%E5%BD%93%E5%89%8D%E8%AE%A1%E6%95%B0%3A'%2C%20count)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0AChildComponent%20ref%3D%7BchildRef%7D%20%2F%3E%0Abutton%20onClick%3D%7BhandleFocus%7D%3E%E8%81%9A%E7%84%A6%E5%AD%90%E7%BB%84%E4%BB%B6button%3E%0Abutton%20onClick%3D%7BhandleReset%7D%3E%E9%87%8D%E7%BD%AE%E8%AE%A1%E6%95%B0button%3E%0Abutton%20onClick%3D%7BhandleIncrement%7D%3E%E5%A4%96%E9%83%A8%E5%A2%9E%E5%8A%A0button%3E%0Abutton%20onClick%3D%7BhandleGetCount%7D%3E%E8%8E%B7%E5%8F%96%E8%AE%A1%E6%95%B0button%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-comment inline">// 子组件</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title class_ inline">ChildComponent</span> = <span class="hljs-title class_ inline">React</span>.<span class="hljs-title function_ inline">forwardRef</span>(<span class="hljs-function inline">(<span class="hljs-params inline">props, ref</span>) =&gt;</span> {
  <span class="hljs-keyword inline">const</span> [count, setCount] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> internalRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-comment inline">// 使用 useImperativeHandle 暴露方法</span>
  <span class="hljs-title function_ inline">useImperativeHandle</span>(ref, <span class="hljs-function inline">() =&gt;</span> ({
    <span class="hljs-attr inline">focus</span>: <span class="hljs-function inline">() =&gt;</span> {
      internalRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">focus</span>();
    },
    <span class="hljs-attr inline">reset</span>: <span class="hljs-function inline">() =&gt;</span> {
      <span class="hljs-title function_ inline">setCount</span>(<span class="hljs-number inline">0</span>);
    },
    <span class="hljs-attr inline">increment</span>: <span class="hljs-function inline">() =&gt;</span> {
      <span class="hljs-title function_ inline">setCount</span>(<span class="hljs-function inline"><span class="hljs-params inline">prev</span> =&gt;</span> prev + <span class="hljs-number inline">1</span>);
    },
    <span class="hljs-attr inline">getCount</span>: <span class="hljs-function inline">() =&gt;</span> count
  }));

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{internalRef}</span> <span class="hljs-attr inline">value</span>=<span class="hljs-string inline">{count}</span> <span class="hljs-attr inline">readOnly</span> /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{()</span> =&gt;</span> setCount(count + 1)}&gt;内部增加<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
});

<span class="hljs-comment inline">// 父组件</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">ImperativeParent</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> childRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleFocus</span> = (<span class="hljs-params inline"></span>) =&gt; {
    childRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">focus</span>();
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleReset</span> = (<span class="hljs-params inline"></span>) =&gt; {
    childRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">reset</span>();
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleIncrement</span> = (<span class="hljs-params inline"></span>) =&gt; {
    childRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">increment</span>();
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleGetCount</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-keyword inline">const</span> count = childRef.<span class="hljs-property inline">current</span>?.<span class="hljs-title function_ inline">getCount</span>();
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;当前计数:&#x27;</span>, count);
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">ChildComponent</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{childRef}</span> /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleFocus}</span>&gt;</span>聚焦子组件<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleReset}</span>&gt;</span>重置计数<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleIncrement}</span>&gt;</span>外部增加<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleGetCount}</span>&gt;</span>获取计数<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="常见陷阱和解决方案" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#常见陷阱和解决方案" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 常见陷阱和解决方案">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">常见陷阱和解决方案</strong>
        </h3>
<h4 id="ref-的初始值问题" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#ref-的初始值问题" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to ref 的初始值问题">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">ref 的初始值问题</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20RefInitializationExample()%20%7B%0Aconst%20divRef%20%3D%20useRef(null)%3B%0A%2F%2F%20%E9%94%99%E8%AF%AF%EF%BC%9A%E7%BB%84%E4%BB%B6%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E6%97%B6%20ref.current%20%E4%B8%BA%20null%0Aconst%20badExample%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log(divRef.current.scrollHeight)%3B%20%2F%2F%20%E5%8F%AF%E8%83%BD%E6%8A%A5%E9%94%99%0A%7D%3B%0A%2F%2F%20%E6%AD%A3%E7%A1%AE%EF%BC%9A%E6%A3%80%E6%9F%A5%20ref.current%20%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%0Aconst%20goodExample%20%3D%20()%20%3D%3E%20%7B%0Aif%20(divRef.current)%20%7B%0Aconsole.log(divRef.current.scrollHeight)%3B%0A%7D%0A%7D%3B%0A%2F%2F%20%E6%9B%B4%E5%AE%89%E5%85%A8%E7%9A%84%E5%86%99%E6%B3%95%EF%BC%9A%E4%BD%BF%E7%94%A8%E5%8F%AF%E9%80%89%E9%93%BE%0Aconst%20safestExample%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log(divRef.current%3F.scrollHeight)%3B%0A%7D%3B%0Areturn%20(%0Adiv%20ref%3D%7BdivRef%7D%3E%0Abutton%20onClick%3D%7BbadExample%7D%3E%E9%94%99%E8%AF%AF%E7%A4%BA%E4%BE%8Bbutton%3E%0Abutton%20onClick%3D%7BgoodExample%7D%3E%E6%AD%A3%E7%A1%AE%E7%A4%BA%E4%BE%8Bbutton%3E%0Abutton%20onClick%3D%7BsafestExample%7D%3E%E6%9C%80%E5%AE%89%E5%85%A8%E7%A4%BA%E4%BE%8Bbutton%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">RefInitializationExample</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> divRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  
  <span class="hljs-comment inline">// 错误：组件首次渲染时 ref.current 为 null</span>
  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">badExample</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(divRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">scrollHeight</span>); <span class="hljs-comment inline">// 可能报错</span>
  };

  <span class="hljs-comment inline">// 正确：检查 ref.current 是否存在</span>
  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">goodExample</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-keyword inline">if</span> (divRef.<span class="hljs-property inline">current</span>) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(divRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">scrollHeight</span>);
    }
  };

  <span class="hljs-comment inline">// 更安全的写法：使用可选链</span>
  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">safestExample</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(divRef.<span class="hljs-property inline">current</span>?.<span class="hljs-property inline">scrollHeight</span>);
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{divRef}</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{badExample}</span>&gt;</span>错误示例<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{goodExample}</span>&gt;</span>正确示例<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{safestExample}</span>&gt;</span>最安全示例<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="在依赖数组中使用-ref" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#在依赖数组中使用-ref" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 在依赖数组中使用 ref">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">在依赖数组中使用 ref</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20EffectWithRef()%20%7B%0Aconst%20divRef%20%3D%20useRef(null)%3B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0A%2F%2F%20%E9%94%99%E8%AF%AF%EF%BC%9Aref%20%E5%AF%B9%E8%B1%A1%E4%B8%8D%E5%BA%94%E8%AF%A5%E5%9C%A8%E4%BE%9D%E8%B5%96%E6%95%B0%E7%BB%84%E4%B8%AD%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(divRef.current)%20%7B%0AdivRef.current.textContent%20%3D%20%60%E8%AE%A1%E6%95%B0%3A%20%24%7Bcount%7D%60%3B%0A%7D%0A%7D%2C%20%5Bcount%2C%20divRef%5D)%3B%20%2F%2F%20divRef%20%E4%B8%8D%E5%BA%94%E8%AF%A5%E5%9C%A8%E8%BF%99%E9%87%8C%0A%2F%2F%20%E6%AD%A3%E7%A1%AE%EF%BC%9A%E5%8F%AA%E4%BE%9D%E8%B5%96%E5%AE%9E%E9%99%85%E9%9C%80%E8%A6%81%E7%9A%84%E5%80%BC%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(divRef.current)%20%7B%0AdivRef.current.textContent%20%3D%20%60%E8%AE%A1%E6%95%B0%3A%20%24%7Bcount%7D%60%3B%0A%7D%0A%7D%2C%20%5Bcount%5D)%3B%20%2F%2F%20%E5%8F%AA%E4%BE%9D%E8%B5%96%20count%0Areturn%20(%0Adiv%3E%0Adiv%20ref%3D%7BdivRef%7D%3Ediv%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20setCount(count%20%2B%201)%7D%3E%E5%A2%9E%E5%8A%A0button%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">EffectWithRef</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> divRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> [count, setCount] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-number inline">0</span>);

  <span class="hljs-comment inline">// 错误：ref 对象不应该在依赖数组中</span>
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (divRef.<span class="hljs-property inline">current</span>) {
      divRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">textContent</span> = <span class="hljs-string inline">`计数: <span class="hljs-subst inline">${count}</span>`</span>;
    }
  }, [count, divRef]); <span class="hljs-comment inline">// divRef 不应该在这里</span>

  <span class="hljs-comment inline">// 正确：只依赖实际需要的值</span>
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (divRef.<span class="hljs-property inline">current</span>) {
      divRef.<span class="hljs-property inline">current</span>.<span class="hljs-property inline">textContent</span> = <span class="hljs-string inline">`计数: <span class="hljs-subst inline">${count}</span>`</span>;
    }
  }, [count]); <span class="hljs-comment inline">// 只依赖 count</span>

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{divRef}</span>&gt;</span><span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{()</span> =&gt;</span> setCount(count + 1)}&gt;增加<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="自定义-hook-中的使用" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#自定义-hook-中的使用" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 自定义 Hook 中的使用">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">自定义 Hook 中的使用</strong>
        </h3>
<h4 id="自定义的防抖-hook" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#自定义的防抖-hook" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 自定义的防抖 Hook">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">自定义的防抖 Hook</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20useDebounce(callback%2C%20delay)%20%7B%0Aconst%20timeoutRef%20%3D%20useRef(null)%3B%0Aconst%20callbackRef%20%3D%20useRef(callback)%3B%0A%2F%2F%20%E4%BF%9D%E6%8C%81%E6%9C%80%E6%96%B0%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8%0AuseEffect(()%20%3D%3E%20%7B%0AcallbackRef.current%20%3D%20callback%3B%0A%7D)%3B%0Aconst%20debouncedCallback%20%3D%20useCallback((...args)%20%3D%3E%20%7B%0Aif%20(timeoutRef.current)%20%7B%0AclearTimeout(timeoutRef.current)%3B%0A%7D%0AtimeoutRef.current%20%3D%20setTimeout(()%20%3D%3E%20%7B%0AcallbackRef.current(...args)%3B%0A%7D%2C%20delay)%3B%0A%7D%2C%20%5Bdelay%5D)%3B%0A%2F%2F%20%E6%B8%85%E7%90%86%E5%AE%9A%E6%97%B6%E5%99%A8%0AuseEffect(()%20%3D%3E%20%7B%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(timeoutRef.current)%20%7B%0AclearTimeout(timeoutRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5B%5D)%3B%0Areturn%20debouncedCallback%3B%0A%7D%0A%2F%2F%20%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%20Hook%0Afunction%20SearchComponent()%20%7B%0Aconst%20%5Bquery%2C%20setQuery%5D%20%3D%20useState('')%3B%0Aconst%20%5Bresults%2C%20setResults%5D%20%3D%20useState(%5B%5D)%3B%0Aconst%20searchAPI%20%3D%20async%20(searchTerm)%20%3D%3E%20%7B%0Aconsole.log('%E6%90%9C%E7%B4%A2%3A'%2C%20searchTerm)%3B%0A%2F%2F%20%E6%A8%A1%E6%8B%9FAPI%E8%B0%83%E7%94%A8%0AsetResults(%5B%60%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%3A%20%24%7BsearchTerm%7D%60%5D)%3B%0A%7D%3B%0Aconst%20debouncedSearch%20%3D%20useDebounce(searchAPI%2C%20500)%3B%0Aconst%20handleInputChange%20%3D%20(e)%20%3D%3E%20%7B%0Aconst%20value%20%3D%20e.target.value%3B%0AsetQuery(value)%3B%0Aif%20(value)%20%7B%0AdebouncedSearch(value)%3B%0A%7D%20else%20%7B%0AsetResults(%5B%5D)%3B%0A%7D%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Avalue%3D%7Bquery%7D%0AonChange%3D%7BhandleInputChange%7D%0Aplaceholder%3D%22%E6%90%9C%E7%B4%A2...%22%0A%2F%3E%0Aul%3E%0A%7Bresults.map((result%2C%20index)%20%3D%3E%20(%0Ali%20key%3D%7Bindex%7D%3E%7Bresult%7Dli%3E%0A))%7D%0Aul%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">useDebounce</span>(<span class="hljs-params inline">callback, delay</span>) {
  <span class="hljs-keyword inline">const</span> timeoutRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);
  <span class="hljs-keyword inline">const</span> callbackRef = <span class="hljs-title function_ inline">useRef</span>(callback);

  <span class="hljs-comment inline">// 保持最新的回调函数引用</span>
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    callbackRef.<span class="hljs-property inline">current</span> = callback;
  });

  <span class="hljs-keyword inline">const</span> debouncedCallback = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">(<span class="hljs-params inline">...args</span>) =&gt;</span> {
    <span class="hljs-keyword inline">if</span> (timeoutRef.<span class="hljs-property inline">current</span>) {
      <span class="hljs-built_in inline">clearTimeout</span>(timeoutRef.<span class="hljs-property inline">current</span>);
    }

    timeoutRef.<span class="hljs-property inline">current</span> = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-function inline">() =&gt;</span> {
      callbackRef.<span class="hljs-title function_ inline">current</span>(...args);
    }, delay);
  }, [delay]);

  <span class="hljs-comment inline">// 清理定时器</span>
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
      <span class="hljs-keyword inline">if</span> (timeoutRef.<span class="hljs-property inline">current</span>) {
        <span class="hljs-built_in inline">clearTimeout</span>(timeoutRef.<span class="hljs-property inline">current</span>);
      }
    };
  }, []);

  <span class="hljs-keyword inline">return</span> debouncedCallback;
}

<span class="hljs-comment inline">// 使用自定义 Hook</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">SearchComponent</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [query, setQuery] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-string inline">&#x27;&#x27;</span>);
  <span class="hljs-keyword inline">const</span> [results, setResults] = <span class="hljs-title function_ inline">useState</span>([]);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">searchAPI</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline">searchTerm</span>) =&gt; {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;搜索:&#x27;</span>, searchTerm);
    <span class="hljs-comment inline">// 模拟API调用</span>
    <span class="hljs-title function_ inline">setResults</span>([<span class="hljs-string inline">`搜索结果: <span class="hljs-subst inline">${searchTerm}</span>`</span>]);
  };

  <span class="hljs-keyword inline">const</span> debouncedSearch = <span class="hljs-title function_ inline">useDebounce</span>(searchAPI, <span class="hljs-number inline">500</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleInputChange</span> = (<span class="hljs-params inline">e</span>) =&gt; {
    <span class="hljs-keyword inline">const</span> value = e.<span class="hljs-property inline">target</span>.<span class="hljs-property inline">value</span>;
    <span class="hljs-title function_ inline">setQuery</span>(value);
    <span class="hljs-keyword inline">if</span> (value) {
      <span class="hljs-title function_ inline">debouncedSearch</span>(value);
    } <span class="hljs-keyword inline">else</span> {
      <span class="hljs-title function_ inline">setResults</span>([]);
    }
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span>
        <span class="hljs-attr inline">value</span>=<span class="hljs-string inline">{query}</span>
        <span class="hljs-attr inline">onChange</span>=<span class="hljs-string inline">{handleInputChange}</span>
        <span class="hljs-attr inline">placeholder</span>=<span class="hljs-string inline">&quot;搜索...&quot;</span>
      /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">ul</span>&gt;</span>
        {results.map((result, index) =&gt; (
          <span class="hljs-tag inline">&lt;<span class="hljs-name inline">li</span> <span class="hljs-attr inline">key</span>=<span class="hljs-string inline">{index}</span>&gt;</span>{result}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">li</span>&gt;</span>
        ))}
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">ul</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="自定义的前一个值-hook" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#自定义的前一个值-hook" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 自定义的前一个值 Hook">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">自定义的前一个值 Hook</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20usePrevious(value)%20%7B%0Aconst%20ref%20%3D%20useRef()%3B%0AuseEffect(()%20%3D%3E%20%7B%0Aref.current%20%3D%20value%3B%0A%7D)%3B%0Areturn%20ref.current%3B%0A%7D%0A%2F%2F%20%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%0Afunction%20PreviousValueExample()%20%7B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0Aconst%20previousCount%20%3D%20usePrevious(count)%3B%0Areturn%20(%0Adiv%3E%0Ap%3E%E5%BD%93%E5%89%8D%E5%80%BC%3A%20%7Bcount%7Dp%3E%0Ap%3E%E5%89%8D%E4%B8%80%E4%B8%AA%E5%80%BC%3A%20%7BpreviousCount%7Dp%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20setCount(count%20%2B%201)%7D%3E%E5%A2%9E%E5%8A%A0button%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">usePrevious</span>(<span class="hljs-params inline">value</span>) {
  <span class="hljs-keyword inline">const</span> ref = <span class="hljs-title function_ inline">useRef</span>();
  
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    ref.<span class="hljs-property inline">current</span> = value;
  });
  
  <span class="hljs-keyword inline">return</span> ref.<span class="hljs-property inline">current</span>;
}

<span class="hljs-comment inline">// 使用示例</span>
<span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">PreviousValueExample</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [count, setCount] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> previousCount = <span class="hljs-title function_ inline">usePrevious</span>(count);

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>当前值: {count}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>前一个值: {previousCount}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{()</span> =&gt;</span> setCount(count + 1)}&gt;增加<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h3 id="ref-的同步更新特性" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#ref-的同步更新特性" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to ref 的同步更新特性">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">ref 的同步更新特性</strong>
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">与 state 的异步更新不同，ref 的更新是同步的。这意味着当你修改 <code>ref.current</code> 时，新值会立即生效，而不需要等待下一次渲染。这在某些需要立即检测状态变化的场景中非常有用。</p>
<h4 id="state-异步-vs-ref-同步的对比" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#state-异步-vs-ref-同步的对比" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to state 异步 vs ref 同步的对比">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">state 异步 vs ref 同步的对比</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20SyncVsAsyncExample()%20%7B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0Aconst%20countRef%20%3D%20useRef(0)%3B%0Aconst%20handleStateClick%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log('%E7%82%B9%E5%87%BB%E5%89%8D%20state%3A'%2C%20count)%3B%20%2F%2F%20%E6%98%BE%E7%A4%BA%E6%97%A7%E5%80%BC%0AsetCount(count%20%2B%201)%3B%0Aconsole.log('%E7%82%B9%E5%87%BB%E5%90%8E%20state%3A'%2C%20count)%3B%20%2F%2F%20%E4%BB%8D%E7%84%B6%E6%98%BE%E7%A4%BA%E6%97%A7%E5%80%BC%EF%BC%88%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0A%7D%3B%0Aconst%20handleRefClick%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log('%E7%82%B9%E5%87%BB%E5%89%8D%20ref%3A'%2C%20countRef.current)%3B%20%2F%2F%20%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E5%80%BC%0AcountRef.current%20%2B%3D%201%3B%0Aconsole.log('%E7%82%B9%E5%87%BB%E5%90%8E%20ref%3A'%2C%20countRef.current)%3B%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%98%BE%E7%A4%BA%E6%96%B0%E5%80%BC%EF%BC%88%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0A%7D%3B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%20useEffect%20%E8%A7%82%E5%AF%9F%20state%20%E7%9A%84%E5%AE%9E%E9%99%85%E6%9B%B4%E6%96%B0%E6%97%B6%E6%9C%BA%0AuseEffect(()%20%3D%3E%20%7B%0Aconsole.log('state%20%E5%AE%9E%E9%99%85%E6%9B%B4%E6%96%B0%E4%B8%BA%3A'%2C%20count)%3B%0A%7D%2C%20%5Bcount%5D)%3B%0Areturn%20(%0Adiv%3E%0Ap%3EState%20%E8%AE%A1%E6%95%B0%3A%20%7Bcount%7Dp%3E%0Ap%3ERef%20%E8%AE%A1%E6%95%B0%3A%20%7BcountRef.current%7Dp%3E%0Abutton%20onClick%3D%7BhandleStateClick%7D%3EState%20%2B1button%3E%0Abutton%20onClick%3D%7BhandleRefClick%7D%3ERef%20%2B1button%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">SyncVsAsyncExample</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [count, setCount] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> countRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-number inline">0</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleStateClick</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;点击前 state:&#x27;</span>, count); <span class="hljs-comment inline">// 显示旧值</span>
    <span class="hljs-title function_ inline">setCount</span>(count + <span class="hljs-number inline">1</span>);
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;点击后 state:&#x27;</span>, count); <span class="hljs-comment inline">// 仍然显示旧值（异步更新）</span>
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleRefClick</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;点击前 ref:&#x27;</span>, countRef.<span class="hljs-property inline">current</span>); <span class="hljs-comment inline">// 显示当前值</span>
    countRef.<span class="hljs-property inline">current</span> += <span class="hljs-number inline">1</span>;
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;点击后 ref:&#x27;</span>, countRef.<span class="hljs-property inline">current</span>); <span class="hljs-comment inline">// 立即显示新值（同步更新）</span>
  };

  <span class="hljs-comment inline">// 使用 useEffect 观察 state 的实际更新时机</span>
  <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;state 实际更新为:&#x27;</span>, count);
  }, [count]);

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>State 计数: {count}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>Ref 计数: {countRef.current}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleStateClick}</span>&gt;</span>State +1<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleRefClick}</span>&gt;</span>Ref +1<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="连续快速操作的场景" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#连续快速操作的场景" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 连续快速操作的场景">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">连续快速操作的场景</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20RapidClickExample()%20%7B%0Aconst%20%5BstateClicks%2C%20setStateClicks%5D%20%3D%20useState(0)%3B%0Aconst%20refClicks%20%3D%20useRef(0)%3B%0Aconst%20%5Blog%2C%20setLog%5D%20%3D%20useState(%5B%5D)%3B%0Aconst%20handleRapidStateClicks%20%3D%20()%20%3D%3E%20%7B%0A%2F%2F%20%E8%BF%9E%E7%BB%AD%E7%9A%84%20state%20%E6%9B%B4%E6%96%B0%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%A2%AB%E6%89%B9%E5%A4%84%E7%90%86%0AsetStateClicks(prev%20%3D%3E%20prev%20%2B%201)%3B%0AsetStateClicks(prev%20%3D%3E%20prev%20%2B%201)%3B%0AsetStateClicks(prev%20%3D%3E%20prev%20%2B%201)%3B%0A%2F%2F%20%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E4%BA%8B%E4%BB%B6%E4%B8%AD%EF%BC%8CstateClicks%20%E7%9A%84%E5%80%BC%E4%B8%8D%E4%BC%9A%E7%AB%8B%E5%8D%B3%E6%9B%B4%E6%96%B0%0AsetLog(prev%20%3D%3E%20%5B...prev%2C%20%60State%20%E6%89%B9%E9%87%8F%E6%9B%B4%E6%96%B0%EF%BC%8C%E5%BD%93%E5%89%8D%E6%98%BE%E7%A4%BA%3A%20%24%7BstateClicks%7D%60%5D)%3B%0A%7D%3B%0Aconst%20handleRapidRefClicks%20%3D%20()%20%3D%3E%20%7B%0A%2F%2F%20ref%20%E7%9A%84%E6%9B%B4%E6%96%B0%E6%98%AF%E7%AB%8B%E5%8D%B3%E7%9A%84%0ArefClicks.current%20%2B%3D%201%3B%0ArefClicks.current%20%2B%3D%201%3B%0ArefClicks.current%20%2B%3D%201%3B%0A%2F%2F%20%E5%8F%AF%E4%BB%A5%E7%AB%8B%E5%8D%B3%E8%8E%B7%E5%8F%96%E5%88%B0%E6%9C%80%E6%96%B0%E5%80%BC%0AsetLog(prev%20%3D%3E%20%5B...prev%2C%20%60Ref%20%E7%AB%8B%E5%8D%B3%E6%9B%B4%E6%96%B0%EF%BC%8C%E5%BD%93%E5%89%8D%E5%80%BC%3A%20%24%7BrefClicks.current%7D%60%5D)%3B%0A%7D%3B%0Aconst%20clearLog%20%3D%20()%20%3D%3E%20setLog(%5B%5D)%3B%0Areturn%20(%0Adiv%3E%0Adiv%3E%0Ap%3EState%20%E7%82%B9%E5%87%BB%E6%AC%A1%E6%95%B0%3A%20%7BstateClicks%7Dp%3E%0Ap%3ERef%20%E7%82%B9%E5%87%BB%E6%AC%A1%E6%95%B0%3A%20%7BrefClicks.current%7Dp%3E%0Adiv%3E%0Adiv%3E%0Abutton%20onClick%3D%7BhandleRapidStateClicks%7D%3EState%20%E8%BF%9E%E7%BB%AD%2B3button%3E%0Abutton%20onClick%3D%7BhandleRapidRefClicks%7D%3ERef%20%E8%BF%9E%E7%BB%AD%2B3button%3E%0Abutton%20onClick%3D%7BclearLog%7D%3E%E6%B8%85%E7%A9%BA%E6%97%A5%E5%BF%97button%3E%0Adiv%3E%0Adiv%3E%0Ah4%3E%E6%93%8D%E4%BD%9C%E6%97%A5%E5%BF%97%3Ah4%3E%0Aul%3E%0A%7Blog.map((entry%2C%20index)%20%3D%3E%20(%0Ali%20key%3D%7Bindex%7D%3E%7Bentry%7Dli%3E%0A))%7D%0Aul%3E%0Adiv%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">RapidClickExample</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [stateClicks, setStateClicks] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> refClicks = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> [log, setLog] = <span class="hljs-title function_ inline">useState</span>([]);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleRapidStateClicks</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-comment inline">// 连续的 state 更新可能会被批处理</span>
    <span class="hljs-title function_ inline">setStateClicks</span>(<span class="hljs-function inline"><span class="hljs-params inline">prev</span> =&gt;</span> prev + <span class="hljs-number inline">1</span>);
    <span class="hljs-title function_ inline">setStateClicks</span>(<span class="hljs-function inline"><span class="hljs-params inline">prev</span> =&gt;</span> prev + <span class="hljs-number inline">1</span>);
    <span class="hljs-title function_ inline">setStateClicks</span>(<span class="hljs-function inline"><span class="hljs-params inline">prev</span> =&gt;</span> prev + <span class="hljs-number inline">1</span>);
    
    <span class="hljs-comment inline">// 在同一个事件中，stateClicks 的值不会立即更新</span>
    <span class="hljs-title function_ inline">setLog</span>(<span class="hljs-function inline"><span class="hljs-params inline">prev</span> =&gt;</span> [...prev, <span class="hljs-string inline">`State 批量更新，当前显示: <span class="hljs-subst inline">${stateClicks}</span>`</span>]);
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleRapidRefClicks</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-comment inline">// ref 的更新是立即的</span>
    refClicks.<span class="hljs-property inline">current</span> += <span class="hljs-number inline">1</span>;
    refClicks.<span class="hljs-property inline">current</span> += <span class="hljs-number inline">1</span>;
    refClicks.<span class="hljs-property inline">current</span> += <span class="hljs-number inline">1</span>;
    
    <span class="hljs-comment inline">// 可以立即获取到最新值</span>
    <span class="hljs-title function_ inline">setLog</span>(<span class="hljs-function inline"><span class="hljs-params inline">prev</span> =&gt;</span> [...prev, <span class="hljs-string inline">`Ref 立即更新，当前值: <span class="hljs-subst inline">${refClicks.current}</span>`</span>]);
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">clearLog</span> = (<span class="hljs-params inline"></span>) =&gt; <span class="hljs-title function_ inline">setLog</span>([]);

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>State 点击次数: {stateClicks}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>Ref 点击次数: {refClicks.current}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleRapidStateClicks}</span>&gt;</span>State 连续+3<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleRapidRefClicks}</span>&gt;</span>Ref 连续+3<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{clearLog}</span>&gt;</span>清空日志<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>

      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h4</span>&gt;</span>操作日志:<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h4</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">ul</span>&gt;</span>
          {log.map((entry, index) =&gt; (
            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">li</span> <span class="hljs-attr inline">key</span>=<span class="hljs-string inline">{index}</span>&gt;</span>{entry}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">li</span>&gt;</span>
          ))}
        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">ul</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="实时计算场景" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#实时计算场景" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 实时计算场景">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">实时计算场景</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20RealTimeCalculation()%20%7B%0Aconst%20%5BinputValue%2C%20setInputValue%5D%20%3D%20useState('')%3B%0Aconst%20calculationCountRef%20%3D%20useRef(0)%3B%0Aconst%20lastCalculationRef%20%3D%20useRef(null)%3B%0Aconst%20performExpensiveCalculation%20%3D%20(value)%20%3D%3E%20%7B%0A%2F%2F%20%E5%A2%9E%E5%8A%A0%E8%AE%A1%E7%AE%97%E6%AC%A1%E6%95%B0%EF%BC%88%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0AcalculationCountRef.current%20%2B%3D%201%3B%0A%2F%2F%20%E7%AB%8B%E5%8D%B3%E8%AE%B0%E5%BD%95%E8%AE%A1%E7%AE%97%E6%97%B6%E9%97%B4%0AlastCalculationRef.current%20%3D%20new%20Date().toLocaleTimeString()%3B%0A%2F%2F%20%E6%A8%A1%E6%8B%9F%E6%98%82%E8%B4%B5%E8%AE%A1%E7%AE%97%0Aconst%20result%20%3D%20value.split('').reverse().join('')%20%2B%20calculationCountRef.current%3B%0Aconsole.log(%60%E7%AC%AC%20%24%7BcalculationCountRef.current%7D%20%E6%AC%A1%E8%AE%A1%E7%AE%97%E5%9C%A8%20%24%7BlastCalculationRef.current%7D%20%E5%AE%8C%E6%88%90%60)%3B%0Areturn%20result%3B%0A%7D%3B%0Aconst%20handleInputChange%20%3D%20(e)%20%3D%3E%20%7B%0Aconst%20value%20%3D%20e.target.value%3B%0AsetInputValue(value)%3B%0Aif%20(value)%20%7B%0A%2F%2F%20%E5%9B%A0%E4%B8%BA%20ref%20%E6%98%AF%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%E7%9A%84%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%AB%8B%E5%8D%B3%E8%8E%B7%E5%8F%96%E5%87%86%E7%A1%AE%E7%9A%84%E8%AE%A1%E7%AE%97%E6%AC%A1%E6%95%B0%0Aconst%20result%20%3D%20performExpensiveCalculation(value)%3B%0Aconsole.log('%E8%AE%A1%E7%AE%97%E7%BB%93%E6%9E%9C%3A'%2C%20result)%3B%0A%7D%0A%7D%3B%0Aconst%20resetCalculations%20%3D%20()%20%3D%3E%20%7B%0AcalculationCountRef.current%20%3D%200%3B%0AlastCalculationRef.current%20%3D%20null%3B%0AsetInputValue('')%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Avalue%3D%7BinputValue%7D%0AonChange%3D%7BhandleInputChange%7D%0Aplaceholder%3D%22%E8%BE%93%E5%85%A5%E6%96%87%E6%9C%AC%E8%A7%A6%E5%8F%91%E8%AE%A1%E7%AE%97...%22%0A%2F%3E%0Adiv%3E%0Ap%3E%E8%AE%A1%E7%AE%97%E6%AC%A1%E6%95%B0%3A%20%7BcalculationCountRef.current%7Dp%3E%0Ap%3E%E6%9C%80%E5%90%8E%E8%AE%A1%E7%AE%97%E6%97%B6%E9%97%B4%3A%20%7BlastCalculationRef.current%20%7C%7C%20'%E6%9C%AA%E5%BC%80%E5%A7%8B'%7Dp%3E%0Adiv%3E%0Abutton%20onClick%3D%7BresetCalculations%7D%3E%E9%87%8D%E7%BD%AEbutton%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">RealTimeCalculation</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [inputValue, setInputValue] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-string inline">&#x27;&#x27;</span>);
  <span class="hljs-keyword inline">const</span> calculationCountRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> lastCalculationRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">null</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">performExpensiveCalculation</span> = (<span class="hljs-params inline">value</span>) =&gt; {
    <span class="hljs-comment inline">// 增加计算次数（同步更新）</span>
    calculationCountRef.<span class="hljs-property inline">current</span> += <span class="hljs-number inline">1</span>;
    
    <span class="hljs-comment inline">// 立即记录计算时间</span>
    lastCalculationRef.<span class="hljs-property inline">current</span> = <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Date</span>().<span class="hljs-title function_ inline">toLocaleTimeString</span>();
    
    <span class="hljs-comment inline">// 模拟昂贵计算</span>
    <span class="hljs-keyword inline">const</span> result = value.<span class="hljs-title function_ inline">split</span>(<span class="hljs-string inline">&#x27;&#x27;</span>).<span class="hljs-title function_ inline">reverse</span>().<span class="hljs-title function_ inline">join</span>(<span class="hljs-string inline">&#x27;&#x27;</span>) + calculationCountRef.<span class="hljs-property inline">current</span>;
    
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">`第 <span class="hljs-subst inline">${calculationCountRef.current}</span> 次计算在 <span class="hljs-subst inline">${lastCalculationRef.current}</span> 完成`</span>);
    <span class="hljs-keyword inline">return</span> result;
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleInputChange</span> = (<span class="hljs-params inline">e</span>) =&gt; {
    <span class="hljs-keyword inline">const</span> value = e.<span class="hljs-property inline">target</span>.<span class="hljs-property inline">value</span>;
    <span class="hljs-title function_ inline">setInputValue</span>(value);
    
    <span class="hljs-keyword inline">if</span> (value) {
      <span class="hljs-comment inline">// 因为 ref 是同步更新的，我们可以立即获取准确的计算次数</span>
      <span class="hljs-keyword inline">const</span> result = <span class="hljs-title function_ inline">performExpensiveCalculation</span>(value);
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;计算结果:&#x27;</span>, result);
    }
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">resetCalculations</span> = (<span class="hljs-params inline"></span>) =&gt; {
    calculationCountRef.<span class="hljs-property inline">current</span> = <span class="hljs-number inline">0</span>;
    lastCalculationRef.<span class="hljs-property inline">current</span> = <span class="hljs-literal inline">null</span>;
    <span class="hljs-title function_ inline">setInputValue</span>(<span class="hljs-string inline">&#x27;&#x27;</span>);
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">input</span>
        <span class="hljs-attr inline">value</span>=<span class="hljs-string inline">{inputValue}</span>
        <span class="hljs-attr inline">onChange</span>=<span class="hljs-string inline">{handleInputChange}</span>
        <span class="hljs-attr inline">placeholder</span>=<span class="hljs-string inline">&quot;输入文本触发计算...&quot;</span>
      /&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>计算次数: {calculationCountRef.current}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>最后计算时间: {lastCalculationRef.current || &#x27;未开始&#x27;}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{resetCalculations}</span>&gt;</span>重置<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<h4 id="事件处理中的即时状态检查" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#事件处理中的即时状态检查" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 事件处理中的即时状态检查">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">事件处理中的即时状态检查</strong>
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="jsx" data-code="function%20EventHandlingExample()%20%7B%0Aconst%20%5BisProcessing%2C%20setIsProcessing%5D%20%3D%20useState(false)%3B%0Aconst%20processingCountRef%20%3D%20useRef(0)%3B%0Aconst%20isProcessingRef%20%3D%20useRef(false)%3B%0Aconst%20simulateAsyncOperation%20%3D%20async%20()%20%3D%3E%20%7B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%20state%EF%BC%88%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0AsetIsProcessing(true)%3B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%20ref%EF%BC%88%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0AisProcessingRef.current%20%3D%20true%3B%0AprocessingCountRef.current%20%2B%3D%201%3B%0Aconsole.log('%E5%BC%80%E5%A7%8B%E5%A4%84%E7%90%86%E6%97%B6%3A')%3B%0Aconsole.log('-%20state%20isProcessing%3A'%2C%20isProcessing)%3B%20%2F%2F%20%E5%8F%AF%E8%83%BD%E8%BF%98%E6%98%AF%20false%0Aconsole.log('-%20ref%20isProcessingRef%3A'%2C%20isProcessingRef.current)%3B%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%98%AF%20true%0Aconsole.log('-%20ref%20processingCount%3A'%2C%20processingCountRef.current)%3B%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%9B%B4%E6%96%B0%E7%9A%84%E8%AE%A1%E6%95%B0%0A%2F%2F%20%E6%A8%A1%E6%8B%9F%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%0Aawait%20new%20Promise(resolve%20%3D%3E%20setTimeout(resolve%2C%202000))%3B%0AsetIsProcessing(false)%3B%0AisProcessingRef.current%20%3D%20false%3B%0Aconsole.log('%E5%A4%84%E7%90%86%E5%AE%8C%E6%88%90')%3B%0A%7D%3B%0Aconst%20handleClick%20%3D%20()%20%3D%3E%20%7B%0A%2F%2F%20%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB%EF%BC%9A%E4%BD%BF%E7%94%A8%20ref%20%E5%8F%AF%E4%BB%A5%E7%AB%8B%E5%8D%B3%E6%A3%80%E6%9F%A5%E7%8A%B6%E6%80%81%0Aif%20(isProcessingRef.current)%20%7B%0Aconsole.log('%E6%93%8D%E4%BD%9C%E6%AD%A3%E5%9C%A8%E8%BF%9B%E8%A1%8C%E4%B8%AD%EF%BC%8C%E5%BF%BD%E7%95%A5%E7%82%B9%E5%87%BB')%3B%0Areturn%3B%0A%7D%0A%2F%2F%20%E5%A6%82%E6%9E%9C%E4%BD%BF%E7%94%A8%20state%20%E6%A3%80%E6%9F%A5%EF%BC%8C%E5%8F%AF%E8%83%BD%E6%97%A0%E6%B3%95%E7%AB%8B%E5%8D%B3%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB%0A%2F%2F%20if%20(isProcessing)%20%7B%20...%20%7D%20%2F%2F%20%E8%BF%99%E5%8F%AF%E8%83%BD%E4%B8%8D%E5%87%86%E7%A1%AE%0AsimulateAsyncOperation()%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ap%3E%E5%A4%84%E7%90%86%E7%8A%B6%E6%80%81%20(state)%3A%20%7BisProcessing%20%3F%20'%E8%BF%9B%E8%A1%8C%E4%B8%AD'%20%3A%20'%E7%A9%BA%E9%97%B2'%7Dp%3E%0Ap%3E%E5%A4%84%E7%90%86%E7%8A%B6%E6%80%81%20(ref)%3A%20%7BisProcessingRef.current%20%3F%20'%E8%BF%9B%E8%A1%8C%E4%B8%AD'%20%3A%20'%E7%A9%BA%E9%97%B2'%7Dp%3E%0Ap%3E%E5%A4%84%E7%90%86%E6%AC%A1%E6%95%B0%3A%20%7BprocessingCountRef.current%7Dp%3E%0Abutton%20onClick%3D%7BhandleClick%7D%20disabled%3D%7BisProcessing%7D%3E%0A%7BisProcessing%20%3F%20'%E5%A4%84%E7%90%86%E4%B8%AD...'%20%3A%20'%E5%BC%80%E5%A7%8B%E5%A4%84%E7%90%86'%7D%0Abutton%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">jsx</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-jsx"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">EventHandlingExample</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-keyword inline">const</span> [isProcessing, setIsProcessing] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);
  <span class="hljs-keyword inline">const</span> processingCountRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-number inline">0</span>);
  <span class="hljs-keyword inline">const</span> isProcessingRef = <span class="hljs-title function_ inline">useRef</span>(<span class="hljs-literal inline">false</span>);

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">simulateAsyncOperation</span> = <span class="hljs-keyword inline">async</span> (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-comment inline">// 使用 state（异步更新）</span>
    <span class="hljs-title function_ inline">setIsProcessing</span>(<span class="hljs-literal inline">true</span>);
    
    <span class="hljs-comment inline">// 使用 ref（同步更新）</span>
    isProcessingRef.<span class="hljs-property inline">current</span> = <span class="hljs-literal inline">true</span>;
    processingCountRef.<span class="hljs-property inline">current</span> += <span class="hljs-number inline">1</span>;

    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;开始处理时:&#x27;</span>);
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;- state isProcessing:&#x27;</span>, isProcessing); <span class="hljs-comment inline">// 可能还是 false</span>
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;- ref isProcessingRef:&#x27;</span>, isProcessingRef.<span class="hljs-property inline">current</span>); <span class="hljs-comment inline">// 立即是 true</span>
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;- ref processingCount:&#x27;</span>, processingCountRef.<span class="hljs-property inline">current</span>); <span class="hljs-comment inline">// 立即更新的计数</span>

    <span class="hljs-comment inline">// 模拟异步操作</span>
    <span class="hljs-keyword inline">await</span> <span class="hljs-keyword inline">new</span> <span class="hljs-title class_ inline">Promise</span>(<span class="hljs-function inline"><span class="hljs-params inline">resolve</span> =&gt;</span> <span class="hljs-built_in inline">setTimeout</span>(resolve, <span class="hljs-number inline">2000</span>));

    <span class="hljs-title function_ inline">setIsProcessing</span>(<span class="hljs-literal inline">false</span>);
    isProcessingRef.<span class="hljs-property inline">current</span> = <span class="hljs-literal inline">false</span>;
    
    <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;处理完成&#x27;</span>);
  };

  <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleClick</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-comment inline">// 防止重复点击：使用 ref 可以立即检查状态</span>
    <span class="hljs-keyword inline">if</span> (isProcessingRef.<span class="hljs-property inline">current</span>) {
      <span class="hljs-variable language_ inline">console</span>.<span class="hljs-title function_ inline">log</span>(<span class="hljs-string inline">&#x27;操作正在进行中，忽略点击&#x27;</span>);
      <span class="hljs-keyword inline">return</span>;
    }

    <span class="hljs-comment inline">// 如果使用 state 检查，可能无法立即防止重复点击</span>
    <span class="hljs-comment inline">// if (isProcessing) { ... } // 这可能不准确</span>

    <span class="hljs-title function_ inline">simulateAsyncOperation</span>();
  };

  <span class="hljs-keyword inline">return</span> (
    <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>处理状态 (state): {isProcessing ? &#x27;进行中&#x27; : &#x27;空闲&#x27;}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>处理状态 (ref): {isProcessingRef.current ? &#x27;进行中&#x27; : &#x27;空闲&#x27;}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span>&gt;</span>处理次数: {processingCountRef.current}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
      <span class="hljs-tag inline">&lt;<span class="hljs-name inline">button</span> <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleClick}</span> <span class="hljs-attr inline">disabled</span>=<span class="hljs-string inline">{isProcessing}</span>&gt;</span>
        {isProcessing ? &#x27;处理中...&#x27; : &#x27;开始处理&#x27;}
      <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">button</span>&gt;</span>
    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
  );
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这种同步更新的特性使得 ref 在以下场景中特别有用：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">防止重复操作</strong>：立即标记操作状态</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">实时计数</strong>：需要准确跟踪操作次数</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">性能监控</strong>：立即记录时间戳或计数</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">复杂事件处理</strong>：需要在同一个事件处理函数中获取最新状态</li>
</ul>
<h3 id="最佳实践" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#最佳实践" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 最佳实践">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">最佳实践</strong>
        </h3>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">DOM 操作</strong>：优先使用 ref 而不是 document.querySelector</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">避免过度使用</strong>：不要用 ref 替代 state，只在必要时使用</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">null 检查</strong>：访问 ref.current 前要检查是否为 null</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">清理资源</strong>：及时清理定时器、事件监听器等</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">转发 ref</strong>：在可复用组件中正确使用 forwardRef</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">同步特性</strong>：利用 ref 的同步更新特性处理需要立即响应的场景</li>
</ol>
<h3 id="注意事项" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#注意事项" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 注意事项">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            <strong class="font-bold text-foreground">注意事项</strong>
        </h3>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">不触发重新渲染</strong>：修改 ref.current 不会导致组件重新渲染</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">同步更新</strong>：ref.current 的修改是同步的，与 state 的异步更新不同</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">初始值为 null</strong>：DOM ref 在首次渲染时为 null</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">避免在渲染期间读取</strong>：不要在渲染过程中读取或写入 ref.current</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">函数组件专用</strong>：useRef 只能在函数组件中使用</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><code>useRef</code> 是 React 中处理 DOM 操作和保存可变值的重要工具，正确使用能够提升应用的交互性和性能。</p>
</div></article><footer class="mt-16 pt-8 border-t border-foreground/20"><div class="flex items-center justify-between"><a class="inline-flex items-center px-4 py-2 bg-primary text-foreground rounded-lg hover:bg-primary/90 transition-colors" href="/MilkWind-Website/documents/">documents.backToDocuments</a><div class="text-sm text-foreground/60"><span>documents.byAuthor<!-- --> <!-- -->MilkWind</span></div></div></footer></div></div><!--$--><!--/$--><!--$--><!--/$--><!--/$--><!--/$--><script src="/MilkWind-Website/_next/static/chunks/webpack-1674c92fb524bcda.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[38735,[\"46\",\"static/chunks/46-268e24d727b280ef.js\",\"7177\",\"static/chunks/app/layout-af4a6e723c0ff668.js\"],\"default\"]\n3:I[19945,[\"46\",\"static/chunks/46-268e24d727b280ef.js\",\"7177\",\"static/chunks/app/layout-af4a6e723c0ff668.js\"],\"default\"]\n4:I[65337,[\"46\",\"static/chunks/46-268e24d727b280ef.js\",\"7177\",\"static/chunks/app/layout-af4a6e723c0ff668.js\"],\"default\"]\n5:I[96190,[\"46\",\"static/chunks/46-268e24d727b280ef.js\",\"7177\",\"static/chunks/app/layout-af4a6e723c0ff668.js\"],\"ClientProviders\"]\n6:I[87555,[],\"\"]\n7:I[51901,[\"8039\",\"static/chunks/app/error-dda32be1d095a86c.js\"],\"default\"]\n8:I[31295,[],\"\"]\n9:I[6874,[\"6874\",\"static/chunks/6874-fbe9a08eb79b991c.js\",\"4345\",\"static/chunks/app/not-found-9ff98b2ccf24cac7.js\"],\"\"]\na:I[94970,[],\"ClientSegmentRoot\"]\nb:I[44065,[\"206\",\"static/chunks/206-4f4cbf4d7156f437.js\",\"3092\",\"static/chunks/app/documents/layout-28408791defde09e.js\"],\"default\"]\ne:I[59665,[],\"MetadataBoundary\"]\n10:I[59665,[],\"OutletBoundary\"]\n13:I[74911,[],\"AsyncMetadataOutlet\"]\n15:I[39460,[\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"8610\",\"static/chunks/8610-7bd3f91f3cf2a4d6.js\",\"5650\",\"static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js\"],\"default\"]\n16:I[88610,[\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"8610\",\"static/chunks/8610-7bd3f91f3cf2a4d6.js\",\"4209\",\"static/chunks/app/loading-68f227fb49b3ac8c.js\"],\"default\"]\n17:I[59665,[],\"ViewportBoundary\"]\n19:I[26614,[],\"\"]\n:HL[\"/MilkWind-Website/_next/static/css/f034c804622acb16.css\",\"style\"]\n:HL[\"/MilkWind-Website/_next/static/css/276b387d8ca46690.css\",\"style\"]\n:HL[\"/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"ARIfyKTG2kypPJcFndv6Z\",\"p\":\"/MilkWind-Website\",\"c\":[\"\",\"documents\",\"zh\",\"dark\",\"basic-knowledge\",\"react-use-ref\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"documents\",{\"children\":[[\"slug\",\"zh/dark/basic-knowledge/react-use-ref\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/f034c804622acb16.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/276b387d8ca46690.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_9b7fb1 __variable_ca2a15 __variable_591dcc font-sans antialiased min-h-screen bg-background text-foreground\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"$L3\",null,{}],[\"$\",\"$L4\",null,{}],[\"$\",\"$L5\",null,{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$7\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"z-10 relative min-h-screen flex items-center justify-center bg-background p-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-center max-w-md\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-8xl font-bold text-primary mb-4\",\"children\":\"404\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-foreground mb-4\",\"children\":\"Page Not Found\"}],[\"$\",\"p\",null,{\"className\":\"text-foreground/70 mb-8\",\"children\":\"The page you're looking for doesn't exist or has been moved to a different location.\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-col sm:flex-row gap-4 justify-center\",\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/\",\"className\":\"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors\",\"children\":\"Go Home\"}],[\"$\",\"$L9\",null,{\"href\":\"/works\",\"className\":\"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors\",\"children\":\"View Works\"}]]}],[\"$\",\"div\",null,{\"className\":\"absolute inset-0 overflow-hidden pointer-events-none -z-10\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute top-1/4 left-1/4 w-2 h-2 bg-primary/20 rounded-full animate-float\"}],[\"$\",\"div\",null,{\"className\":\"absolute top-3/4 right-1/4 w-3 h-3 bg-accent/20 rounded-full animate-float\",\"style\":{\"animationDelay\":\"1s\"}}],[\"$\",\"div\",null,{\"className\":\"absolute bottom-1/4 left-1/3 w-1 h-1 bg-secondary/20 rounded-full animate-float\",\"style\":{\"animationDelay\":\"2s\"}}]]}]]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]}]]}],{\"children\":[\"documents\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$La\",null,{\"Component\":\"$b\",\"slots\":{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]},\"params\":{},\"promise\":\"$@c\"}]]}],{\"children\":[[\"slug\",\"zh/dark/basic-knowledge/react-use-ref\",\"c\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$Ld\",[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L10\",null,{\"children\":[\"$L11\",\"$L12\",[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]]}]]}],{},null,false]},null,false]},[[\"$\",\"$L15\",\"l\",{}],[],[]],false]},[[\"$\",\"$L16\",\"l\",{}],[],[]],false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"xgyHzz3RyKpqBYRMeCIAQ\",{\"children\":[[\"$\",\"$L17\",null,{\"children\":\"$L18\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$19\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"1a:\"$Sreact.suspense\"\n1b:I[74911,[],\"AsyncMetadata\"]\nc:{}\nf:[\"$\",\"$1a\",null,{\"fallback\":null,\"children\":[\"$\",\"$L1b\",null,{\"promise\":\"$@1c\"}]}]\n"])</script><script>self.__next_f.push([1,"1d:I[57340,[\"5584\",\"static/chunks/b498d07c-095637f0f10883c6.js\",\"2415\",\"static/chunks/2415-689c103fb3d2c28d.js\",\"6874\",\"static/chunks/6874-fbe9a08eb79b991c.js\",\"9554\",\"static/chunks/9554-b714f9de28e85d30.js\",\"1873\",\"static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js\"],\"DocumentPageClient\"]\n1e:T2b755,"])</script><script>self.__next_f.push([1,"\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003ccode\u003euseRef\u003c/code\u003e 是 React 提供的一个重要 Hook，用于在函数组件中创建可变的引用对象。它返回一个可变的 ref 对象，其 \u003ccode\u003e.current\u003c/code\u003e 属性可以保存任何值，并且在组件的整个生命周期内保持不变。\u003c/p\u003e\n\u003ch3 id=\"基本作用\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#基本作用\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 基本作用\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e基本作用\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003ccode\u003euseRef\u003c/code\u003e 的主要作用是：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e访问和操作 DOM 元素\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e保存可变值，不触发重新渲染\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e在渲染之间保持数据的持久性\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e存储定时器、间隔器等引用\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e缓存昂贵的计算结果\u003c/li\u003e\n\u003c/ul\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"import%20React%2C%20%7B%20useRef%2C%20useEffect%20%7D%20from%20'react'%3B%0Afunction%20MyComponent()%20%7B%0Aconst%20inputRef%20%3D%20useRef(null)%3B%0AuseEffect(()%20%3D%3E%20%7B%0A%2F%2F%20%E7%BB%84%E4%BB%B6%E6%8C%82%E8%BD%BD%E5%90%8E%E8%87%AA%E5%8A%A8%E8%81%9A%E7%84%A6%E8%BE%93%E5%85%A5%E6%A1%86%0AinputRef.current.focus()%3B%0A%7D%2C%20%5B%5D)%3B%0Aconst%20handleClick%20%3D%20()%20%3D%3E%20%7B%0A%2F%2F%20%E7%A8%8B%E5%BA%8F%E5%8C%96%E8%81%9A%E7%84%A6%E8%BE%93%E5%85%A5%E6%A1%86%0AinputRef.current.focus()%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ainput%20ref%3D%7BinputRef%7D%20type%3D%22text%22%20%2F%3E%0Abutton%20onClick%3D%7BhandleClick%7D%3E%E8%81%9A%E7%84%A6%E8%BE%93%E5%85%A5%E6%A1%86button%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eReact\u003c/span\u003e, { useRef, useEffect } \u003cspan class=\"hljs-keyword inline\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eMyComponent\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e inputRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment inline\"\u003e// 组件挂载后自动聚焦输入框\u003c/span\u003e\n    inputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003efocus\u003c/span\u003e();\n  }, []);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleClick\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-comment inline\"\u003e// 程序化聚焦输入框\u003c/span\u003e\n    inputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003efocus\u003c/span\u003e();\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{inputRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;text\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleClick}\u003c/span\u003e\u0026gt;\u003c/span\u003e聚焦输入框\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"基本语法\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#基本语法\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 基本语法\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e基本语法\u003c/strong\u003e\n        \u003c/h3\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"const%20refContainer%20%3D%20useRef(initialValue)%3B%0A%2F%2F%20%E8%AE%BF%E9%97%AE%E5%BD%93%E5%89%8D%E5%80%BC%0Aconst%20currentValue%20%3D%20refContainer.current%3B%0A%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%96%B0%E5%80%BC%0ArefContainer.current%20%3D%20newValue%3B\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e refContainer = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(initialValue);\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 访问当前值\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e currentValue = refContainer.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 设置新值\u003c/span\u003e\nrefContainer.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = newValue;\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e参数\u003c/strong\u003e：初始值（可选）\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e返回值\u003c/strong\u003e：一个具有 \u003ccode\u003ecurrent\u003c/code\u003e 属性的可变 ref 对象\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"访问-dom-元素\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#访问-dom-元素\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 访问 DOM 元素\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e访问 DOM 元素\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"基本-dom-操作\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#基本-dom-操作\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 基本 DOM 操作\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e基本 DOM 操作\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20DOMExample()%20%7B%0Aconst%20titleRef%20%3D%20useRef(null)%3B%0Aconst%20inputRef%20%3D%20useRef(null)%3B%0Aconst%20handleStyleChange%20%3D%20()%20%3D%3E%20%7B%0AtitleRef.current.style.color%20%3D%20'red'%3B%0AtitleRef.current.style.fontSize%20%3D%20'24px'%3B%0A%7D%3B%0Aconst%20handleInputFocus%20%3D%20()%20%3D%3E%20%7B%0AinputRef.current.focus()%3B%0AinputRef.current.select()%3B%20%2F%2F%20%E9%80%89%E4%B8%AD%E6%89%80%E6%9C%89%E6%96%87%E6%9C%AC%0A%7D%3B%0Aconst%20handleGetValue%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log('%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E5%80%BC%3A'%2C%20inputRef.current.value)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ah1%20ref%3D%7BtitleRef%7D%3E%E6%A0%87%E9%A2%98h1%3E%0Ainput%20ref%3D%7BinputRef%7D%20type%3D%22text%22%20defaultValue%3D%22%E9%BB%98%E8%AE%A4%E6%96%87%E6%9C%AC%22%20%2F%3E%0Abutton%20onClick%3D%7BhandleStyleChange%7D%3E%E6%94%B9%E5%8F%98%E6%A0%87%E9%A2%98%E6%A0%B7%E5%BC%8Fbutton%3E%0Abutton%20onClick%3D%7BhandleInputFocus%7D%3E%E8%81%9A%E7%84%A6%E5%B9%B6%E9%80%89%E4%B8%ADbutton%3E%0Abutton%20onClick%3D%7BhandleGetValue%7D%3E%E8%8E%B7%E5%8F%96%E8%BE%93%E5%85%A5%E5%80%BCbutton%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eDOMExample\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e titleRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e inputRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleStyleChange\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    titleRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003ecolor\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;red\u0026#x27;\u003c/span\u003e;\n    titleRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003efontSize\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;24px\u0026#x27;\u003c/span\u003e;\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleInputFocus\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    inputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003efocus\u003c/span\u003e();\n    inputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eselect\u003c/span\u003e(); \u003cspan class=\"hljs-comment inline\"\u003e// 选中所有文本\u003c/span\u003e\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleGetValue\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;输入框的值:\u0026#x27;\u003c/span\u003e, inputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eh1\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{titleRef}\u003c/span\u003e\u0026gt;\u003c/span\u003e标题\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eh1\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{inputRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;text\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003edefaultValue\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;默认文本\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleStyleChange}\u003c/span\u003e\u0026gt;\u003c/span\u003e改变标题样式\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleInputFocus}\u003c/span\u003e\u0026gt;\u003c/span\u003e聚焦并选中\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleGetValue}\u003c/span\u003e\u0026gt;\u003c/span\u003e获取输入值\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"滚动控制\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#滚动控制\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 滚动控制\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e滚动控制\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20ScrollExample()%20%7B%0Aconst%20containerRef%20%3D%20useRef(null)%3B%0Aconst%20topRef%20%3D%20useRef(null)%3B%0Aconst%20bottomRef%20%3D%20useRef(null)%3B%0Aconst%20scrollToTop%20%3D%20()%20%3D%3E%20%7B%0AtopRef.current%3F.scrollIntoView(%7B%0Abehavior%3A%20'smooth'%0A%7D)%3B%0A%7D%3B%0Aconst%20scrollToBottom%20%3D%20()%20%3D%3E%20%7B%0AbottomRef.current%3F.scrollIntoView(%7B%0Abehavior%3A%20'smooth'%0A%7D)%3B%0A%7D%3B%0Aconst%20scrollToPosition%20%3D%20(position)%20%3D%3E%20%7B%0AcontainerRef.current%3F.scrollTo(%7B%0Atop%3A%20position%2C%0Abehavior%3A%20'smooth'%0A%7D)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Abutton%20onClick%3D%7BscrollToTop%7D%3E%E6%BB%9A%E5%8A%A8%E5%88%B0%E9%A1%B6%E9%83%A8button%3E%0Abutton%20onClick%3D%7BscrollToBottom%7D%3E%E6%BB%9A%E5%8A%A8%E5%88%B0%E5%BA%95%E9%83%A8button%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20scrollToPosition(500)%7D%3E%E6%BB%9A%E5%8A%A8%E5%88%B0500px%E4%BD%8D%E7%BD%AEbutton%3E%0Adiv%20ref%3D%7BcontainerRef%7D%20style%3D%7B%7B%20height%3A%20300%2C%20overflow%3A%20'auto'%20%7D%7D%3E%0Adiv%20ref%3D%7BtopRef%7D%3E%E9%A1%B6%E9%83%A8%E5%86%85%E5%AE%B9div%3E%0Adiv%20style%3D%7B%7B%20height%3A%201000%20%7D%7D%3E%E4%B8%AD%E9%97%B4%E5%86%85%E5%AE%B9...div%3E%0Adiv%20ref%3D%7BbottomRef%7D%3E%E5%BA%95%E9%83%A8%E5%86%85%E5%AE%B9div%3E%0Adiv%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eScrollExample\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e containerRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e topRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e bottomRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003escrollToTop\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    topRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003escrollIntoView\u003c/span\u003e({ \n      \u003cspan class=\"hljs-attr inline\"\u003ebehavior\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;smooth\u0026#x27;\u003c/span\u003e \n    });\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003escrollToBottom\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    bottomRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003escrollIntoView\u003c/span\u003e({ \n      \u003cspan class=\"hljs-attr inline\"\u003ebehavior\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;smooth\u0026#x27;\u003c/span\u003e \n    });\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003escrollToPosition\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003eposition\u003c/span\u003e) =\u0026gt; {\n    containerRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003escrollTo\u003c/span\u003e({\n      \u003cspan class=\"hljs-attr inline\"\u003etop\u003c/span\u003e: position,\n      \u003cspan class=\"hljs-attr inline\"\u003ebehavior\u003c/span\u003e: \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;smooth\u0026#x27;\u003c/span\u003e\n    });\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{scrollToTop}\u003c/span\u003e\u0026gt;\u003c/span\u003e滚动到顶部\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{scrollToBottom}\u003c/span\u003e\u0026gt;\u003c/span\u003e滚动到底部\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{()\u003c/span\u003e =\u0026gt;\u003c/span\u003e scrollToPosition(500)}\u0026gt;滚动到500px位置\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{containerRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eheight:\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003e300\u003c/span\u003e, \u003cspan class=\"hljs-attr inline\"\u003eoverflow:\u003c/span\u003e \u0026#x27;\u003cspan class=\"hljs-attr inline\"\u003eauto\u003c/span\u003e\u0026#x27; }}\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{topRef}\u003c/span\u003e\u0026gt;\u003c/span\u003e顶部内容\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eheight:\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003e1000\u003c/span\u003e }}\u0026gt;\u003c/span\u003e中间内容...\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{bottomRef}\u003c/span\u003e\u0026gt;\u003c/span\u003e底部内容\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"保存可变值\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#保存可变值\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 保存可变值\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e保存可变值\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"不触发重新渲染的计数器\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#不触发重新渲染的计数器\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 不触发重新渲染的计数器\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e不触发重新渲染的计数器\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20MutableCounter()%20%7B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0Aconst%20renderCount%20%3D%20useRef(0)%3B%0Aconst%20previousCount%20%3D%20useRef(0)%3B%0A%2F%2F%20%E6%AF%8F%E6%AC%A1%E6%B8%B2%E6%9F%93%E6%97%B6%E5%A2%9E%E5%8A%A0%E6%B8%B2%E6%9F%93%E8%AE%A1%E6%95%B0%0ArenderCount.current%20%2B%3D%201%3B%0A%2F%2F%20%E4%BF%9D%E5%AD%98%E4%B8%8A%E4%B8%80%E6%AC%A1%E7%9A%84%20count%20%E5%80%BC%0AuseEffect(()%20%3D%3E%20%7B%0ApreviousCount.current%20%3D%20count%3B%0A%7D)%3B%0Areturn%20(%0Adiv%3E%0Ap%3E%E5%BD%93%E5%89%8D%E8%AE%A1%E6%95%B0%3A%20%7Bcount%7Dp%3E%0Ap%3E%E4%B8%8A%E4%B8%80%E6%AC%A1%E8%AE%A1%E6%95%B0%3A%20%7BpreviousCount.current%7Dp%3E%0Ap%3E%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93%E6%AC%A1%E6%95%B0%3A%20%7BrenderCount.current%7Dp%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20setCount(count%20%2B%201)%7D%3E%E5%A2%9E%E5%8A%A0button%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eMutableCounter\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [count, setCount] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e renderCount = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e previousCount = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 每次渲染时增加渲染计数\u003c/span\u003e\n  renderCount.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e += \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 保存上一次的 count 值\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    previousCount.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = count;\n  });\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e当前计数: {count}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e上一次计数: {previousCount.current}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e组件渲染次数: {renderCount.current}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{()\u003c/span\u003e =\u0026gt;\u003c/span\u003e setCount(count + 1)}\u0026gt;增加\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"存储定时器引用\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#存储定时器引用\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 存储定时器引用\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e存储定时器引用\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20Timer()%20%7B%0Aconst%20%5Bseconds%2C%20setSeconds%5D%20%3D%20useState(0)%3B%0Aconst%20%5BisRunning%2C%20setIsRunning%5D%20%3D%20useState(false)%3B%0Aconst%20intervalRef%20%3D%20useRef(null)%3B%0Aconst%20startTimer%20%3D%20()%20%3D%3E%20%7B%0Aif%20(!isRunning)%20%7B%0AsetIsRunning(true)%3B%0AintervalRef.current%20%3D%20setInterval(()%20%3D%3E%20%7B%0AsetSeconds(prev%20%3D%3E%20prev%20%2B%201)%3B%0A%7D%2C%201000)%3B%0A%7D%0A%7D%3B%0Aconst%20stopTimer%20%3D%20()%20%3D%3E%20%7B%0Aif%20(isRunning)%20%7B%0AsetIsRunning(false)%3B%0AclearInterval(intervalRef.current)%3B%0A%7D%0A%7D%3B%0Aconst%20resetTimer%20%3D%20()%20%3D%3E%20%7B%0AsetSeconds(0)%3B%0AsetIsRunning(false)%3B%0AclearInterval(intervalRef.current)%3B%0A%7D%3B%0A%2F%2F%20%E7%BB%84%E4%BB%B6%E5%8D%B8%E8%BD%BD%E6%97%B6%E6%B8%85%E7%90%86%E5%AE%9A%E6%97%B6%E5%99%A8%0AuseEffect(()%20%3D%3E%20%7B%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(intervalRef.current)%20%7B%0AclearInterval(intervalRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5B%5D)%3B%0Areturn%20(%0Adiv%3E%0Ah2%3E%E8%AE%A1%E6%97%B6%E5%99%A8%3A%20%7Bseconds%7D%E7%A7%92h2%3E%0Abutton%20onClick%3D%7BstartTimer%7D%20disabled%3D%7BisRunning%7D%3E%0A%E5%BC%80%E5%A7%8B%0Abutton%3E%0Abutton%20onClick%3D%7BstopTimer%7D%20disabled%3D%7B!isRunning%7D%3E%0A%E5%81%9C%E6%AD%A2%0Abutton%3E%0Abutton%20onClick%3D%7BresetTimer%7D%3E%E9%87%8D%E7%BD%AEbutton%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eTimer\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [seconds, setSeconds] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [isRunning, setIsRunning] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e intervalRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003estartTimer\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (!isRunning) {\n      \u003cspan class=\"hljs-title function_ inline\"\u003esetIsRunning\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e);\n      intervalRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-built_in inline\"\u003esetInterval\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n        \u003cspan class=\"hljs-title function_ inline\"\u003esetSeconds\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eprev\u003c/span\u003e =\u0026gt;\u003c/span\u003e prev + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e);\n      }, \u003cspan class=\"hljs-number inline\"\u003e1000\u003c/span\u003e);\n    }\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003estopTimer\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (isRunning) {\n      \u003cspan class=\"hljs-title function_ inline\"\u003esetIsRunning\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e);\n      \u003cspan class=\"hljs-built_in inline\"\u003eclearInterval\u003c/span\u003e(intervalRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n    }\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eresetTimer\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetSeconds\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetIsRunning\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e);\n    \u003cspan class=\"hljs-built_in inline\"\u003eclearInterval\u003c/span\u003e(intervalRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n  };\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 组件卸载时清理定时器\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (intervalRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n        \u003cspan class=\"hljs-built_in inline\"\u003eclearInterval\u003c/span\u003e(intervalRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n      }\n    };\n  }, []);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eh2\u003c/span\u003e\u0026gt;\u003c/span\u003e计时器: {seconds}秒\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eh2\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{startTimer}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003edisabled\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{isRunning}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        开始\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{stopTimer}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003edisabled\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{!isRunning}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        停止\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{resetTimer}\u003c/span\u003e\u0026gt;\u003c/span\u003e重置\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"表单处理\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#表单处理\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 表单处理\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e表单处理\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"非受控组件\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#非受控组件\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 非受控组件\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e非受控组件\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20UncontrolledForm()%20%7B%0Aconst%20nameRef%20%3D%20useRef(null)%3B%0Aconst%20emailRef%20%3D%20useRef(null)%3B%0Aconst%20passwordRef%20%3D%20useRef(null)%3B%0Aconst%20handleSubmit%20%3D%20(e)%20%3D%3E%20%7B%0Ae.preventDefault()%3B%0Aconst%20formData%20%3D%20%7B%0Aname%3A%20nameRef.current.value%2C%0Aemail%3A%20emailRef.current.value%2C%0Apassword%3A%20passwordRef.current.value%0A%7D%3B%0Aconsole.log('%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%3A'%2C%20formData)%3B%0A%7D%3B%0Aconst%20clearForm%20%3D%20()%20%3D%3E%20%7B%0AnameRef.current.value%20%3D%20''%3B%0AemailRef.current.value%20%3D%20''%3B%0ApasswordRef.current.value%20%3D%20''%3B%0AnameRef.current.focus()%3B%0A%7D%3B%0Areturn%20(%0Aform%20onSubmit%3D%7BhandleSubmit%7D%3E%0Adiv%3E%0Alabel%3E%E5%A7%93%E5%90%8D%3Alabel%3E%0Ainput%20ref%3D%7BnameRef%7D%20type%3D%22text%22%20required%20%2F%3E%0Adiv%3E%0Adiv%3E%0Alabel%3E%E9%82%AE%E7%AE%B1%3Alabel%3E%0Ainput%20ref%3D%7BemailRef%7D%20type%3D%22email%22%20required%20%2F%3E%0Adiv%3E%0Adiv%3E%0Alabel%3E%E5%AF%86%E7%A0%81%3Alabel%3E%0Ainput%20ref%3D%7BpasswordRef%7D%20type%3D%22password%22%20required%20%2F%3E%0Adiv%3E%0Abutton%20type%3D%22submit%22%3E%E6%8F%90%E4%BA%A4button%3E%0Abutton%20type%3D%22button%22%20onClick%3D%7BclearForm%7D%3E%E6%B8%85%E7%A9%BAbutton%3E%0Aform%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eUncontrolledForm\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e nameRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e emailRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e passwordRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleSubmit\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003ee\u003c/span\u003e) =\u0026gt; {\n    e.\u003cspan class=\"hljs-title function_ inline\"\u003epreventDefault\u003c/span\u003e();\n    \n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e formData = {\n      \u003cspan class=\"hljs-attr inline\"\u003ename\u003c/span\u003e: nameRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr inline\"\u003eemail\u003c/span\u003e: emailRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr inline\"\u003epassword\u003c/span\u003e: passwordRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e\n    };\n\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;表单数据:\u0026#x27;\u003c/span\u003e, formData);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eclearForm\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    nameRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e;\n    emailRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e;\n    passwordRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e;\n    nameRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003efocus\u003c/span\u003e();\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eform\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonSubmit\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleSubmit}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003elabel\u003c/span\u003e\u0026gt;\u003c/span\u003e姓名:\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003elabel\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{nameRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;text\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003erequired\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003elabel\u003c/span\u003e\u0026gt;\u003c/span\u003e邮箱:\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003elabel\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{emailRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;email\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003erequired\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003elabel\u003c/span\u003e\u0026gt;\u003c/span\u003e密码:\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003elabel\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{passwordRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003erequired\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;submit\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e提交\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;button\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{clearForm}\u003c/span\u003e\u0026gt;\u003c/span\u003e清空\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eform\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"文件上传\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#文件上传\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 文件上传\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e文件上传\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20FileUpload()%20%7B%0Aconst%20fileInputRef%20%3D%20useRef(null)%3B%0Aconst%20%5BselectedFiles%2C%20setSelectedFiles%5D%20%3D%20useState(%5B%5D)%3B%0Aconst%20handleFileSelect%20%3D%20()%20%3D%3E%20%7B%0AfileInputRef.current%3F.click()%3B%0A%7D%3B%0Aconst%20handleFileChange%20%3D%20(e)%20%3D%3E%20%7B%0Aconst%20files%20%3D%20Array.from(e.target.files)%3B%0AsetSelectedFiles(files)%3B%0A%7D%3B%0Aconst%20clearFiles%20%3D%20()%20%3D%3E%20%7B%0AfileInputRef.current.value%20%3D%20''%3B%0AsetSelectedFiles(%5B%5D)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Aref%3D%7BfileInputRef%7D%0Atype%3D%22file%22%0Amultiple%0AonChange%3D%7BhandleFileChange%7D%0Astyle%3D%7B%7B%20display%3A%20'none'%20%7D%7D%0A%2F%3E%0Abutton%20onClick%3D%7BhandleFileSelect%7D%3E%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6button%3E%0Abutton%20onClick%3D%7BclearFiles%7D%3E%E6%B8%85%E7%A9%BA%E9%80%89%E6%8B%A9button%3E%0A%7BselectedFiles.length%20%3E%200%20%26%26%20(%0Adiv%3E%0Ah3%3E%E5%B7%B2%E9%80%89%E6%8B%A9%E7%9A%84%E6%96%87%E4%BB%B6%3Ah3%3E%0Aul%3E%0A%7BselectedFiles.map((file%2C%20index)%20%3D%3E%20(%0Ali%20key%3D%7Bindex%7D%3E%0A%7Bfile.name%7D%20(%7B(file.size%20%2F%201024).toFixed(2)%7D%20KB)%0Ali%3E%0A))%7D%0Aul%3E%0Adiv%3E%0A)%7D%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eFileUpload\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e fileInputRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [selectedFiles, setSelectedFiles] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e([]);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleFileSelect\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    fileInputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003eclick\u003c/span\u003e();\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleFileChange\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003ee\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e files = \u003cspan class=\"hljs-title class_ inline\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003efrom\u003c/span\u003e(e.\u003cspan class=\"hljs-property inline\"\u003etarget\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003efiles\u003c/span\u003e);\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetSelectedFiles\u003c/span\u003e(files);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eclearFiles\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    fileInputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e;\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetSelectedFiles\u003c/span\u003e([]);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{fileInputRef}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;file\u0026quot;\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003emultiple\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleFileChange}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{{\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003edisplay:\u003c/span\u003e \u0026#x27;\u003cspan class=\"hljs-attr inline\"\u003enone\u003c/span\u003e\u0026#x27; }}\n      /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleFileSelect}\u003c/span\u003e\u0026gt;\u003c/span\u003e选择文件\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{clearFiles}\u003c/span\u003e\u0026gt;\u003c/span\u003e清空选择\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \n      {selectedFiles.length \u0026gt; 0 \u0026amp;\u0026amp; (\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eh3\u003c/span\u003e\u0026gt;\u003c/span\u003e已选择的文件:\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eh3\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            {selectedFiles.map((file, index) =\u0026gt; (\n              \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003ekey\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{index}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n                {file.name} ({(file.size / 1024).toFixed(2)} KB)\n              \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            ))}\n          \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      )}\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"缓存和性能优化\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#缓存和性能优化\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 缓存和性能优化\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e缓存和性能优化\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"缓存昂贵计算的结果\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#缓存昂贵计算的结果\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 缓存昂贵计算的结果\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e缓存昂贵计算的结果\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20ExpensiveCalculation(%7B%20data%20%7D)%20%7B%0Aconst%20%5Bfilter%2C%20setFilter%5D%20%3D%20useState('')%3B%0Aconst%20cacheRef%20%3D%20useRef(new%20Map())%3B%0Aconst%20getProcessedData%20%3D%20useMemo(()%20%3D%3E%20%7B%0Aconst%20cacheKey%20%3D%20%60%24%7BJSON.stringify(data)%7D-%24%7Bfilter%7D%60%3B%0Aif%20(cacheRef.current.has(cacheKey))%20%7B%0Aconsole.log('%E4%BB%8E%E7%BC%93%E5%AD%98%E8%8E%B7%E5%8F%96%E7%BB%93%E6%9E%9C')%3B%0Areturn%20cacheRef.current.get(cacheKey)%3B%0A%7D%0Aconsole.log('%E6%89%A7%E8%A1%8C%E6%98%82%E8%B4%B5%E8%AE%A1%E7%AE%97')%3B%0Aconst%20result%20%3D%20data%0A.filter(item%20%3D%3E%20item.name.includes(filter))%0A.map(item%20%3D%3E%20(%7B%0A...item%2C%0Aprocessed%3A%20true%2C%0Atimestamp%3A%20Date.now()%0A%7D))%3B%0AcacheRef.current.set(cacheKey%2C%20result)%3B%0A%2F%2F%20%E9%99%90%E5%88%B6%E7%BC%93%E5%AD%98%E5%A4%A7%E5%B0%8F%0Aif%20(cacheRef.current.size%20%3E%2010)%20%7B%0Aconst%20firstKey%20%3D%20cacheRef.current.keys().next().value%3B%0AcacheRef.current.delete(firstKey)%3B%0A%7D%0Areturn%20result%3B%0A%7D%2C%20%5Bdata%2C%20filter%5D)%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Avalue%3D%7Bfilter%7D%0AonChange%3D%7B(e)%20%3D%3E%20setFilter(e.target.value)%7D%0Aplaceholder%3D%22%E6%90%9C%E7%B4%A2...%22%0A%2F%3E%0Ap%3E%E7%BB%93%E6%9E%9C%E6%95%B0%E9%87%8F%3A%20%7BgetProcessedData.length%7Dp%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eExpensiveCalculation\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e{ data }\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [filter, setFilter] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e cacheRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-keyword inline\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eMap\u003c/span\u003e());\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e getProcessedData = \u003cspan class=\"hljs-title function_ inline\"\u003euseMemo\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e cacheKey = \u003cspan class=\"hljs-string inline\"\u003e`\u003cspan class=\"hljs-subst inline\"\u003e${\u003cspan class=\"hljs-built_in inline\"\u003eJSON\u003c/span\u003e.stringify(data)}\u003c/span\u003e-\u003cspan class=\"hljs-subst inline\"\u003e${filter}\u003c/span\u003e`\u003c/span\u003e;\n    \n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (cacheRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ehas\u003c/span\u003e(cacheKey)) {\n      \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;从缓存获取结果\u0026#x27;\u003c/span\u003e);\n      \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e cacheRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eget\u003c/span\u003e(cacheKey);\n    }\n\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;执行昂贵计算\u0026#x27;\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e result = data\n      .\u003cspan class=\"hljs-title function_ inline\"\u003efilter\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eitem\u003c/span\u003e =\u0026gt;\u003c/span\u003e item.\u003cspan class=\"hljs-property inline\"\u003ename\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eincludes\u003c/span\u003e(filter))\n      .\u003cspan class=\"hljs-title function_ inline\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eitem\u003c/span\u003e =\u0026gt;\u003c/span\u003e ({\n        ...item,\n        \u003cspan class=\"hljs-attr inline\"\u003eprocessed\u003c/span\u003e: \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr inline\"\u003etimestamp\u003c/span\u003e: \u003cspan class=\"hljs-title class_ inline\"\u003eDate\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003enow\u003c/span\u003e()\n      }));\n\n    cacheRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eset\u003c/span\u003e(cacheKey, result);\n    \n    \u003cspan class=\"hljs-comment inline\"\u003e// 限制缓存大小\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (cacheRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003esize\u003c/span\u003e \u0026gt; \u003cspan class=\"hljs-number inline\"\u003e10\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e firstKey = cacheRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003ekeys\u003c/span\u003e().\u003cspan class=\"hljs-title function_ inline\"\u003enext\u003c/span\u003e().\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e;\n      cacheRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003edelete\u003c/span\u003e(firstKey);\n    }\n\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e result;\n  }, [data, filter]);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{filter}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{(e)\u003c/span\u003e =\u0026gt;\u003c/span\u003e setFilter(e.target.value)}\n        placeholder=\u0026quot;搜索...\u0026quot;\n      /\u0026gt;\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e结果数量: {getProcessedData.length}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"防抖处理\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#防抖处理\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 防抖处理\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e防抖处理\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20SearchWithDebounce()%20%7B%0Aconst%20%5Bquery%2C%20setQuery%5D%20%3D%20useState('')%3B%0Aconst%20%5Bresults%2C%20setResults%5D%20%3D%20useState(%5B%5D)%3B%0Aconst%20debounceTimeoutRef%20%3D%20useRef(null)%3B%0Aconst%20handleSearch%20%3D%20(searchQuery)%20%3D%3E%20%7B%0A%2F%2F%20%E6%B8%85%E9%99%A4%E4%B9%8B%E5%89%8D%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8%0Aif%20(debounceTimeoutRef.current)%20%7B%0AclearTimeout(debounceTimeoutRef.current)%3B%0A%7D%0A%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%96%B0%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8%0AdebounceTimeoutRef.current%20%3D%20setTimeout(()%20%3D%3E%20%7B%0Aif%20(searchQuery)%20%7B%0A%2F%2F%20%E6%A8%A1%E6%8B%9FAPI%E8%B0%83%E7%94%A8%0Aconsole.log('%E6%90%9C%E7%B4%A2%3A'%2C%20searchQuery)%3B%0AsetResults(%5B%0A%60%E7%BB%93%E6%9E%9C1%3A%20%24%7BsearchQuery%7D%60%2C%0A%60%E7%BB%93%E6%9E%9C2%3A%20%24%7BsearchQuery%7D%60%2C%0A%60%E7%BB%93%E6%9E%9C3%3A%20%24%7BsearchQuery%7D%60%0A%5D)%3B%0A%7D%20else%20%7B%0AsetResults(%5B%5D)%3B%0A%7D%0A%7D%2C%20500)%3B%20%2F%2F%20500ms%E9%98%B2%E6%8A%96%0A%7D%3B%0Aconst%20handleInputChange%20%3D%20(e)%20%3D%3E%20%7B%0Aconst%20value%20%3D%20e.target.value%3B%0AsetQuery(value)%3B%0AhandleSearch(value)%3B%0A%7D%3B%0A%2F%2F%20%E6%B8%85%E7%90%86%E5%AE%9A%E6%97%B6%E5%99%A8%0AuseEffect(()%20%3D%3E%20%7B%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(debounceTimeoutRef.current)%20%7B%0AclearTimeout(debounceTimeoutRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5B%5D)%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Avalue%3D%7Bquery%7D%0AonChange%3D%7BhandleInputChange%7D%0Aplaceholder%3D%22%E8%BE%93%E5%85%A5%E6%90%9C%E7%B4%A2%E5%85%B3%E9%94%AE%E8%AF%8D...%22%0A%2F%3E%0Aul%3E%0A%7Bresults.map((result%2C%20index)%20%3D%3E%20(%0Ali%20key%3D%7Bindex%7D%3E%7Bresult%7Dli%3E%0A))%7D%0Aul%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eSearchWithDebounce\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [query, setQuery] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [results, setResults] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e([]);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e debounceTimeoutRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleSearch\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003esearchQuery\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-comment inline\"\u003e// 清除之前的定时器\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (debounceTimeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n      \u003cspan class=\"hljs-built_in inline\"\u003eclearTimeout\u003c/span\u003e(debounceTimeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n    }\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// 设置新的定时器\u003c/span\u003e\n    debounceTimeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-built_in inline\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (searchQuery) {\n        \u003cspan class=\"hljs-comment inline\"\u003e// 模拟API调用\u003c/span\u003e\n        \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;搜索:\u0026#x27;\u003c/span\u003e, searchQuery);\n        \u003cspan class=\"hljs-title function_ inline\"\u003esetResults\u003c/span\u003e([\n          \u003cspan class=\"hljs-string inline\"\u003e`结果1: \u003cspan class=\"hljs-subst inline\"\u003e${searchQuery}\u003c/span\u003e`\u003c/span\u003e,\n          \u003cspan class=\"hljs-string inline\"\u003e`结果2: \u003cspan class=\"hljs-subst inline\"\u003e${searchQuery}\u003c/span\u003e`\u003c/span\u003e,\n          \u003cspan class=\"hljs-string inline\"\u003e`结果3: \u003cspan class=\"hljs-subst inline\"\u003e${searchQuery}\u003c/span\u003e`\u003c/span\u003e\n        ]);\n      } \u003cspan class=\"hljs-keyword inline\"\u003eelse\u003c/span\u003e {\n        \u003cspan class=\"hljs-title function_ inline\"\u003esetResults\u003c/span\u003e([]);\n      }\n    }, \u003cspan class=\"hljs-number inline\"\u003e500\u003c/span\u003e); \u003cspan class=\"hljs-comment inline\"\u003e// 500ms防抖\u003c/span\u003e\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleInputChange\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003ee\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e value = e.\u003cspan class=\"hljs-property inline\"\u003etarget\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e;\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetQuery\u003c/span\u003e(value);\n    \u003cspan class=\"hljs-title function_ inline\"\u003ehandleSearch\u003c/span\u003e(value);\n  };\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 清理定时器\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (debounceTimeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n        \u003cspan class=\"hljs-built_in inline\"\u003eclearTimeout\u003c/span\u003e(debounceTimeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n      }\n    };\n  }, []);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{query}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleInputChange}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;输入搜索关键词...\u0026quot;\u003c/span\u003e\n      /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        {results.map((result, index) =\u0026gt; (\n          \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003ekey\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{index}\u003c/span\u003e\u0026gt;\u003c/span\u003e{result}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        ))}\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"组件间通信\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#组件间通信\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 组件间通信\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e组件间通信\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"转发-ref\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#转发-ref\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 转发 ref\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e转发 ref\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"%2F%2F%20%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%20forwardRef%0Aconst%20CustomInput%20%3D%20React.forwardRef((props%2C%20ref)%20%3D%3E%20%7B%0Areturn%20(%0Ainput%0Aref%3D%7Bref%7D%0Astyle%3D%7B%7B%0Apadding%3A%20'8px'%2C%0Aborder%3A%20'2px%20solid%20%23ccc'%2C%0AborderRadius%3A%20'4px'%0A%7D%7D%0A%7B...props%7D%0A%2F%3E%0A)%3B%0A%7D)%3B%0A%2F%2F%20%E7%88%B6%E7%BB%84%E4%BB%B6%0Afunction%20ParentComponent()%20%7B%0Aconst%20inputRef%20%3D%20useRef(null)%3B%0Aconst%20focusInput%20%3D%20()%20%3D%3E%20%7B%0AinputRef.current%3F.focus()%3B%0A%7D%3B%0Aconst%20getInputValue%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log('%E8%BE%93%E5%85%A5%E5%80%BC%3A'%2C%20inputRef.current%3F.value)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0ACustomInput%20ref%3D%7BinputRef%7D%20placeholder%3D%22%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BE%93%E5%85%A5%E6%A1%86%22%20%2F%3E%0Abutton%20onClick%3D%7BfocusInput%7D%3E%E8%81%9A%E7%84%A6button%3E%0Abutton%20onClick%3D%7BgetInputValue%7D%3E%E8%8E%B7%E5%8F%96%E5%80%BCbutton%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 子组件使用 forwardRef\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eCustomInput\u003c/span\u003e = \u003cspan class=\"hljs-title class_ inline\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eforwardRef\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003eprops, ref\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e\n      \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{ref}\u003c/span\u003e\n      \u003cspan class=\"hljs-attr inline\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{{\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003epadding:\u003c/span\u003e \u0026#x27;\u003cspan class=\"hljs-attr inline\"\u003e8px\u003c/span\u003e\u0026#x27;,\n        \u003cspan class=\"hljs-attr inline\"\u003eborder:\u003c/span\u003e \u0026#x27;\u003cspan class=\"hljs-attr inline\"\u003e2px\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003esolid\u003c/span\u003e #\u003cspan class=\"hljs-attr inline\"\u003eccc\u003c/span\u003e\u0026#x27;,\n        \u003cspan class=\"hljs-attr inline\"\u003eborderRadius:\u003c/span\u003e \u0026#x27;\u003cspan class=\"hljs-attr inline\"\u003e4px\u003c/span\u003e\u0026#x27;\n      }}\n      {\u003cspan class=\"hljs-attr inline\"\u003e...props\u003c/span\u003e}\n    /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n});\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 父组件\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eParentComponent\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e inputRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003efocusInput\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    inputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003efocus\u003c/span\u003e();\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003egetInputValue\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;输入值:\u0026#x27;\u003c/span\u003e, inputRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eCustomInput\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{inputRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;自定义输入框\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{focusInput}\u003c/span\u003e\u0026gt;\u003c/span\u003e聚焦\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{getInputValue}\u003c/span\u003e\u0026gt;\u003c/span\u003e获取值\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"暴露方法给父组件\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#暴露方法给父组件\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 暴露方法给父组件\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e暴露方法给父组件\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"%2F%2F%20%E5%AD%90%E7%BB%84%E4%BB%B6%0Aconst%20ChildComponent%20%3D%20React.forwardRef((props%2C%20ref)%20%3D%3E%20%7B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0Aconst%20internalRef%20%3D%20useRef(null)%3B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%20useImperativeHandle%20%E6%9A%B4%E9%9C%B2%E6%96%B9%E6%B3%95%0AuseImperativeHandle(ref%2C%20()%20%3D%3E%20(%7B%0Afocus%3A%20()%20%3D%3E%20%7B%0AinternalRef.current%3F.focus()%3B%0A%7D%2C%0Areset%3A%20()%20%3D%3E%20%7B%0AsetCount(0)%3B%0A%7D%2C%0Aincrement%3A%20()%20%3D%3E%20%7B%0AsetCount(prev%20%3D%3E%20prev%20%2B%201)%3B%0A%7D%2C%0AgetCount%3A%20()%20%3D%3E%20count%0A%7D))%3B%0Areturn%20(%0Adiv%3E%0Ainput%20ref%3D%7BinternalRef%7D%20value%3D%7Bcount%7D%20readOnly%20%2F%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20setCount(count%20%2B%201)%7D%3E%E5%86%85%E9%83%A8%E5%A2%9E%E5%8A%A0button%3E%0Adiv%3E%0A)%3B%0A%7D)%3B%0A%2F%2F%20%E7%88%B6%E7%BB%84%E4%BB%B6%0Afunction%20ImperativeParent()%20%7B%0Aconst%20childRef%20%3D%20useRef(null)%3B%0Aconst%20handleFocus%20%3D%20()%20%3D%3E%20%7B%0AchildRef.current%3F.focus()%3B%0A%7D%3B%0Aconst%20handleReset%20%3D%20()%20%3D%3E%20%7B%0AchildRef.current%3F.reset()%3B%0A%7D%3B%0Aconst%20handleIncrement%20%3D%20()%20%3D%3E%20%7B%0AchildRef.current%3F.increment()%3B%0A%7D%3B%0Aconst%20handleGetCount%20%3D%20()%20%3D%3E%20%7B%0Aconst%20count%20%3D%20childRef.current%3F.getCount()%3B%0Aconsole.log('%E5%BD%93%E5%89%8D%E8%AE%A1%E6%95%B0%3A'%2C%20count)%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0AChildComponent%20ref%3D%7BchildRef%7D%20%2F%3E%0Abutton%20onClick%3D%7BhandleFocus%7D%3E%E8%81%9A%E7%84%A6%E5%AD%90%E7%BB%84%E4%BB%B6button%3E%0Abutton%20onClick%3D%7BhandleReset%7D%3E%E9%87%8D%E7%BD%AE%E8%AE%A1%E6%95%B0button%3E%0Abutton%20onClick%3D%7BhandleIncrement%7D%3E%E5%A4%96%E9%83%A8%E5%A2%9E%E5%8A%A0button%3E%0Abutton%20onClick%3D%7BhandleGetCount%7D%3E%E8%8E%B7%E5%8F%96%E8%AE%A1%E6%95%B0button%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-comment inline\"\u003e// 子组件\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eChildComponent\u003c/span\u003e = \u003cspan class=\"hljs-title class_ inline\"\u003eReact\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003eforwardRef\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003eprops, ref\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [count, setCount] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e internalRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 使用 useImperativeHandle 暴露方法\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseImperativeHandle\u003c/span\u003e(ref, \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e ({\n    \u003cspan class=\"hljs-attr inline\"\u003efocus\u003c/span\u003e: \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      internalRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003efocus\u003c/span\u003e();\n    },\n    \u003cspan class=\"hljs-attr inline\"\u003ereset\u003c/span\u003e: \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-title function_ inline\"\u003esetCount\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n    },\n    \u003cspan class=\"hljs-attr inline\"\u003eincrement\u003c/span\u003e: \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-title function_ inline\"\u003esetCount\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eprev\u003c/span\u003e =\u0026gt;\u003c/span\u003e prev + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e);\n    },\n    \u003cspan class=\"hljs-attr inline\"\u003egetCount\u003c/span\u003e: \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e count\n  }));\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{internalRef}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{count}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003ereadOnly\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{()\u003c/span\u003e =\u0026gt;\u003c/span\u003e setCount(count + 1)}\u0026gt;内部增加\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n});\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 父组件\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eImperativeParent\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e childRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleFocus\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    childRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003efocus\u003c/span\u003e();\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleReset\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    childRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003ereset\u003c/span\u003e();\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleIncrement\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    childRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003eincrement\u003c/span\u003e();\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleGetCount\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e count = childRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-title function_ inline\"\u003egetCount\u003c/span\u003e();\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;当前计数:\u0026#x27;\u003c/span\u003e, count);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eChildComponent\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{childRef}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleFocus}\u003c/span\u003e\u0026gt;\u003c/span\u003e聚焦子组件\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleReset}\u003c/span\u003e\u0026gt;\u003c/span\u003e重置计数\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleIncrement}\u003c/span\u003e\u0026gt;\u003c/span\u003e外部增加\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleGetCount}\u003c/span\u003e\u0026gt;\u003c/span\u003e获取计数\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"常见陷阱和解决方案\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#常见陷阱和解决方案\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 常见陷阱和解决方案\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e常见陷阱和解决方案\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"ref-的初始值问题\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#ref-的初始值问题\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to ref 的初始值问题\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eref 的初始值问题\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20RefInitializationExample()%20%7B%0Aconst%20divRef%20%3D%20useRef(null)%3B%0A%2F%2F%20%E9%94%99%E8%AF%AF%EF%BC%9A%E7%BB%84%E4%BB%B6%E9%A6%96%E6%AC%A1%E6%B8%B2%E6%9F%93%E6%97%B6%20ref.current%20%E4%B8%BA%20null%0Aconst%20badExample%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log(divRef.current.scrollHeight)%3B%20%2F%2F%20%E5%8F%AF%E8%83%BD%E6%8A%A5%E9%94%99%0A%7D%3B%0A%2F%2F%20%E6%AD%A3%E7%A1%AE%EF%BC%9A%E6%A3%80%E6%9F%A5%20ref.current%20%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%0Aconst%20goodExample%20%3D%20()%20%3D%3E%20%7B%0Aif%20(divRef.current)%20%7B%0Aconsole.log(divRef.current.scrollHeight)%3B%0A%7D%0A%7D%3B%0A%2F%2F%20%E6%9B%B4%E5%AE%89%E5%85%A8%E7%9A%84%E5%86%99%E6%B3%95%EF%BC%9A%E4%BD%BF%E7%94%A8%E5%8F%AF%E9%80%89%E9%93%BE%0Aconst%20safestExample%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log(divRef.current%3F.scrollHeight)%3B%0A%7D%3B%0Areturn%20(%0Adiv%20ref%3D%7BdivRef%7D%3E%0Abutton%20onClick%3D%7BbadExample%7D%3E%E9%94%99%E8%AF%AF%E7%A4%BA%E4%BE%8Bbutton%3E%0Abutton%20onClick%3D%7BgoodExample%7D%3E%E6%AD%A3%E7%A1%AE%E7%A4%BA%E4%BE%8Bbutton%3E%0Abutton%20onClick%3D%7BsafestExample%7D%3E%E6%9C%80%E5%AE%89%E5%85%A8%E7%A4%BA%E4%BE%8Bbutton%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eRefInitializationExample\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e divRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \n  \u003cspan class=\"hljs-comment inline\"\u003e// 错误：组件首次渲染时 ref.current 为 null\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ebadExample\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(divRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003escrollHeight\u003c/span\u003e); \u003cspan class=\"hljs-comment inline\"\u003e// 可能报错\u003c/span\u003e\n  };\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 正确：检查 ref.current 是否存在\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003egoodExample\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (divRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n      \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(divRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003escrollHeight\u003c/span\u003e);\n    }\n  };\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 更安全的写法：使用可选链\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003esafestExample\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(divRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e?.\u003cspan class=\"hljs-property inline\"\u003escrollHeight\u003c/span\u003e);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{divRef}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{badExample}\u003c/span\u003e\u0026gt;\u003c/span\u003e错误示例\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{goodExample}\u003c/span\u003e\u0026gt;\u003c/span\u003e正确示例\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{safestExample}\u003c/span\u003e\u0026gt;\u003c/span\u003e最安全示例\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"在依赖数组中使用-ref\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#在依赖数组中使用-ref\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 在依赖数组中使用 ref\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e在依赖数组中使用 ref\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20EffectWithRef()%20%7B%0Aconst%20divRef%20%3D%20useRef(null)%3B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0A%2F%2F%20%E9%94%99%E8%AF%AF%EF%BC%9Aref%20%E5%AF%B9%E8%B1%A1%E4%B8%8D%E5%BA%94%E8%AF%A5%E5%9C%A8%E4%BE%9D%E8%B5%96%E6%95%B0%E7%BB%84%E4%B8%AD%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(divRef.current)%20%7B%0AdivRef.current.textContent%20%3D%20%60%E8%AE%A1%E6%95%B0%3A%20%24%7Bcount%7D%60%3B%0A%7D%0A%7D%2C%20%5Bcount%2C%20divRef%5D)%3B%20%2F%2F%20divRef%20%E4%B8%8D%E5%BA%94%E8%AF%A5%E5%9C%A8%E8%BF%99%E9%87%8C%0A%2F%2F%20%E6%AD%A3%E7%A1%AE%EF%BC%9A%E5%8F%AA%E4%BE%9D%E8%B5%96%E5%AE%9E%E9%99%85%E9%9C%80%E8%A6%81%E7%9A%84%E5%80%BC%0AuseEffect(()%20%3D%3E%20%7B%0Aif%20(divRef.current)%20%7B%0AdivRef.current.textContent%20%3D%20%60%E8%AE%A1%E6%95%B0%3A%20%24%7Bcount%7D%60%3B%0A%7D%0A%7D%2C%20%5Bcount%5D)%3B%20%2F%2F%20%E5%8F%AA%E4%BE%9D%E8%B5%96%20count%0Areturn%20(%0Adiv%3E%0Adiv%20ref%3D%7BdivRef%7D%3Ediv%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20setCount(count%20%2B%201)%7D%3E%E5%A2%9E%E5%8A%A0button%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eEffectWithRef\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e divRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [count, setCount] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 错误：ref 对象不应该在依赖数组中\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (divRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n      divRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003etextContent\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e`计数: \u003cspan class=\"hljs-subst inline\"\u003e${count}\u003c/span\u003e`\u003c/span\u003e;\n    }\n  }, [count, divRef]); \u003cspan class=\"hljs-comment inline\"\u003e// divRef 不应该在这里\u003c/span\u003e\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 正确：只依赖实际需要的值\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (divRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n      divRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003etextContent\u003c/span\u003e = \u003cspan class=\"hljs-string inline\"\u003e`计数: \u003cspan class=\"hljs-subst inline\"\u003e${count}\u003c/span\u003e`\u003c/span\u003e;\n    }\n  }, [count]); \u003cspan class=\"hljs-comment inline\"\u003e// 只依赖 count\u003c/span\u003e\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eref\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{divRef}\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{()\u003c/span\u003e =\u0026gt;\u003c/span\u003e setCount(count + 1)}\u0026gt;增加\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"自定义-hook-中的使用\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#自定义-hook-中的使用\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 自定义 Hook 中的使用\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e自定义 Hook 中的使用\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003ch4 id=\"自定义的防抖-hook\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#自定义的防抖-hook\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 自定义的防抖 Hook\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e自定义的防抖 Hook\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20useDebounce(callback%2C%20delay)%20%7B%0Aconst%20timeoutRef%20%3D%20useRef(null)%3B%0Aconst%20callbackRef%20%3D%20useRef(callback)%3B%0A%2F%2F%20%E4%BF%9D%E6%8C%81%E6%9C%80%E6%96%B0%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8%0AuseEffect(()%20%3D%3E%20%7B%0AcallbackRef.current%20%3D%20callback%3B%0A%7D)%3B%0Aconst%20debouncedCallback%20%3D%20useCallback((...args)%20%3D%3E%20%7B%0Aif%20(timeoutRef.current)%20%7B%0AclearTimeout(timeoutRef.current)%3B%0A%7D%0AtimeoutRef.current%20%3D%20setTimeout(()%20%3D%3E%20%7B%0AcallbackRef.current(...args)%3B%0A%7D%2C%20delay)%3B%0A%7D%2C%20%5Bdelay%5D)%3B%0A%2F%2F%20%E6%B8%85%E7%90%86%E5%AE%9A%E6%97%B6%E5%99%A8%0AuseEffect(()%20%3D%3E%20%7B%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(timeoutRef.current)%20%7B%0AclearTimeout(timeoutRef.current)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5B%5D)%3B%0Areturn%20debouncedCallback%3B%0A%7D%0A%2F%2F%20%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%20Hook%0Afunction%20SearchComponent()%20%7B%0Aconst%20%5Bquery%2C%20setQuery%5D%20%3D%20useState('')%3B%0Aconst%20%5Bresults%2C%20setResults%5D%20%3D%20useState(%5B%5D)%3B%0Aconst%20searchAPI%20%3D%20async%20(searchTerm)%20%3D%3E%20%7B%0Aconsole.log('%E6%90%9C%E7%B4%A2%3A'%2C%20searchTerm)%3B%0A%2F%2F%20%E6%A8%A1%E6%8B%9FAPI%E8%B0%83%E7%94%A8%0AsetResults(%5B%60%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%3A%20%24%7BsearchTerm%7D%60%5D)%3B%0A%7D%3B%0Aconst%20debouncedSearch%20%3D%20useDebounce(searchAPI%2C%20500)%3B%0Aconst%20handleInputChange%20%3D%20(e)%20%3D%3E%20%7B%0Aconst%20value%20%3D%20e.target.value%3B%0AsetQuery(value)%3B%0Aif%20(value)%20%7B%0AdebouncedSearch(value)%3B%0A%7D%20else%20%7B%0AsetResults(%5B%5D)%3B%0A%7D%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Avalue%3D%7Bquery%7D%0AonChange%3D%7BhandleInputChange%7D%0Aplaceholder%3D%22%E6%90%9C%E7%B4%A2...%22%0A%2F%3E%0Aul%3E%0A%7Bresults.map((result%2C%20index)%20%3D%3E%20(%0Ali%20key%3D%7Bindex%7D%3E%7Bresult%7Dli%3E%0A))%7D%0Aul%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003euseDebounce\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003ecallback, delay\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e timeoutRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e callbackRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(callback);\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 保持最新的回调函数引用\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    callbackRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = callback;\n  });\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e debouncedCallback = \u003cspan class=\"hljs-title function_ inline\"\u003euseCallback\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e(\u003cspan class=\"hljs-params inline\"\u003e...args\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (timeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n      \u003cspan class=\"hljs-built_in inline\"\u003eclearTimeout\u003c/span\u003e(timeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n    }\n\n    timeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-built_in inline\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      callbackRef.\u003cspan class=\"hljs-title function_ inline\"\u003ecurrent\u003c/span\u003e(...args);\n    }, delay);\n  }, [delay]);\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 清理定时器\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (timeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n        \u003cspan class=\"hljs-built_in inline\"\u003eclearTimeout\u003c/span\u003e(timeoutRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e);\n      }\n    };\n  }, []);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e debouncedCallback;\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 使用自定义 Hook\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eSearchComponent\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [query, setQuery] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [results, setResults] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e([]);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003esearchAPI\u003c/span\u003e = \u003cspan class=\"hljs-keyword inline\"\u003easync\u003c/span\u003e (\u003cspan class=\"hljs-params inline\"\u003esearchTerm\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;搜索:\u0026#x27;\u003c/span\u003e, searchTerm);\n    \u003cspan class=\"hljs-comment inline\"\u003e// 模拟API调用\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetResults\u003c/span\u003e([\u003cspan class=\"hljs-string inline\"\u003e`搜索结果: \u003cspan class=\"hljs-subst inline\"\u003e${searchTerm}\u003c/span\u003e`\u003c/span\u003e]);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e debouncedSearch = \u003cspan class=\"hljs-title function_ inline\"\u003euseDebounce\u003c/span\u003e(searchAPI, \u003cspan class=\"hljs-number inline\"\u003e500\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleInputChange\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003ee\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e value = e.\u003cspan class=\"hljs-property inline\"\u003etarget\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e;\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetQuery\u003c/span\u003e(value);\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (value) {\n      \u003cspan class=\"hljs-title function_ inline\"\u003edebouncedSearch\u003c/span\u003e(value);\n    } \u003cspan class=\"hljs-keyword inline\"\u003eelse\u003c/span\u003e {\n      \u003cspan class=\"hljs-title function_ inline\"\u003esetResults\u003c/span\u003e([]);\n    }\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{query}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleInputChange}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;搜索...\u0026quot;\u003c/span\u003e\n      /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        {results.map((result, index) =\u0026gt; (\n          \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003ekey\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{index}\u003c/span\u003e\u0026gt;\u003c/span\u003e{result}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        ))}\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"自定义的前一个值-hook\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#自定义的前一个值-hook\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 自定义的前一个值 Hook\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e自定义的前一个值 Hook\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20usePrevious(value)%20%7B%0Aconst%20ref%20%3D%20useRef()%3B%0AuseEffect(()%20%3D%3E%20%7B%0Aref.current%20%3D%20value%3B%0A%7D)%3B%0Areturn%20ref.current%3B%0A%7D%0A%2F%2F%20%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%0Afunction%20PreviousValueExample()%20%7B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0Aconst%20previousCount%20%3D%20usePrevious(count)%3B%0Areturn%20(%0Adiv%3E%0Ap%3E%E5%BD%93%E5%89%8D%E5%80%BC%3A%20%7Bcount%7Dp%3E%0Ap%3E%E5%89%8D%E4%B8%80%E4%B8%AA%E5%80%BC%3A%20%7BpreviousCount%7Dp%3E%0Abutton%20onClick%3D%7B()%20%3D%3E%20setCount(count%20%2B%201)%7D%3E%E5%A2%9E%E5%8A%A0button%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eusePrevious\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003evalue\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e ref = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e();\n  \n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    ref.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = value;\n  });\n  \n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e ref.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-comment inline\"\u003e// 使用示例\u003c/span\u003e\n\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ePreviousValueExample\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [count, setCount] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e previousCount = \u003cspan class=\"hljs-title function_ inline\"\u003eusePrevious\u003c/span\u003e(count);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e当前值: {count}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e前一个值: {previousCount}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{()\u003c/span\u003e =\u0026gt;\u003c/span\u003e setCount(count + 1)}\u0026gt;增加\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch3 id=\"ref-的同步更新特性\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#ref-的同步更新特性\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to ref 的同步更新特性\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003eref 的同步更新特性\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e与 state 的异步更新不同，ref 的更新是同步的。这意味着当你修改 \u003ccode\u003eref.current\u003c/code\u003e 时，新值会立即生效，而不需要等待下一次渲染。这在某些需要立即检测状态变化的场景中非常有用。\u003c/p\u003e\n\u003ch4 id=\"state-异步-vs-ref-同步的对比\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#state-异步-vs-ref-同步的对比\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to state 异步 vs ref 同步的对比\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003estate 异步 vs ref 同步的对比\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20SyncVsAsyncExample()%20%7B%0Aconst%20%5Bcount%2C%20setCount%5D%20%3D%20useState(0)%3B%0Aconst%20countRef%20%3D%20useRef(0)%3B%0Aconst%20handleStateClick%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log('%E7%82%B9%E5%87%BB%E5%89%8D%20state%3A'%2C%20count)%3B%20%2F%2F%20%E6%98%BE%E7%A4%BA%E6%97%A7%E5%80%BC%0AsetCount(count%20%2B%201)%3B%0Aconsole.log('%E7%82%B9%E5%87%BB%E5%90%8E%20state%3A'%2C%20count)%3B%20%2F%2F%20%E4%BB%8D%E7%84%B6%E6%98%BE%E7%A4%BA%E6%97%A7%E5%80%BC%EF%BC%88%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0A%7D%3B%0Aconst%20handleRefClick%20%3D%20()%20%3D%3E%20%7B%0Aconsole.log('%E7%82%B9%E5%87%BB%E5%89%8D%20ref%3A'%2C%20countRef.current)%3B%20%2F%2F%20%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E5%80%BC%0AcountRef.current%20%2B%3D%201%3B%0Aconsole.log('%E7%82%B9%E5%87%BB%E5%90%8E%20ref%3A'%2C%20countRef.current)%3B%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%98%BE%E7%A4%BA%E6%96%B0%E5%80%BC%EF%BC%88%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0A%7D%3B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%20useEffect%20%E8%A7%82%E5%AF%9F%20state%20%E7%9A%84%E5%AE%9E%E9%99%85%E6%9B%B4%E6%96%B0%E6%97%B6%E6%9C%BA%0AuseEffect(()%20%3D%3E%20%7B%0Aconsole.log('state%20%E5%AE%9E%E9%99%85%E6%9B%B4%E6%96%B0%E4%B8%BA%3A'%2C%20count)%3B%0A%7D%2C%20%5Bcount%5D)%3B%0Areturn%20(%0Adiv%3E%0Ap%3EState%20%E8%AE%A1%E6%95%B0%3A%20%7Bcount%7Dp%3E%0Ap%3ERef%20%E8%AE%A1%E6%95%B0%3A%20%7BcountRef.current%7Dp%3E%0Abutton%20onClick%3D%7BhandleStateClick%7D%3EState%20%2B1button%3E%0Abutton%20onClick%3D%7BhandleRefClick%7D%3ERef%20%2B1button%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eSyncVsAsyncExample\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [count, setCount] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e countRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleStateClick\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;点击前 state:\u0026#x27;\u003c/span\u003e, count); \u003cspan class=\"hljs-comment inline\"\u003e// 显示旧值\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetCount\u003c/span\u003e(count + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e);\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;点击后 state:\u0026#x27;\u003c/span\u003e, count); \u003cspan class=\"hljs-comment inline\"\u003e// 仍然显示旧值（异步更新）\u003c/span\u003e\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleRefClick\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;点击前 ref:\u0026#x27;\u003c/span\u003e, countRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e); \u003cspan class=\"hljs-comment inline\"\u003e// 显示当前值\u003c/span\u003e\n    countRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e += \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;点击后 ref:\u0026#x27;\u003c/span\u003e, countRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e); \u003cspan class=\"hljs-comment inline\"\u003e// 立即显示新值（同步更新）\u003c/span\u003e\n  };\n\n  \u003cspan class=\"hljs-comment inline\"\u003e// 使用 useEffect 观察 state 的实际更新时机\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_ inline\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;state 实际更新为:\u0026#x27;\u003c/span\u003e, count);\n  }, [count]);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003eState 计数: {count}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003eRef 计数: {countRef.current}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleStateClick}\u003c/span\u003e\u0026gt;\u003c/span\u003eState +1\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleRefClick}\u003c/span\u003e\u0026gt;\u003c/span\u003eRef +1\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"连续快速操作的场景\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#连续快速操作的场景\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 连续快速操作的场景\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e连续快速操作的场景\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20RapidClickExample()%20%7B%0Aconst%20%5BstateClicks%2C%20setStateClicks%5D%20%3D%20useState(0)%3B%0Aconst%20refClicks%20%3D%20useRef(0)%3B%0Aconst%20%5Blog%2C%20setLog%5D%20%3D%20useState(%5B%5D)%3B%0Aconst%20handleRapidStateClicks%20%3D%20()%20%3D%3E%20%7B%0A%2F%2F%20%E8%BF%9E%E7%BB%AD%E7%9A%84%20state%20%E6%9B%B4%E6%96%B0%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%A2%AB%E6%89%B9%E5%A4%84%E7%90%86%0AsetStateClicks(prev%20%3D%3E%20prev%20%2B%201)%3B%0AsetStateClicks(prev%20%3D%3E%20prev%20%2B%201)%3B%0AsetStateClicks(prev%20%3D%3E%20prev%20%2B%201)%3B%0A%2F%2F%20%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E4%BA%8B%E4%BB%B6%E4%B8%AD%EF%BC%8CstateClicks%20%E7%9A%84%E5%80%BC%E4%B8%8D%E4%BC%9A%E7%AB%8B%E5%8D%B3%E6%9B%B4%E6%96%B0%0AsetLog(prev%20%3D%3E%20%5B...prev%2C%20%60State%20%E6%89%B9%E9%87%8F%E6%9B%B4%E6%96%B0%EF%BC%8C%E5%BD%93%E5%89%8D%E6%98%BE%E7%A4%BA%3A%20%24%7BstateClicks%7D%60%5D)%3B%0A%7D%3B%0Aconst%20handleRapidRefClicks%20%3D%20()%20%3D%3E%20%7B%0A%2F%2F%20ref%20%E7%9A%84%E6%9B%B4%E6%96%B0%E6%98%AF%E7%AB%8B%E5%8D%B3%E7%9A%84%0ArefClicks.current%20%2B%3D%201%3B%0ArefClicks.current%20%2B%3D%201%3B%0ArefClicks.current%20%2B%3D%201%3B%0A%2F%2F%20%E5%8F%AF%E4%BB%A5%E7%AB%8B%E5%8D%B3%E8%8E%B7%E5%8F%96%E5%88%B0%E6%9C%80%E6%96%B0%E5%80%BC%0AsetLog(prev%20%3D%3E%20%5B...prev%2C%20%60Ref%20%E7%AB%8B%E5%8D%B3%E6%9B%B4%E6%96%B0%EF%BC%8C%E5%BD%93%E5%89%8D%E5%80%BC%3A%20%24%7BrefClicks.current%7D%60%5D)%3B%0A%7D%3B%0Aconst%20clearLog%20%3D%20()%20%3D%3E%20setLog(%5B%5D)%3B%0Areturn%20(%0Adiv%3E%0Adiv%3E%0Ap%3EState%20%E7%82%B9%E5%87%BB%E6%AC%A1%E6%95%B0%3A%20%7BstateClicks%7Dp%3E%0Ap%3ERef%20%E7%82%B9%E5%87%BB%E6%AC%A1%E6%95%B0%3A%20%7BrefClicks.current%7Dp%3E%0Adiv%3E%0Adiv%3E%0Abutton%20onClick%3D%7BhandleRapidStateClicks%7D%3EState%20%E8%BF%9E%E7%BB%AD%2B3button%3E%0Abutton%20onClick%3D%7BhandleRapidRefClicks%7D%3ERef%20%E8%BF%9E%E7%BB%AD%2B3button%3E%0Abutton%20onClick%3D%7BclearLog%7D%3E%E6%B8%85%E7%A9%BA%E6%97%A5%E5%BF%97button%3E%0Adiv%3E%0Adiv%3E%0Ah4%3E%E6%93%8D%E4%BD%9C%E6%97%A5%E5%BF%97%3Ah4%3E%0Aul%3E%0A%7Blog.map((entry%2C%20index)%20%3D%3E%20(%0Ali%20key%3D%7Bindex%7D%3E%7Bentry%7Dli%3E%0A))%7D%0Aul%3E%0Adiv%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eRapidClickExample\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [stateClicks, setStateClicks] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e refClicks = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [log, setLog] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e([]);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleRapidStateClicks\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-comment inline\"\u003e// 连续的 state 更新可能会被批处理\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetStateClicks\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eprev\u003c/span\u003e =\u0026gt;\u003c/span\u003e prev + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e);\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetStateClicks\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eprev\u003c/span\u003e =\u0026gt;\u003c/span\u003e prev + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e);\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetStateClicks\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eprev\u003c/span\u003e =\u0026gt;\u003c/span\u003e prev + \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e);\n    \n    \u003cspan class=\"hljs-comment inline\"\u003e// 在同一个事件中，stateClicks 的值不会立即更新\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetLog\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eprev\u003c/span\u003e =\u0026gt;\u003c/span\u003e [...prev, \u003cspan class=\"hljs-string inline\"\u003e`State 批量更新，当前显示: \u003cspan class=\"hljs-subst inline\"\u003e${stateClicks}\u003c/span\u003e`\u003c/span\u003e]);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleRapidRefClicks\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-comment inline\"\u003e// ref 的更新是立即的\u003c/span\u003e\n    refClicks.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e += \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e;\n    refClicks.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e += \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e;\n    refClicks.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e += \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e;\n    \n    \u003cspan class=\"hljs-comment inline\"\u003e// 可以立即获取到最新值\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetLog\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eprev\u003c/span\u003e =\u0026gt;\u003c/span\u003e [...prev, \u003cspan class=\"hljs-string inline\"\u003e`Ref 立即更新，当前值: \u003cspan class=\"hljs-subst inline\"\u003e${refClicks.current}\u003c/span\u003e`\u003c/span\u003e]);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eclearLog\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; \u003cspan class=\"hljs-title function_ inline\"\u003esetLog\u003c/span\u003e([]);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003eState 点击次数: {stateClicks}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003eRef 点击次数: {refClicks.current}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleRapidStateClicks}\u003c/span\u003e\u0026gt;\u003c/span\u003eState 连续+3\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleRapidRefClicks}\u003c/span\u003e\u0026gt;\u003c/span\u003eRef 连续+3\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{clearLog}\u003c/span\u003e\u0026gt;\u003c/span\u003e清空日志\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eh4\u003c/span\u003e\u0026gt;\u003c/span\u003e操作日志:\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eh4\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          {log.map((entry, index) =\u0026gt; (\n            \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003eli\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003ekey\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{index}\u003c/span\u003e\u0026gt;\u003c/span\u003e{entry}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eli\u003c/span\u003e\u0026gt;\u003c/span\u003e\n          ))}\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003eul\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"实时计算场景\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#实时计算场景\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 实时计算场景\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e实时计算场景\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20RealTimeCalculation()%20%7B%0Aconst%20%5BinputValue%2C%20setInputValue%5D%20%3D%20useState('')%3B%0Aconst%20calculationCountRef%20%3D%20useRef(0)%3B%0Aconst%20lastCalculationRef%20%3D%20useRef(null)%3B%0Aconst%20performExpensiveCalculation%20%3D%20(value)%20%3D%3E%20%7B%0A%2F%2F%20%E5%A2%9E%E5%8A%A0%E8%AE%A1%E7%AE%97%E6%AC%A1%E6%95%B0%EF%BC%88%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0AcalculationCountRef.current%20%2B%3D%201%3B%0A%2F%2F%20%E7%AB%8B%E5%8D%B3%E8%AE%B0%E5%BD%95%E8%AE%A1%E7%AE%97%E6%97%B6%E9%97%B4%0AlastCalculationRef.current%20%3D%20new%20Date().toLocaleTimeString()%3B%0A%2F%2F%20%E6%A8%A1%E6%8B%9F%E6%98%82%E8%B4%B5%E8%AE%A1%E7%AE%97%0Aconst%20result%20%3D%20value.split('').reverse().join('')%20%2B%20calculationCountRef.current%3B%0Aconsole.log(%60%E7%AC%AC%20%24%7BcalculationCountRef.current%7D%20%E6%AC%A1%E8%AE%A1%E7%AE%97%E5%9C%A8%20%24%7BlastCalculationRef.current%7D%20%E5%AE%8C%E6%88%90%60)%3B%0Areturn%20result%3B%0A%7D%3B%0Aconst%20handleInputChange%20%3D%20(e)%20%3D%3E%20%7B%0Aconst%20value%20%3D%20e.target.value%3B%0AsetInputValue(value)%3B%0Aif%20(value)%20%7B%0A%2F%2F%20%E5%9B%A0%E4%B8%BA%20ref%20%E6%98%AF%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%E7%9A%84%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%AB%8B%E5%8D%B3%E8%8E%B7%E5%8F%96%E5%87%86%E7%A1%AE%E7%9A%84%E8%AE%A1%E7%AE%97%E6%AC%A1%E6%95%B0%0Aconst%20result%20%3D%20performExpensiveCalculation(value)%3B%0Aconsole.log('%E8%AE%A1%E7%AE%97%E7%BB%93%E6%9E%9C%3A'%2C%20result)%3B%0A%7D%0A%7D%3B%0Aconst%20resetCalculations%20%3D%20()%20%3D%3E%20%7B%0AcalculationCountRef.current%20%3D%200%3B%0AlastCalculationRef.current%20%3D%20null%3B%0AsetInputValue('')%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ainput%0Avalue%3D%7BinputValue%7D%0AonChange%3D%7BhandleInputChange%7D%0Aplaceholder%3D%22%E8%BE%93%E5%85%A5%E6%96%87%E6%9C%AC%E8%A7%A6%E5%8F%91%E8%AE%A1%E7%AE%97...%22%0A%2F%3E%0Adiv%3E%0Ap%3E%E8%AE%A1%E7%AE%97%E6%AC%A1%E6%95%B0%3A%20%7BcalculationCountRef.current%7Dp%3E%0Ap%3E%E6%9C%80%E5%90%8E%E8%AE%A1%E7%AE%97%E6%97%B6%E9%97%B4%3A%20%7BlastCalculationRef.current%20%7C%7C%20'%E6%9C%AA%E5%BC%80%E5%A7%8B'%7Dp%3E%0Adiv%3E%0Abutton%20onClick%3D%7BresetCalculations%7D%3E%E9%87%8D%E7%BD%AEbutton%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eRealTimeCalculation\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [inputValue, setInputValue] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e calculationCountRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e lastCalculationRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eperformExpensiveCalculation\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003evalue\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-comment inline\"\u003e// 增加计算次数（同步更新）\u003c/span\u003e\n    calculationCountRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e += \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e;\n    \n    \u003cspan class=\"hljs-comment inline\"\u003e// 立即记录计算时间\u003c/span\u003e\n    lastCalculationRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-keyword inline\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003eDate\u003c/span\u003e().\u003cspan class=\"hljs-title function_ inline\"\u003etoLocaleTimeString\u003c/span\u003e();\n    \n    \u003cspan class=\"hljs-comment inline\"\u003e// 模拟昂贵计算\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e result = value.\u003cspan class=\"hljs-title function_ inline\"\u003esplit\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e).\u003cspan class=\"hljs-title function_ inline\"\u003ereverse\u003c/span\u003e().\u003cspan class=\"hljs-title function_ inline\"\u003ejoin\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e) + calculationCountRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e;\n    \n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e`第 \u003cspan class=\"hljs-subst inline\"\u003e${calculationCountRef.current}\u003c/span\u003e 次计算在 \u003cspan class=\"hljs-subst inline\"\u003e${lastCalculationRef.current}\u003c/span\u003e 完成`\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e result;\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleInputChange\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003ee\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e value = e.\u003cspan class=\"hljs-property inline\"\u003etarget\u003c/span\u003e.\u003cspan class=\"hljs-property inline\"\u003evalue\u003c/span\u003e;\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetInputValue\u003c/span\u003e(value);\n    \n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (value) {\n      \u003cspan class=\"hljs-comment inline\"\u003e// 因为 ref 是同步更新的，我们可以立即获取准确的计算次数\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e result = \u003cspan class=\"hljs-title function_ inline\"\u003eperformExpensiveCalculation\u003c/span\u003e(value);\n      \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;计算结果:\u0026#x27;\u003c/span\u003e, result);\n    }\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eresetCalculations\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    calculationCountRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e;\n    lastCalculationRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003enull\u003c/span\u003e;\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetInputValue\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003einput\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{inputValue}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleInputChange}\u003c/span\u003e\n        \u003cspan class=\"hljs-attr inline\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e\u0026quot;输入文本触发计算...\u0026quot;\u003c/span\u003e\n      /\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e计算次数: {calculationCountRef.current}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e最后计算时间: {lastCalculationRef.current || \u0026#x27;未开始\u0026#x27;}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{resetCalculations}\u003c/span\u003e\u0026gt;\u003c/span\u003e重置\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003ch4 id=\"事件处理中的即时状态检查\" class=\"group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#事件处理中的即时状态检查\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 事件处理中的即时状态检查\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e事件处理中的即时状态检查\u003c/strong\u003e\n        \u003c/h4\u003e\n\n            \u003cdiv class=\"enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm\" data-enhanced-codeblock=\"true\" data-language=\"jsx\" data-code=\"function%20EventHandlingExample()%20%7B%0Aconst%20%5BisProcessing%2C%20setIsProcessing%5D%20%3D%20useState(false)%3B%0Aconst%20processingCountRef%20%3D%20useRef(0)%3B%0Aconst%20isProcessingRef%20%3D%20useRef(false)%3B%0Aconst%20simulateAsyncOperation%20%3D%20async%20()%20%3D%3E%20%7B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%20state%EF%BC%88%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0AsetIsProcessing(true)%3B%0A%2F%2F%20%E4%BD%BF%E7%94%A8%20ref%EF%BC%88%E5%90%8C%E6%AD%A5%E6%9B%B4%E6%96%B0%EF%BC%89%0AisProcessingRef.current%20%3D%20true%3B%0AprocessingCountRef.current%20%2B%3D%201%3B%0Aconsole.log('%E5%BC%80%E5%A7%8B%E5%A4%84%E7%90%86%E6%97%B6%3A')%3B%0Aconsole.log('-%20state%20isProcessing%3A'%2C%20isProcessing)%3B%20%2F%2F%20%E5%8F%AF%E8%83%BD%E8%BF%98%E6%98%AF%20false%0Aconsole.log('-%20ref%20isProcessingRef%3A'%2C%20isProcessingRef.current)%3B%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%98%AF%20true%0Aconsole.log('-%20ref%20processingCount%3A'%2C%20processingCountRef.current)%3B%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%9B%B4%E6%96%B0%E7%9A%84%E8%AE%A1%E6%95%B0%0A%2F%2F%20%E6%A8%A1%E6%8B%9F%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%0Aawait%20new%20Promise(resolve%20%3D%3E%20setTimeout(resolve%2C%202000))%3B%0AsetIsProcessing(false)%3B%0AisProcessingRef.current%20%3D%20false%3B%0Aconsole.log('%E5%A4%84%E7%90%86%E5%AE%8C%E6%88%90')%3B%0A%7D%3B%0Aconst%20handleClick%20%3D%20()%20%3D%3E%20%7B%0A%2F%2F%20%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB%EF%BC%9A%E4%BD%BF%E7%94%A8%20ref%20%E5%8F%AF%E4%BB%A5%E7%AB%8B%E5%8D%B3%E6%A3%80%E6%9F%A5%E7%8A%B6%E6%80%81%0Aif%20(isProcessingRef.current)%20%7B%0Aconsole.log('%E6%93%8D%E4%BD%9C%E6%AD%A3%E5%9C%A8%E8%BF%9B%E8%A1%8C%E4%B8%AD%EF%BC%8C%E5%BF%BD%E7%95%A5%E7%82%B9%E5%87%BB')%3B%0Areturn%3B%0A%7D%0A%2F%2F%20%E5%A6%82%E6%9E%9C%E4%BD%BF%E7%94%A8%20state%20%E6%A3%80%E6%9F%A5%EF%BC%8C%E5%8F%AF%E8%83%BD%E6%97%A0%E6%B3%95%E7%AB%8B%E5%8D%B3%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E7%82%B9%E5%87%BB%0A%2F%2F%20if%20(isProcessing)%20%7B%20...%20%7D%20%2F%2F%20%E8%BF%99%E5%8F%AF%E8%83%BD%E4%B8%8D%E5%87%86%E7%A1%AE%0AsimulateAsyncOperation()%3B%0A%7D%3B%0Areturn%20(%0Adiv%3E%0Ap%3E%E5%A4%84%E7%90%86%E7%8A%B6%E6%80%81%20(state)%3A%20%7BisProcessing%20%3F%20'%E8%BF%9B%E8%A1%8C%E4%B8%AD'%20%3A%20'%E7%A9%BA%E9%97%B2'%7Dp%3E%0Ap%3E%E5%A4%84%E7%90%86%E7%8A%B6%E6%80%81%20(ref)%3A%20%7BisProcessingRef.current%20%3F%20'%E8%BF%9B%E8%A1%8C%E4%B8%AD'%20%3A%20'%E7%A9%BA%E9%97%B2'%7Dp%3E%0Ap%3E%E5%A4%84%E7%90%86%E6%AC%A1%E6%95%B0%3A%20%7BprocessingCountRef.current%7Dp%3E%0Abutton%20onClick%3D%7BhandleClick%7D%20disabled%3D%7BisProcessing%7D%3E%0A%7BisProcessing%20%3F%20'%E5%A4%84%E7%90%86%E4%B8%AD...'%20%3A%20'%E5%BC%80%E5%A7%8B%E5%A4%84%E7%90%86'%7D%0Abutton%3E%0Adiv%3E%0A)%3B%0A%7D\"\u003e\n                \u003cdiv class=\"codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700\"\u003e\n                    \u003cspan class=\"codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline\"\u003ejsx\u003c/span\u003e\n                    \u003cbutton class=\"codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95\" title=\"复制代码\"\u003e\n                        \u003csvg class=\"copy-icon w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath d=\"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z\" /\u003e\n                            \u003cpath d=\"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z\" /\u003e\n                        \u003c/svg\u003e\n                        \u003csvg class=\"copied-icon w-4 h-4 hidden\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                            \u003cpath fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" /\u003e\n                        \u003c/svg\u003e\n                        \u003cspan class=\"copy-text inline\"\u003e复制\u003c/span\u003e\n                    \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cpre class=\"codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"hljs-keyword inline\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003eEventHandlingExample\u003c/span\u003e(\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e [isProcessing, setIsProcessing] = \u003cspan class=\"hljs-title function_ inline\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e processingCountRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-number inline\"\u003e0\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e isProcessingRef = \u003cspan class=\"hljs-title function_ inline\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003esimulateAsyncOperation\u003c/span\u003e = \u003cspan class=\"hljs-keyword inline\"\u003easync\u003c/span\u003e (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-comment inline\"\u003e// 使用 state（异步更新）\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetIsProcessing\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e);\n    \n    \u003cspan class=\"hljs-comment inline\"\u003e// 使用 ref（同步更新）\u003c/span\u003e\n    isProcessingRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003etrue\u003c/span\u003e;\n    processingCountRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e += \u003cspan class=\"hljs-number inline\"\u003e1\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;开始处理时:\u0026#x27;\u003c/span\u003e);\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;- state isProcessing:\u0026#x27;\u003c/span\u003e, isProcessing); \u003cspan class=\"hljs-comment inline\"\u003e// 可能还是 false\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;- ref isProcessingRef:\u0026#x27;\u003c/span\u003e, isProcessingRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e); \u003cspan class=\"hljs-comment inline\"\u003e// 立即是 true\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;- ref processingCount:\u0026#x27;\u003c/span\u003e, processingCountRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e); \u003cspan class=\"hljs-comment inline\"\u003e// 立即更新的计数\u003c/span\u003e\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// 模拟异步操作\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-keyword inline\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_ inline\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function inline\"\u003e\u003cspan class=\"hljs-params inline\"\u003eresolve\u003c/span\u003e =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-built_in inline\"\u003esetTimeout\u003c/span\u003e(resolve, \u003cspan class=\"hljs-number inline\"\u003e2000\u003c/span\u003e));\n\n    \u003cspan class=\"hljs-title function_ inline\"\u003esetIsProcessing\u003c/span\u003e(\u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e);\n    isProcessingRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-literal inline\"\u003efalse\u003c/span\u003e;\n    \n    \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;处理完成\u0026#x27;\u003c/span\u003e);\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_ inline\"\u003ehandleClick\u003c/span\u003e = (\u003cspan class=\"hljs-params inline\"\u003e\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-comment inline\"\u003e// 防止重复点击：使用 ref 可以立即检查状态\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword inline\"\u003eif\u003c/span\u003e (isProcessingRef.\u003cspan class=\"hljs-property inline\"\u003ecurrent\u003c/span\u003e) {\n      \u003cspan class=\"hljs-variable language_ inline\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_ inline\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string inline\"\u003e\u0026#x27;操作正在进行中，忽略点击\u0026#x27;\u003c/span\u003e);\n      \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-comment inline\"\u003e// 如果使用 state 检查，可能无法立即防止重复点击\u003c/span\u003e\n    \u003cspan class=\"hljs-comment inline\"\u003e// if (isProcessing) { ... } // 这可能不准确\u003c/span\u003e\n\n    \u003cspan class=\"hljs-title function_ inline\"\u003esimulateAsyncOperation\u003c/span\u003e();\n  };\n\n  \u003cspan class=\"hljs-keyword inline\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml inline\"\u003e\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e处理状态 (state): {isProcessing ? \u0026#x27;进行中\u0026#x27; : \u0026#x27;空闲\u0026#x27;}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e处理状态 (ref): {isProcessingRef.current ? \u0026#x27;进行中\u0026#x27; : \u0026#x27;空闲\u0026#x27;}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e处理次数: {processingCountRef.current}\u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{handleClick}\u003c/span\u003e \u003cspan class=\"hljs-attr inline\"\u003edisabled\u003c/span\u003e=\u003cspan class=\"hljs-string inline\"\u003e{isProcessing}\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        {isProcessing ? \u0026#x27;处理中...\u0026#x27; : \u0026#x27;开始处理\u0026#x27;}\n      \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag inline\"\u003e\u0026lt;/\u003cspan class=\"hljs-name inline\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\n            \u003c/div\u003e\n        \n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e这种同步更新的特性使得 ref 在以下场景中特别有用：\u003c/p\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e防止重复操作\u003c/strong\u003e：立即标记操作状态\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e实时计数\u003c/strong\u003e：需要准确跟踪操作次数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e性能监控\u003c/strong\u003e：立即记录时间戳或计数\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e复杂事件处理\u003c/strong\u003e：需要在同一个事件处理函数中获取最新状态\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"最佳实践\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#最佳实践\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 最佳实践\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e最佳实践\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003col class=\"list-decimal list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003eDOM 操作\u003c/strong\u003e：优先使用 ref 而不是 document.querySelector\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e避免过度使用\u003c/strong\u003e：不要用 ref 替代 state，只在必要时使用\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003enull 检查\u003c/strong\u003e：访问 ref.current 前要检查是否为 null\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e清理资源\u003c/strong\u003e：及时清理定时器、事件监听器等\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e转发 ref\u003c/strong\u003e：在可复用组件中正确使用 forwardRef\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e同步特性\u003c/strong\u003e：利用 ref 的同步更新特性处理需要立即响应的场景\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"注意事项\" class=\"group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug\"\u003e\n            \u003ca href=\"#注意事项\" class=\"absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary\" aria-label=\"Link to 注意事项\"\u003e\n                \u003csvg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\u003e\n                    \u003cpath fill-rule=\"evenodd\" d=\"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z\" clip-rule=\"evenodd\" /\u003e\n                \u003c/svg\u003e\n            \u003c/a\u003e\n            \u003cstrong class=\"font-bold text-foreground\"\u003e注意事项\u003c/strong\u003e\n        \u003c/h3\u003e\n\u003cul class=\"list-disc list-inside mb-4 pl-6 space-y-2\"\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e不触发重新渲染\u003c/strong\u003e：修改 ref.current 不会导致组件重新渲染\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e同步更新\u003c/strong\u003e：ref.current 的修改是同步的，与 state 的异步更新不同\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e初始值为 null\u003c/strong\u003e：DOM ref 在首次渲染时为 null\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e避免在渲染期间读取\u003c/strong\u003e：不要在渲染过程中读取或写入 ref.current\u003c/li\u003e\n\u003cli class=\"text-foreground leading-relaxed\"\u003e\u003cstrong class=\"font-bold text-foreground\"\u003e函数组件专用\u003c/strong\u003e：useRef 只能在函数组件中使用\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp class=\"text-base leading-7 mb-4 text-foreground\"\u003e\u003ccode\u003euseRef\u003c/code\u003e 是 React 中处理 DOM 操作和保存可变值的重要工具，正确使用能够提升应用的交互性和性能。\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"$L1d\",null,{\"htmlContent\":\"$1e\",\"frontMatter\":{\"title\":\"useRef\",\"description\":\"React基础知识篇-useRef\",\"date\":\"2025-06-22\",\"author\":\"MilkWind\",\"tags\":[\"React\",\"基础知识\",\"useRef\",\"React Hook\"],\"references\":{}},\"readingTime\":\"17 min read\",\"category\":\"basic-knowledge\",\"tocItems\":[{\"id\":\"基本作用\",\"text\":\"基本作用\",\"level\":3},{\"id\":\"基本语法\",\"text\":\"基本语法\",\"level\":3},{\"id\":\"访问-dom-元素\",\"text\":\"访问 DOM 元素\",\"level\":3},{\"id\":\"基本-dom-操作\",\"text\":\"基本 DOM 操作\",\"level\":4},{\"id\":\"滚动控制\",\"text\":\"滚动控制\",\"level\":4},{\"id\":\"保存可变值\",\"text\":\"保存可变值\",\"level\":3},{\"id\":\"不触发重新渲染的计数器\",\"text\":\"不触发重新渲染的计数器\",\"level\":4},{\"id\":\"存储定时器引用\",\"text\":\"存储定时器引用\",\"level\":4},{\"id\":\"表单处理\",\"text\":\"表单处理\",\"level\":3},{\"id\":\"非受控组件\",\"text\":\"非受控组件\",\"level\":4},{\"id\":\"文件上传\",\"text\":\"文件上传\",\"level\":4},{\"id\":\"缓存和性能优化\",\"text\":\"缓存和性能优化\",\"level\":3},{\"id\":\"缓存昂贵计算的结果\",\"text\":\"缓存昂贵计算的结果\",\"level\":4},{\"id\":\"防抖处理\",\"text\":\"防抖处理\",\"level\":4},{\"id\":\"组件间通信\",\"text\":\"组件间通信\",\"level\":3},{\"id\":\"转发-ref\",\"text\":\"转发 ref\",\"level\":4},{\"id\":\"暴露方法给父组件\",\"text\":\"暴露方法给父组件\",\"level\":4},{\"id\":\"常见陷阱和解决方案\",\"text\":\"常见陷阱和解决方案\",\"level\":3},{\"id\":\"ref-的初始值问题\",\"text\":\"ref 的初始值问题\",\"level\":4},{\"id\":\"在依赖数组中使用-ref\",\"text\":\"在依赖数组中使用 ref\",\"level\":4},{\"id\":\"自定义-hook-中的使用\",\"text\":\"自定义 Hook 中的使用\",\"level\":3},{\"id\":\"自定义的防抖-hook\",\"text\":\"自定义的防抖 Hook\",\"level\":4},{\"id\":\"自定义的前一个值-hook\",\"text\":\"自定义的前一个值 Hook\",\"level\":4},{\"id\":\"ref-的同步更新特性\",\"text\":\"ref 的同步更新特性\",\"level\":3},{\"id\":\"state-异步-vs-ref-同步的对比\",\"text\":\"state 异步 vs ref 同步的对比\",\"level\":4},{\"id\":\"连续快速操作的场景\",\"text\":\"连续快速操作的场景\",\"level\":4},{\"id\":\"实时计算场景\",\"text\":\"实时计算场景\",\"level\":4},{\"id\":\"事件处理中的即时状态检查\",\"text\":\"事件处理中的即时状态检查\",\"level\":4},{\"id\":\"最佳实践\",\"text\":\"最佳实践\",\"level\":3},{\"id\":\"注意事项\",\"text\":\"注意事项\",\"level\":3}],\"translations\":{\"common\":{\"welcome\":\"欢迎\",\"loading\":\"加载中...\",\"error\":\"出现了一些问题\",\"retry\":\"重试\",\"theme\":\"主题\",\"language\":\"语言\",\"light\":\"浅色\",\"dark\":\"深色\"},\"navigation\":{\"home\":\"首页\",\"personal\":\"个人\",\"works\":\"作品\",\"contributions\":\"贡献\",\"documents\":\"文档\",\"about\":\"关于\",\"contact\":\"联系\"},\"personal\":{\"technicalSkills\":\"技术技能\",\"email\":\"邮箱\",\"github\":\"代码仓库\",\"resume\":\"简历\",\"codeRepository\":\"代码仓库\",\"loadingPersonalInfo\":\"加载个人信息中...\",\"loadingResume\":\"加载简历中...\",\"closeResume\":\"关闭简历\",\"emailCopied\":\"邮箱已复制到剪贴板！\",\"galaxyDefaultDescription\":\"精通全栈开发技术，具备跨平台架构能力，擅长AI技术整合与高性能系统优化\",\"skillGalaxy\":\"技能星系\",\"stirGalaxy\":\"搅动星系\",\"stirring\":\"搅动中...\",\"fullStackEngineer\":\"MilkWind - 全栈工程师\",\"professionalProfile\":\"关于我\"},\"documents\":{\"technicalDocuments\":\"技术文档\",\"description\":\"基本原理、代码拆分以及一些碎碎念。\",\"articles\":\"文章\",\"categories\":\"分类\",\"allCategories\":\"所有分类\",\"noArticlesFound\":\"未找到文章\",\"noArticlesAvailable\":\"中文暂无文章。\",\"noArticlesInCategory\":\"该分类下未找到文章。\",\"readMore\":\"阅读更多\",\"loadingDocuments\":\"加载文档中...\",\"backToDocuments\":\"← 返回文档\",\"documentNotFound\":\"文档未找到\",\"documentNotFoundDescription\":\"请求的文档无法找到。\",\"technicalInsights\":\"技术拆解\",\"untitledDocument\":\"无标题文档\",\"byAuthor\":\"作者：\",\"search\":\"搜索文章...\",\"searchByTags\":\"按标签筛选\",\"searching\":\"搜索中...\",\"noSearchResults\":\"没有找到符合搜索条件的文章\",\"clearSearch\":\"清除搜索\",\"selectedTags\":\"已选标签\",\"allTags\":\"所有标签\",\"searchInTitle\":\"在标题、描述和内容中搜索\",\"enterImmersiveMode\":\"沉浸阅读\",\"exitImmersiveMode\":\"退出沉浸模式\",\"immersiveReading\":\"沉浸阅读模式\",\"exploreContent\":\"按分类探索内容\",\"browseBy\":\"浏览方式\",\"exploreAll\":\"所有内容汇总\",\"categoryDescription\":\"该分类下的文章\",\"totalArticles\":\"文章\",\"totalCategories\":\"分类\",\"foundArticles\":\"找到文章\",\"categoriesWithResults\":\"有结果的分类\"},\"works\":{\"workCases\":\"作品案例\",\"projects\":\"作品集\",\"loadingProjects\":\"加载项目中...\",\"grid\":\"网格\",\"stack\":\"堆叠\",\"of\":\"共\",\"workCasesPageTitle\":\"作品案例页面\",\"pageWorkingCorrectly\":\"此页面运行正常！路由配置正确。\",\"try3DVersion\":\"尝试3D版本\",\"dragToScroll\":\"拖拽滚动\",\"dragToChange\":\"拖拽切换\",\"swipeCards\":\"切换卡片\",\"keyboardNav\":\"键盘导航\"},\"contributions\":{\"contributionCases\":\"开源项目\",\"contributions\":\"贡献\",\"loadingContributions\":\"加载贡献中...\",\"grid\":\"网格\",\"stack\":\"堆叠\",\"of\":\"共\",\"contributionCasesPageTitle\":\"贡献案例页面\",\"pageWorkingCorrectly\":\"此页面运行正常！路由配置正确。\",\"try3DVersion\":\"尝试3D版本\",\"dragToScroll\":\"拖拽滚动\",\"dragToChange\":\"拖拽切换\",\"swipeCards\":\"切换卡片\",\"keyboardNav\":\"键盘导航\"},\"contribution\":{\"contributionPreview\":\"贡献预览\",\"accessible\":\"可访问\",\"code\":\"代码\",\"maintenance\":\"维护\",\"enhancement\":\"增强\",\"documentation\":\"文档\",\"community\":\"社区\",\"moreItems\":\"更多\",\"technicalDetails\":\"技术详情\",\"technologies\":\"技术栈：\",\"contributionDetail\":\"贡献详情\",\"description\":\"描述：\",\"seeDetails\":\"查看详情\",\"github\":\"代码仓库\",\"viewContribution\":\"查看贡献\",\"viewCode\":\"查看代码\"},\"project\":{\"projectPreview\":\"项目预览\",\"accessible\":\"可访问\",\"tool\":\"工具\",\"plugin\":\"插件\",\"toy\":\"小玩意\",\"moreItems\":\"更多\",\"technicalDetails\":\"技术详情\",\"technologies\":\"技术栈：\",\"description\":\"描述：\",\"seeDetails\":\"查看详情\",\"github\":\"GitHub\",\"gitee\":\"Gitee\",\"viewLiveDemo\":\"查看演示\",\"viewCode\":\"查看代码\",\"access\":\"访问\",\"videos\":\"视频\",\"watchVideo\":\"观看视频\",\"hasVideo\":\"有视频\"},\"codeblock\":{\"copy\":\"复制\",\"copySuccess\":\"代码已复制到剪贴板！\",\"copyError\":\"复制代码失败\",\"copyTooltip\":\"复制代码\"},\"toc\":{\"contents\":\"目录\",\"autoScroll\":\"自动滚动到章节\",\"collapse\":\"折叠\",\"expand\":\"展开\"},\"loading\":{\"loading\":\"加载中\",\"preparingExperience\":\"准备体验中\"}},\"lang\":\"zh\",\"theme\":\"dark\"}]\n"])</script><script>self.__next_f.push([1,"12:null\n"])</script><script>self.__next_f.push([1,"18:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n11:null\n"])</script><script>self.__next_f.push([1,"1c:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"useRef | Interactive Portfolio\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"React基础知识篇-useRef\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"Developer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"portfolio,3D,interactive,web development,Three.js,Next.js\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"useRef | Interactive Portfolio\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"React基础知识篇-useRef\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"7\",{\"property\":\"article:published_time\",\"content\":\"2025-06-22\"}],[\"$\",\"meta\",\"8\",{\"property\":\"article:tag\",\"content\":\"React\"}],[\"$\",\"meta\",\"9\",{\"property\":\"article:tag\",\"content\":\"基础知识\"}],[\"$\",\"meta\",\"10\",{\"property\":\"article:tag\",\"content\":\"useRef\"}],[\"$\",\"meta\",\"11\",{\"property\":\"article:tag\",\"content\":\"React Hook\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:title\",\"content\":\"useRef | Interactive Portfolio\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:description\",\"content\":\"React基础知识篇-useRef\"}],[\"$\",\"link\",\"15\",{\"rel\":\"icon\",\"href\":\"/MilkWind-Website/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"32x32\"}]],\"error\":null,\"digest\":\"$undefined\"}\n14:{\"metadata\":\"$1c:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>