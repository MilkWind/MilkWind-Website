1:"$Sreact.fragment"
2:I[38735,["1899","static/chunks/1899-6f0bb42883f79753.js","7177","static/chunks/app/layout-5c95b441a38f3a56.js"],"default"]
3:I[19945,["1899","static/chunks/1899-6f0bb42883f79753.js","7177","static/chunks/app/layout-5c95b441a38f3a56.js"],"default"]
4:I[65337,["1899","static/chunks/1899-6f0bb42883f79753.js","7177","static/chunks/app/layout-5c95b441a38f3a56.js"],"default"]
5:I[96190,["1899","static/chunks/1899-6f0bb42883f79753.js","7177","static/chunks/app/layout-5c95b441a38f3a56.js"],"ClientProviders"]
6:I[87555,[],""]
7:I[51901,["8039","static/chunks/app/error-10ebab2e11865aaf.js"],"default"]
8:I[31295,[],""]
9:I[6874,["6874","static/chunks/6874-fbe9a08eb79b991c.js","4345","static/chunks/app/not-found-38b9d1a0bc95ac08.js"],""]
a:I[94970,[],"ClientSegmentRoot"]
b:I[44065,["206","static/chunks/206-4f4cbf4d7156f437.js","3092","static/chunks/app/documents/layout-5f4e66d848ce7829.js"],"default"]
e:I[59665,[],"MetadataBoundary"]
10:I[59665,[],"OutletBoundary"]
13:I[74911,[],"AsyncMetadataOutlet"]
15:I[39460,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","5650","static/chunks/app/documents/loading-552c4cd17346a076.js"],"default"]
16:I[88610,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","4209","static/chunks/app/loading-0c530d99d5132c05.js"],"default"]
17:I[59665,[],"ViewportBoundary"]
19:I[26614,[],""]
:HL["/_next/static/css/de70bee13400563f.css","style"]
:HL["/_next/static/css/38943437573ce53c.css","style"]
:HL["/_next/static/css/5eacd01f773eed7f.css","style"]
0:{"P":null,"b":"xMcHYm_FvwjrVB7JmFp9i","p":"","c":["","documents","zh","dark","personal-website","living-card",""],"i":false,"f":[[["",{"children":["documents",{"children":[["slug","zh/dark/personal-website/living-card","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/de70bee13400563f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/38943437573ce53c.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_188709 __variable_9a8899 font-sans antialiased min-h-screen bg-background text-foreground","suppressHydrationWarning":true,"children":[["$","$L2",null,{}],["$","$L3",null,{}],["$","$L4",null,{}],["$","$L5",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$7","errorStyles":[],"errorScripts":[],"template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"z-10 relative min-h-screen flex items-center justify-center bg-background p-8","children":["$","div",null,{"className":"text-center max-w-md","children":[["$","div",null,{"className":"text-8xl font-bold text-primary mb-4","children":"404"}],["$","h2",null,{"className":"text-2xl font-bold text-foreground mb-4","children":"Page Not Found"}],["$","p",null,{"className":"text-foreground/70 mb-8","children":"The page you're looking for doesn't exist or has been moved to a different location."}],["$","div",null,{"className":"flex flex-col sm:flex-row gap-4 justify-center","children":[["$","$L9",null,{"href":"/","className":"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors","children":"Go Home"}],["$","$L9",null,{"href":"/works","className":"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors","children":"View Works"}]]}],["$","div",null,{"className":"absolute inset-0 overflow-hidden pointer-events-none -z-10","children":[["$","div",null,{"className":"absolute top-1/4 left-1/4 w-2 h-2 bg-primary/20 rounded-full animate-float"}],["$","div",null,{"className":"absolute top-3/4 right-1/4 w-3 h-3 bg-accent/20 rounded-full animate-float","style":{"animationDelay":"1s"}}],["$","div",null,{"className":"absolute bottom-1/4 left-1/3 w-1 h-1 bg-secondary/20 rounded-full animate-float","style":{"animationDelay":"2s"}}]]}]]}]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]}]]}],{"children":["documents",["$","$1","c",{"children":[null,["$","$La",null,{"Component":"$b","slots":{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@c"}]]}],{"children":[["slug","zh/dark/personal-website/living-card","c"],["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Ld",["$","$Le",null,{"children":"$Lf"}],[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/5eacd01f773eed7f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L10",null,{"children":["$L11","$L12",["$","$L13",null,{"promise":"$@14"}]]}]]}],{},null,false]},null,false]},[["$","$L15","l",{}],[],[]],false]},[["$","$L16","l",{}],[],[]],false],["$","$1","h",{"children":[null,["$","$1","eQVSAdL0qZF-U9jlzytAm",{"children":[["$","$L17",null,{"children":"$L18"}],null]}],null]}],false]],"m":"$undefined","G":["$19","$undefined"],"s":false,"S":true}
1a:"$Sreact.suspense"
1b:I[74911,[],"AsyncMetadata"]
c:{}
f:["$","$1a",null,{"fallback":null,"children":["$","$L1b",null,{"promise":"$@1c"}]}]
1d:I[57340,["5584","static/chunks/b498d07c-095637f0f10883c6.js","2415","static/chunks/2415-689c103fb3d2c28d.js","6874","static/chunks/6874-fbe9a08eb79b991c.js","9554","static/chunks/9554-b714f9de28e85d30.js","1873","static/chunks/app/documents/%5B...slug%5D/page-9ee3d086bd3810e0.js"],"DocumentPageClient"]
1e:T457d2,<h1 id="3d案例卡片：从平面到立体的交互革命" class="group relative text-4xl font-bold mt-8 mb-4 text-foreground leading-tight">
            <a href="#3d案例卡片：从平面到立体的交互革命" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 3D案例卡片：从平面到立体的交互革命">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            3D案例卡片：从平面到立体的交互革命
        </h1>
<p class="text-base leading-7 mb-4 text-foreground">总得给用烂了的卡片内容展示加点画蛇添足的东西<del class="line-through opacity-60">（不是）</del>（不，就是！欧耶！）</p>
<p class="text-base leading-7 mb-4 text-foreground">这个3D卡片系统集成了复杂的空间布局算法、物理模拟的鼠标跟踪、精细的状态管理，以及让人觉得眼前一亮的动画效果。在这篇文章中，我将从最基础的类型定义开始，逐步深入每一个实现细节，全面剖析这个3D卡片的立体交互系统。</p>
<h2 id="组件结构与类型定义" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#组件结构与类型定义" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 组件结构与类型定义">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            组件结构与类型定义
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">任何复杂的交互系统都需要从严谨的类型定义开始，我们的3D卡片也不例外。让我们先看看这些看似简单的接口背后隐藏着些什么。</p>
<h3 id="数据模型设计" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#数据模型设计" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 数据模型设计">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            数据模型设计
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="interface%20WorkItem%20%7B%0Aid%3A%20string%3B%0Atitle%3A%20string%3B%0Adescription%3A%20string%3B%0Atags%3A%20string%5B%5D%3B%0Aimage%3F%3A%20string%3B%0AaccessUrl%3F%3A%20string%3B%0AgithubUrl%3F%3A%20string%3B%0Aaccessible%3F%3A%20boolean%3B%0Atool%3F%3A%20boolean%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">WorkItem</span> {
    <span class="hljs-attr inline">id</span>: <span class="hljs-built_in inline">string</span>;
    <span class="hljs-attr inline">title</span>: <span class="hljs-built_in inline">string</span>;
    <span class="hljs-attr inline">description</span>: <span class="hljs-built_in inline">string</span>;
    <span class="hljs-attr inline">tags</span>: <span class="hljs-built_in inline">string</span>[];
    <span class="hljs-attr inline">image</span>?: <span class="hljs-built_in inline">string</span>;
    <span class="hljs-attr inline">accessUrl</span>?: <span class="hljs-built_in inline">string</span>;
    <span class="hljs-attr inline">githubUrl</span>?: <span class="hljs-built_in inline">string</span>;
    <span class="hljs-attr inline">accessible</span>?: <span class="hljs-built_in inline">boolean</span>;
    <span class="hljs-attr inline">tool</span>?: <span class="hljs-built_in inline">boolean</span>;
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">字段解释：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">id</strong>: 唯一标识符，在React的列表渲染中作为key使用，避免不必要的重渲染。（React的警告蠢蠢欲动）</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">title &amp; description</strong>: 基础的展示信息，分别对应卡片正面的标题和描述。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">tags</strong>: 技术标签数组，这里有个小心机——我们在正面只显示前3个标签，剩余的在翻转后的背面显示。这样既避免了正面信息过载，又增加了翻转的价值。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">可选字段们</strong>: <code>image?</code>、<code>accessUrl?</code>、<code>githubUrl?</code>等可选字段让数据结构更加灵活，不是每个项目都有完整的展示信息。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">accessible &amp; tool</strong>: 这两个布尔标志用于在卡片上显示特殊标记，<code>accessible</code>表示项目支持无障碍访问，<code>tool</code>表示这是一个工具类项目。</p></li>
</ul>
<h3 id="组件props的传递" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#组件props的传递" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 组件Props的传递">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            组件Props的传递
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="interface%20WorkCard3DProps%20%7B%0Awork%3A%20WorkItem%3B%0Amode%3A%20'tiled'%20%7C%20'folded'%3B%0AisActive%3A%20boolean%3B%0Aindex%3A%20number%3B%0Atotal%3A%20number%3B%0AactiveIndex%3F%3A%20number%3B%0AonInteractionAction%3A%20(type%3A%20'hover'%20%7C%20'click'%20%7C%20'flip'%20%7C%20'detail')%20%3D%3E%20void%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">WorkCard3DProps</span> {
    <span class="hljs-attr inline">work</span>: <span class="hljs-title class_ inline">WorkItem</span>;
    <span class="hljs-attr inline">mode</span>: <span class="hljs-string inline">&#x27;tiled&#x27;</span> | <span class="hljs-string inline">&#x27;folded&#x27;</span>;
    <span class="hljs-attr inline">isActive</span>: <span class="hljs-built_in inline">boolean</span>;
    <span class="hljs-attr inline">index</span>: <span class="hljs-built_in inline">number</span>;
    <span class="hljs-attr inline">total</span>: <span class="hljs-built_in inline">number</span>;
    <span class="hljs-attr inline">activeIndex</span>?: <span class="hljs-built_in inline">number</span>;
    <span class="hljs-attr inline">onInteractionAction</span>: <span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">type</span>: <span class="hljs-string inline">&#x27;hover&#x27;</span> | <span class="hljs-string inline">&#x27;click&#x27;</span> | <span class="hljs-string inline">&#x27;flip&#x27;</span> | <span class="hljs-string inline">&#x27;detail&#x27;</span></span>) =&gt;</span> <span class="hljs-built_in inline">void</span>;
}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个Props接口是整个组件设计的核心，每个参数都承载着特定的职责：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">mode</strong>: 这是最关键的参数，决定了卡片是以网格形式平铺（<code>tiled</code>）还是以叠加形式折叠（<code>folded</code>）。一个参数的变化决定了两种完全不同的布局逻辑。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">index &amp; total</strong>: 位置信息，用于计算卡片在空间中的具体坐标。在平铺模式下用于网格布局，在折叠模式下用于层叠排序。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">activeIndex</strong>: 只在折叠模式下有意义，表示当前激活的卡片索引。这个设计让多个卡片可以共享同一个激活状态。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">onInteractionAction</strong>: 事件回调的类型化设计。不同的交互类型（hover、click、flip、detail）对应不同的业务逻辑，类型安全确保了事件处理的正确性。</p></li>
</ul>
<h2 id="状态管理的立体世界" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#状态管理的立体世界" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 状态管理的立体世界">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            状态管理的立体世界
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">3D交互系统的状态管理比2D复杂得多，因为我们需要同时处理空间位置、时间序列和用户交互的多维状态。</p>
<h3 id="状态变量设置" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#状态变量设置" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 状态变量设置">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            状态变量设置
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20%5Bhovered%2C%20setHovered%5D%20%3D%20useState(false)%3B%0Aconst%20%5Bflipped%2C%20setFlipped%5D%20%3D%20useState(false)%3B%0Aconst%20%5Btransform%2C%20setTransform%5D%20%3D%20useState('rotateX(0deg)%20rotateY(0deg)')%3B%0Aconst%20%5BautoReturnTimer%2C%20setAutoReturnTimer%5D%20%3D%20useStateNodeJS.Timeout%20%7C%20null%3E(null)%3B%0Aconst%20%5BhasInitialized%2C%20setHasInitialized%5D%20%3D%20useState(false)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> [hovered, setHovered] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);
<span class="hljs-keyword inline">const</span> [flipped, setFlipped] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);
<span class="hljs-keyword inline">const</span> [transform, setTransform] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-string inline">&#x27;rotateX(0deg) rotateY(0deg)&#x27;</span>);
<span class="hljs-keyword inline">const</span> [autoReturnTimer, setAutoReturnTimer] = useState&lt;<span class="hljs-title class_ inline">NodeJS</span>.<span class="hljs-property inline">Timeout</span> | <span class="hljs-literal inline">null</span>&gt;(<span class="hljs-literal inline">null</span>);
<span class="hljs-keyword inline">const</span> [hasInitialized, setHasInitialized] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">状态和生命周期解释：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">hovered</strong>: 悬停状态的代理者。它不仅控制着视觉效果的变化，还影响着鼠标跟踪倾斜功能的启用。在折叠模式下，它还会触发卡片的扇形展开效果。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">flipped</strong>: 翻转状态的开关。<code>false</code>时显示正面，<code>true</code>时显示背面。看似简单，但它涉及到CSS 3D变换的复杂协调。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">transform</strong>: 动态变换字符串。存储着实时的3D变换参数，主要用于鼠标跟踪倾斜效果。为什么不直接计算？因为我们需要在不同的交互状态间平滑过渡。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">autoReturnTimer</strong>: 自动复位定时器。当用户停止交互1.5秒后，卡片会自动回到初始状态，避免卡片样式显示异常，例如交互完后卡片显示出一种&quot;被玩坏了&quot;的异常倾斜状态。</p></li>
<li class="text-foreground leading-relaxed"><p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">hasInitialized</strong>: 初始化标记。用于控制入场动画的触发时机，确保卡片以优雅的方式出现，而不是突然&quot;蹦&quot;出来。</p></li>
</ul>
<h3 id="状态机的转换逻辑" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#状态机的转换逻辑" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 状态机的转换逻辑">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            状态机的转换逻辑
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">这些状态之间构成了一个复杂的状态机：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81%20%E2%86%92%20%E5%B7%B2%E5%88%9D%E5%A7%8B%E5%8C%96%20%E2%86%92%20%E6%82%AC%E5%81%9C%E7%8A%B6%E6%80%81%20%E2%86%94%20%E5%80%BE%E6%96%9C%E7%8A%B6%E6%80%81%0A%E2%86%93%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%86%93%0A%E5%85%A5%E5%9C%BA%E5%8A%A8%E7%94%BB%20%E2%86%92%20%E5%91%BC%E5%90%B8%E5%8A%A8%E7%94%BB%20%E2%86%92%20%E6%82%AC%E5%81%9C%E5%8A%A8%E7%94%BB%20%E2%86%92%20%E7%BF%BB%E8%BD%AC%E7%8A%B6%E6%80%81">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code>初始状态 → 已初始化 → 悬停状态 ↔ 倾斜状态
   ↓                            ↓
入场动画 → 呼吸动画 → 悬停动画 → 翻转状态
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">关键的状态转换：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">初始化触发</strong>: 基于<code>index * 150ms</code>的延迟，实现错落有致的入场效果</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">悬停触发</strong>: 鼠标进入时启用倾斜跟踪，离开时启动自动复位定时器</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">翻转触发</strong>: 点击事件触发，与其他状态相互独立</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">定时器管理</strong>: 多个交互事件会清除和重置定时器，确保行为的一致性</li>
</ul>
<h2 id="折叠与平铺：两种空间的数学诗篇" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#折叠与平铺：两种空间的数学诗篇" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 折叠与平铺：两种空间的数学诗篇">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            折叠与平铺：两种空间的数学诗篇
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">这是整个系统中最关键的部分——如何用数学公式描述卡片在3D空间中的位置和状态。</p>
<h3 id="位置计算的核心算法" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#位置计算的核心算法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 位置计算的核心算法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            位置计算的核心算法
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20getCardPosition%20%3D%20()%3A%20%7B%20x%3A%20number%2C%20y%3A%20number%2C%20z%3A%20number%2C%20opacity%3A%20number%2C%20scale%3A%20number%20%7D%20%3D%3E%20%7B%0Aif%20(mode%20%3D%3D%3D%20'folded')%20%7B%0Aconst%20isActiveCard%20%3D%20index%20%3D%3D%3D%20activeIndex%3B%0Aconst%20relativeIndex%20%3D%20index%20-%20activeIndex%3B%0Aif%20(isActiveCard)%20%7B%0Areturn%20%7Bx%3A%200%2C%20y%3A%200%2C%20z%3A%200%2C%20opacity%3A%201%2C%20scale%3A%201%7D%3B%0A%7D%20else%20if%20(Math.abs(relativeIndex)%202)%20%7B%0Aconst%20horizontalOffset%20%3D%20relativeIndex%20*%202%3B%0Aconst%20verticalOffset%20%3D%20-Math.abs(relativeIndex)%20*%208%3B%0Aconst%20depth%20%3D%20-Math.abs(relativeIndex)%20*%2015%3B%0Aconst%20scale%20%3D%201%20-%20Math.abs(relativeIndex)%20*%200.03%3B%0Areturn%20%7B%0Ax%3A%20horizontalOffset%2C%0Ay%3A%20verticalOffset%2C%0Az%3A%20depth%2C%0Aopacity%3A%201%20-%20Math.abs(relativeIndex)%20*%200.15%2C%0Ascale%0A%7D%3B%0A%7D%20else%20%7B%0Aconst%20side%20%3D%20relativeIndex%20%3E%200%20%3F%201%20%3A%20-1%3B%0Areturn%20%7B%0Ax%3A%20side%20*%20200%2C%0Ay%3A%200%2C%0Az%3A%20-100%2C%0Aopacity%3A%200%2C%0Ascale%3A%200.8%0A%7D%3B%0A%7D%0A%7D%20else%20%7B%0A%2F%2F%20%E5%B9%B3%E9%93%BA%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BD%91%E6%A0%BC%E8%AE%A1%E7%AE%97%0Aconst%20cols%20%3D%20Math.ceil(Math.sqrt(total))%3B%0Aconst%20row%20%3D%20Math.floor(index%20%2F%20cols)%3B%0Aconst%20col%20%3D%20index%20%25%20cols%3B%0Aconst%20widthSpacing%20%3D%20320%3B%0Aconst%20heightSpacing%20%3D%20440%3B%0Areturn%20%7B%0Ax%3A%20(col%20-%20(cols%20-%201)%20%2F%202)%20*%20widthSpacing%2C%0Ay%3A%20(row%20-%20Math.floor((total%20-%201)%20%2F%20cols)%20%2F%202)%20*%20heightSpacing%2C%0Az%3A%200%2C%0Aopacity%3A%201%2C%0Ascale%3A%201%0A%7D%3B%0A%7D%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> getCardPosition = (): { <span class="hljs-attr inline">x</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">y</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">z</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">opacity</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">scale</span>: <span class="hljs-built_in inline">number</span> } =&gt; {
    <span class="hljs-keyword inline">if</span> (mode === <span class="hljs-string inline">&#x27;folded&#x27;</span>) {
        <span class="hljs-keyword inline">const</span> isActiveCard = index === activeIndex;
        <span class="hljs-keyword inline">const</span> relativeIndex = index - activeIndex;

        <span class="hljs-keyword inline">if</span> (isActiveCard) {
            <span class="hljs-keyword inline">return</span> {<span class="hljs-attr inline">x</span>: <span class="hljs-number inline">0</span>, <span class="hljs-attr inline">y</span>: <span class="hljs-number inline">0</span>, <span class="hljs-attr inline">z</span>: <span class="hljs-number inline">0</span>, <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">1</span>, <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">1</span>};
        } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) &lt;= <span class="hljs-number inline">2</span>) {
            <span class="hljs-keyword inline">const</span> horizontalOffset = relativeIndex * <span class="hljs-number inline">2</span>;
            <span class="hljs-keyword inline">const</span> verticalOffset = -<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">8</span>;
            <span class="hljs-keyword inline">const</span> depth = -<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">15</span>;
            <span class="hljs-keyword inline">const</span> scale = <span class="hljs-number inline">1</span> - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">0.03</span>;
            <span class="hljs-keyword inline">return</span> {
                <span class="hljs-attr inline">x</span>: horizontalOffset,
                <span class="hljs-attr inline">y</span>: verticalOffset,
                <span class="hljs-attr inline">z</span>: depth,
                <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">1</span> - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">0.15</span>,
                scale
            };
        } <span class="hljs-keyword inline">else</span> {
            <span class="hljs-keyword inline">const</span> side = relativeIndex &gt; <span class="hljs-number inline">0</span> ? <span class="hljs-number inline">1</span> : -<span class="hljs-number inline">1</span>;
            <span class="hljs-keyword inline">return</span> {
                <span class="hljs-attr inline">x</span>: side * <span class="hljs-number inline">200</span>,
                <span class="hljs-attr inline">y</span>: <span class="hljs-number inline">0</span>,
                <span class="hljs-attr inline">z</span>: -<span class="hljs-number inline">100</span>,
                <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">0</span>,
                <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">0.8</span>
            };
        }
    } <span class="hljs-keyword inline">else</span> {
        <span class="hljs-comment inline">// 平铺模式的网格计算</span>
        <span class="hljs-keyword inline">const</span> cols = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">ceil</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sqrt</span>(total));
        <span class="hljs-keyword inline">const</span> row = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(index / cols);
        <span class="hljs-keyword inline">const</span> col = index % cols;
        <span class="hljs-keyword inline">const</span> widthSpacing = <span class="hljs-number inline">320</span>;
        <span class="hljs-keyword inline">const</span> heightSpacing = <span class="hljs-number inline">440</span>;
        <span class="hljs-keyword inline">return</span> {
            <span class="hljs-attr inline">x</span>: (col - (cols - <span class="hljs-number inline">1</span>) / <span class="hljs-number inline">2</span>) * widthSpacing,
            <span class="hljs-attr inline">y</span>: (row - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>((total - <span class="hljs-number inline">1</span>) / cols) / <span class="hljs-number inline">2</span>) * heightSpacing,
            <span class="hljs-attr inline">z</span>: <span class="hljs-number inline">0</span>,
            <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">1</span>,
            <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">1</span>
        };
    }
};
</code></pre>
            </div>
        
<h3 id="折叠模式的层叠美学" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#折叠模式的层叠美学" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 折叠模式的层叠美学">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            折叠模式的层叠美学
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">在折叠模式下，卡片的位置基于<code>relativeIndex = index - activeIndex</code>计算，这个相对索引是整个算法的核心：</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">激活卡片</strong> (<code>relativeIndex === 0</code>):</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">位置：<code>(0, 0, 0)</code> - 正中心，最前方</li>
<li class="text-foreground leading-relaxed">状态：完全可见，原始大小</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">相邻卡片</strong> (<code>Math.abs(relativeIndex) &lt;= 2</code>):</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">水平偏移</strong>: <code>relativeIndex * 2</code> - 正负2像素的轻微错位，营造层叠感</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">垂直偏移</strong>: <code>-Math.abs(relativeIndex) * 8</code> - 向上偏移，模拟卡片厚度</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">深度</strong>: <code>-Math.abs(relativeIndex) * 15</code> - 向后推移，增强立体感</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">缩放</strong>: <code>1 - Math.abs(relativeIndex) * 0.03</code> - 轻微缩小，远小近大</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">透明度</strong>: <code>1 - Math.abs(relativeIndex) * 0.15</code> - 渐变透明，层次分明</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">（调这些数值老费劲了）</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">远距离卡片</strong> (<code>Math.abs(relativeIndex) &gt; 2</code>):</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">完全隐藏在侧边，透明度为0</li>
<li class="text-foreground leading-relaxed">这个优化避免了渲染过多不可见的卡片</li>
</ul>
<h3 id="平铺模式的网格几何" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#平铺模式的网格几何" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 平铺模式的网格几何">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            平铺模式的网格几何
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">平铺模式使用了经典的网格布局算法：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20cols%20%3D%20Math.ceil(Math.sqrt(total))%3B%20%20%2F%2F%20%E8%AE%A1%E7%AE%97%E5%88%97%E6%95%B0%0Aconst%20row%20%3D%20Math.floor(index%20%2F%20cols)%3B%20%20%20%20%20%20%2F%2F%20%E8%AE%A1%E7%AE%97%E8%A1%8C%E5%8F%B7%0Aconst%20col%20%3D%20index%20%25%20cols%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%AE%A1%E7%AE%97%E5%88%97%E5%8F%B7">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> cols = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">ceil</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sqrt</span>(total));  <span class="hljs-comment inline">// 计算列数</span>
<span class="hljs-keyword inline">const</span> row = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(index / cols);      <span class="hljs-comment inline">// 计算行号</span>
<span class="hljs-keyword inline">const</span> col = index % cols;                  <span class="hljs-comment inline">// 计算列号</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">为什么用平方根</strong>？这个算法会创建一个接近正方形的网格，比如9个卡片会排成3×3，10个卡片会排成4×3，视觉上最为平衡。</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">居中对齐的数学</strong>：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="x%3A%20(col%20-%20(cols%20-%201)%20%2F%202)%20*%20widthSpacing%0Ay%3A%20(row%20-%20Math.floor((total%20-%201)%20%2F%20cols)%20%2F%202)%20*%20heightSpacing">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-attr inline">x</span>: (col - (cols - <span class="hljs-number inline">1</span>) / <span class="hljs-number inline">2</span>) * widthSpacing
<span class="hljs-attr inline">y</span>: (row - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>((total - <span class="hljs-number inline">1</span>) / cols) / <span class="hljs-number inline">2</span>) * heightSpacing
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个公式让整个网格以屏幕中心为基准点，无论有多少卡片都能保持居中对齐。</p>
<h2 id="鼠标跟踪倾斜：从冰冷的公式到富含活力的反馈" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#鼠标跟踪倾斜：从冰冷的公式到富含活力的反馈" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 鼠标跟踪倾斜：从冰冷的公式到富含活力的反馈">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            鼠标跟踪倾斜：从冰冷的公式到富含活力的反馈
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">卡片：看我看我！（敲可爱！）</p>
<h3 id="坐标转换的数学基础" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#坐标转换的数学基础" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 坐标转换的数学基础">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            坐标转换的数学基础
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20handleMouseMove%20%3D%20(e%3A%20React.MouseEventHTMLDivElement%3E)%20%3D%3E%20%7B%0Aif%20(!cardRef.current%20%7C%7C%20!hovered%20%7C%7C%20mode%20%3D%3D%3D%20'folded')%20return%3B%0Aconst%20rect%20%3D%20cardRef.current.getBoundingClientRect()%3B%0Aconst%20centerX%20%3D%20rect.left%20%2B%20rect.width%20%2F%202%3B%0Aconst%20centerY%20%3D%20rect.top%20%2B%20rect.height%20%2F%202%3B%0A%2F%2F%20%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%AF%B9%E4%BA%8E%E4%B8%AD%E5%BF%83%E7%9A%84%E5%81%8F%E7%A7%BB%E9%87%8F%EF%BC%88-0.5%20%E5%88%B0%200.5%EF%BC%89%0Aconst%20offsetX%20%3D%20(e.clientX%20-%20centerX)%20%2F%20rect.width%3B%0Aconst%20offsetY%20%3D%20(e.clientY%20-%20centerY)%20%2F%20rect.height%3B%0A%2F%2F%20%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%97%8B%E8%BD%AC%E8%A7%92%E5%BA%A6%EF%BC%88-15%C2%B0%20%E5%88%B0%20%2B15%C2%B0%EF%BC%89%0Aconst%20rotateX%20%3D%20-offsetY%20*%2015%3B%0Aconst%20rotateY%20%3D%20offsetX%20*%2015%3B%0AsetTransform(%60rotateX(%24%7BrotateX%7Ddeg)%20rotateY(%24%7BrotateY%7Ddeg)%60)%3B%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleMouseMove</span> = (<span class="hljs-params inline"><span class="hljs-attr inline">e</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-title class_ inline">MouseEvent</span>&lt;<span class="hljs-title class_ inline">HTMLDivElement</span>&gt;</span>) =&gt; {
    <span class="hljs-keyword inline">if</span> (!cardRef.<span class="hljs-property inline">current</span> || !hovered || mode === <span class="hljs-string inline">&#x27;folded&#x27;</span>) <span class="hljs-keyword inline">return</span>;

    <span class="hljs-keyword inline">const</span> rect = cardRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">getBoundingClientRect</span>();
    <span class="hljs-keyword inline">const</span> centerX = rect.<span class="hljs-property inline">left</span> + rect.<span class="hljs-property inline">width</span> / <span class="hljs-number inline">2</span>;
    <span class="hljs-keyword inline">const</span> centerY = rect.<span class="hljs-property inline">top</span> + rect.<span class="hljs-property inline">height</span> / <span class="hljs-number inline">2</span>;

    <span class="hljs-comment inline">// 计算相对于中心的偏移量（-0.5 到 0.5）</span>
    <span class="hljs-keyword inline">const</span> offsetX = (e.<span class="hljs-property inline">clientX</span> - centerX) / rect.<span class="hljs-property inline">width</span>;
    <span class="hljs-keyword inline">const</span> offsetY = (e.<span class="hljs-property inline">clientY</span> - centerY) / rect.<span class="hljs-property inline">height</span>;

    <span class="hljs-comment inline">// 转换为旋转角度（-15° 到 +15°）</span>
    <span class="hljs-keyword inline">const</span> rotateX = -offsetY * <span class="hljs-number inline">15</span>;
    <span class="hljs-keyword inline">const</span> rotateY = offsetX * <span class="hljs-number inline">15</span>;

    <span class="hljs-title function_ inline">setTransform</span>(<span class="hljs-string inline">`rotateX(<span class="hljs-subst inline">${rotateX}</span>deg) rotateY(<span class="hljs-subst inline">${rotateY}</span>deg)`</span>);
};
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">坐标转换过程详细解释：</p>
<h3 id="第一步：获取精确位置" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#第一步：获取精确位置" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 第一步：获取精确位置">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            第一步：获取精确位置
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20rect%20%3D%20cardRef.current.getBoundingClientRect()%3B%0Aconst%20centerX%20%3D%20rect.left%20%2B%20rect.width%20%2F%202%3B%0Aconst%20centerY%20%3D%20rect.top%20%2B%20rect.height%20%2F%202%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> rect = cardRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">getBoundingClientRect</span>();
<span class="hljs-keyword inline">const</span> centerX = rect.<span class="hljs-property inline">left</span> + rect.<span class="hljs-property inline">width</span> / <span class="hljs-number inline">2</span>;
<span class="hljs-keyword inline">const</span> centerY = rect.<span class="hljs-property inline">top</span> + rect.<span class="hljs-property inline">height</span> / <span class="hljs-number inline">2</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><code>getBoundingClientRect()</code>返回元素相对于视口的精确位置和尺寸。我们计算出卡片的几何中心点，这是所有旋转的基准。</p>
<h3 id="第二步：归一化处理" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#第二步：归一化处理" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 第二步：归一化处理">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            第二步：归一化处理
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20offsetX%20%3D%20(e.clientX%20-%20centerX)%20%2F%20rect.width%3B%0Aconst%20offsetY%20%3D%20(e.clientY%20-%20centerY)%20%2F%20rect.height%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> offsetX = (e.<span class="hljs-property inline">clientX</span> - centerX) / rect.<span class="hljs-property inline">width</span>;
<span class="hljs-keyword inline">const</span> offsetY = (e.<span class="hljs-property inline">clientY</span> - centerY) / rect.<span class="hljs-property inline">height</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个归一化过程有多个条件生效场景：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">鼠标在卡片中心时：<code>offsetX = 0, offsetY = 0</code></li>
<li class="text-foreground leading-relaxed">鼠标在卡片右边缘时：<code>offsetX = 0.5</code></li>
<li class="text-foreground leading-relaxed">鼠标在卡片左边缘时：<code>offsetX = -0.5</code></li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">除以宽度和高度确保了旋转效果与卡片尺寸无关，大卡片和小卡片的倾斜幅度保持一致。</p>
<h3 id="第三步：角度映射" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#第三步：角度映射" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 第三步：角度映射">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            第三步：角度映射
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20rotateX%20%3D%20-offsetY%20*%2015%3B%20%20%2F%2F%20Y%E8%BD%B4%E5%8F%96%E5%8F%8D%0Aconst%20rotateY%20%3D%20offsetX%20*%2015%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> rotateX = -offsetY * <span class="hljs-number inline">15</span>;  <span class="hljs-comment inline">// Y轴取反</span>
<span class="hljs-keyword inline">const</span> rotateY = offsetX * <span class="hljs-number inline">15</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">为什么Y轴要取反</strong>？</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">鼠标在上方时，我们希望卡片向上倾斜（正rotateX）</li>
<li class="text-foreground leading-relaxed">但<code>offsetY</code>在上方时是负值</li>
<li class="text-foreground leading-relaxed">所以需要取反：<code>-offsetY</code></li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">从个人视感（叠甲）上来说15度是一个恰到好处的倾斜值。<del class="line-through opacity-60">（实际上我就是喜欢这个值，你们说了我也不会改的！）</del></p>
<h3 id="交互禁用的智能判断" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#交互禁用的智能判断" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 交互禁用的智能判断">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            交互禁用的智能判断
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="if%20(!cardRef.current%20%7C%7C%20!hovered%20%7C%7C%20mode%20%3D%3D%3D%20'folded')%20return%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">if</span> (!cardRef.<span class="hljs-property inline">current</span> || !hovered || mode === <span class="hljs-string inline">&#x27;folded&#x27;</span>) <span class="hljs-keyword inline">return</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个条件判断包含了三个重要的边界情况：</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">!cardRef.current</strong>: 组件未完全挂载</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">!hovered</strong>: 鼠标未悬停，避免非预期的倾斜</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">mode === ‘folded’</strong>: 折叠模式下禁用倾斜，避免与层叠效果冲突</li>
</ol>
<h2 id="悬停与呼吸" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#悬停与呼吸" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 悬停与呼吸">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            悬停与呼吸
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">没错，这就是我说的画蛇添足的东西（雾）</p>
<h3 id="动态计算动画属性" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#动态计算动画属性" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 动态计算动画属性">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            动态计算动画属性
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20getAnimationProps%20%3D%20()%20%3D%3E%20%7B%0Aif%20(hovered)%20%7B%0Areturn%20%7B%0Ascale%3A%201.02%2C%0AboxShadow%3A%20'0%2020px%2040px%20rgba(0%2C%20255%2C%20255%2C%200.3)'%0A%7D%3B%0A%7D%20else%20if%20(!flipped)%20%7B%0A%2F%2F%20%E5%91%BC%E5%90%B8%E6%95%88%E6%9E%9C%0Areturn%20%7B%0Ascale%3A%20%5B1%2C%201.01%2C%201%5D%2C%0AboxShadow%3A%20%5B%0A'0%2010px%2020px%20rgba(0%2C%200%2C%200%2C%200.1)'%2C%0A'0%2012px%2024px%20rgba(0%2C%20255%2C%20255%2C%200.08)'%2C%0A'0%2010px%2020px%20rgba(0%2C%200%2C%200%2C%200.1)'%0A%5D%0A%7D%3B%0A%7D%20else%20%7B%0Areturn%20%7B%0Ascale%3A%201%2C%0AboxShadow%3A%20'0%2010px%2020px%20rgba(0%2C%200%2C%200%2C%200.1)'%0A%7D%3B%0A%7D%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getAnimationProps</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-keyword inline">if</span> (hovered) {
        <span class="hljs-keyword inline">return</span> {
            <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">1.02</span>,
            <span class="hljs-attr inline">boxShadow</span>: <span class="hljs-string inline">&#x27;0 20px 40px rgba(0, 255, 255, 0.3)&#x27;</span>
        };
    } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (!flipped) {
        <span class="hljs-comment inline">// 呼吸效果</span>
        <span class="hljs-keyword inline">return</span> {
            <span class="hljs-attr inline">scale</span>: [<span class="hljs-number inline">1</span>, <span class="hljs-number inline">1.01</span>, <span class="hljs-number inline">1</span>],
            <span class="hljs-attr inline">boxShadow</span>: [
                <span class="hljs-string inline">&#x27;0 10px 20px rgba(0, 0, 0, 0.1)&#x27;</span>,
                <span class="hljs-string inline">&#x27;0 12px 24px rgba(0, 255, 255, 0.08)&#x27;</span>,
                <span class="hljs-string inline">&#x27;0 10px 20px rgba(0, 0, 0, 0.1)&#x27;</span>
            ]
        };
    } <span class="hljs-keyword inline">else</span> {
        <span class="hljs-keyword inline">return</span> {
            <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">1</span>,
            <span class="hljs-attr inline">boxShadow</span>: <span class="hljs-string inline">&#x27;0 10px 20px rgba(0, 0, 0, 0.1)&#x27;</span>
        };
    }
};
</code></pre>
            </div>
        
<h3 id="动画参数解释" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#动画参数解释" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 动画参数解释">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            动画参数解释
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">悬停状态</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">scale: 1.02</strong>: 轻微的放大效果，2%的缩放既明显又不会过度</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">boxShadow</strong>: 青色阴影增强科技感，40px的模糊半径营造悬浮感</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">呼吸效果</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">scale数组</strong>: <code>[1, 1.01, 1]</code>实现往复缩放</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">阴影变化</strong>: 从暗到亮再到暗，配合缩放增强节奏感</li>
</ul>
<h3 id="过渡函数" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#过渡函数" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 过渡函数">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            过渡函数
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20getAnimationTransition%20%3D%20()%20%3D%3E%20%7B%0Aif%20(hovered)%20%7B%0Areturn%20%7B%0Atype%3A%20%22spring%22%20as%20const%2C%0Adamping%3A%2020%2C%0Astiffness%3A%20300%0A%7D%3B%0A%7D%20else%20if%20(!flipped)%20%7B%0Areturn%20%7B%0Aduration%3A%204%2C%0Arepeat%3A%20Infinity%2C%0Aease%3A%20%22easeInOut%22%20as%20const%0A%7D%3B%0A%7D%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getAnimationTransition</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-keyword inline">if</span> (hovered) {
        <span class="hljs-keyword inline">return</span> {
            <span class="hljs-attr inline">type</span>: <span class="hljs-string inline">&quot;spring&quot;</span> <span class="hljs-keyword inline">as</span> <span class="hljs-keyword inline">const</span>,
            <span class="hljs-attr inline">damping</span>: <span class="hljs-number inline">20</span>,
            <span class="hljs-attr inline">stiffness</span>: <span class="hljs-number inline">300</span>
        };
    } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (!flipped) {
        <span class="hljs-keyword inline">return</span> {
            <span class="hljs-attr inline">duration</span>: <span class="hljs-number inline">4</span>,
            <span class="hljs-attr inline">repeat</span>: <span class="hljs-title class_ inline">Infinity</span>,
            <span class="hljs-attr inline">ease</span>: <span class="hljs-string inline">&quot;easeInOut&quot;</span> <span class="hljs-keyword inline">as</span> <span class="hljs-keyword inline">const</span>
        };
    }
};
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">弹簧动画</strong>（悬停时）：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">damping: 20</strong>: 阻尼系数，控制震荡程度</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">stiffness: 300</strong>: 刚度系数，控制响应速度</li>
<li class="text-foreground leading-relaxed">这个组合产生了自然的弹性感，就像真实的物理弹簧</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">呼吸动画</strong>（默认状态）：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">duration: 4</strong>: 4秒一个周期，慢到几乎察觉不到</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">repeat: Infinity</strong>: 无限循环</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">easeInOut</strong>: 先加速后减速，模拟自然呼吸</li>
</ul>
<h2 id="计时器系统：时间的艺术管理" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#计时器系统：时间的艺术管理" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 计时器系统：时间的艺术管理">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            计时器系统：时间的艺术管理
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">实话说，用户交互的时间控制是最需要仔细调试的一部分，要确保交互的连贯性和合理性也许需要精调很久。</p>
<h3 id="自动复位的生命周期" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#自动复位的生命周期" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 自动复位的生命周期">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            自动复位的生命周期
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20handleMouseEnter%20%3D%20()%20%3D%3E%20%7B%0AsetHovered(true)%3B%0AonInteractionAction('hover')%3B%0A%2F%2F%20%E6%B8%85%E9%99%A4%E8%87%AA%E5%8A%A8%E5%A4%8D%E4%BD%8D%E5%AE%9A%E6%97%B6%E5%99%A8%0Aif%20(autoReturnTimer)%20%7B%0AclearTimeout(autoReturnTimer)%3B%0AsetAutoReturnTimer(null)%3B%0A%7D%0A%7D%3B%0Aconst%20handleMouseLeave%20%3D%20()%20%3D%3E%20%7B%0AsetHovered(false)%3B%0A%2F%2F%20%E5%90%AF%E5%8A%A8%E8%87%AA%E5%8A%A8%E5%A4%8D%E4%BD%8D%E5%AE%9A%E6%97%B6%E5%99%A8%0Aconst%20timer%20%3D%20setTimeout(()%20%3D%3E%20%7B%0AsetTransform('rotateX(0deg)%20rotateY(0deg)')%3B%0AsetFlipped(false)%3B%0A%7D%2C%201500)%3B%0AsetAutoReturnTimer(timer)%3B%0A%2F%2F%20%E7%AB%8B%E5%8D%B3%E9%87%8D%E7%BD%AE%E5%8F%98%E6%8D%A2%0AsetTransform('rotateX(0deg)%20rotateY(0deg)')%3B%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleMouseEnter</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-title function_ inline">setHovered</span>(<span class="hljs-literal inline">true</span>);
    <span class="hljs-title function_ inline">onInteractionAction</span>(<span class="hljs-string inline">&#x27;hover&#x27;</span>);

    <span class="hljs-comment inline">// 清除自动复位定时器</span>
    <span class="hljs-keyword inline">if</span> (autoReturnTimer) {
        <span class="hljs-built_in inline">clearTimeout</span>(autoReturnTimer);
        <span class="hljs-title function_ inline">setAutoReturnTimer</span>(<span class="hljs-literal inline">null</span>);
    }
};

<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleMouseLeave</span> = (<span class="hljs-params inline"></span>) =&gt; {
    <span class="hljs-title function_ inline">setHovered</span>(<span class="hljs-literal inline">false</span>);

    <span class="hljs-comment inline">// 启动自动复位定时器</span>
    <span class="hljs-keyword inline">const</span> timer = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-title function_ inline">setTransform</span>(<span class="hljs-string inline">&#x27;rotateX(0deg) rotateY(0deg)&#x27;</span>);
        <span class="hljs-title function_ inline">setFlipped</span>(<span class="hljs-literal inline">false</span>);
    }, <span class="hljs-number inline">1500</span>);

    <span class="hljs-title function_ inline">setAutoReturnTimer</span>(timer);

    <span class="hljs-comment inline">// 立即重置变换</span>
    <span class="hljs-title function_ inline">setTransform</span>(<span class="hljs-string inline">&#x27;rotateX(0deg) rotateY(0deg)&#x27;</span>);
};
</code></pre>
            </div>
        
<h3 id="定时器管理解释" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#定时器管理解释" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 定时器管理解释">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            定时器管理解释
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">鼠标进入时</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">立即清除现有定时器，防止意外的状态重置</li>
<li class="text-foreground leading-relaxed">设置悬停状态，启用交互效果</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">鼠标离开时</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">立即重置变换，确保视觉上的快速响应</li>
<li class="text-foreground leading-relaxed">启动1500ms定时器，准备深度重置</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">为什么需要两次重置</strong>？</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">立即重置</strong>: 快速移除倾斜效果，避免卡片出现异常的倾斜样式</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">延迟重置</strong>: 重置翻转状态，给用户足够时间查看背面内容</li>
</ul>
<h3 id="内存泄漏防护" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#内存泄漏防护" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 内存泄漏防护">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            内存泄漏防护
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E5%9C%A8%E7%BB%84%E4%BB%B6%E5%8D%B8%E8%BD%BD%E6%97%B6%E6%B8%85%E7%90%86%E5%AE%9A%E6%97%B6%E5%99%A8%0AuseEffect(()%20%3D%3E%20%7B%0Areturn%20()%20%3D%3E%20%7B%0Aif%20(autoReturnTimer)%20%7B%0AclearTimeout(autoReturnTimer)%3B%0A%7D%0A%7D%3B%0A%7D%2C%20%5BautoReturnTimer%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 在组件卸载时清理定时器</span>
<span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">if</span> (autoReturnTimer) {
            <span class="hljs-built_in inline">clearTimeout</span>(autoReturnTimer);
        }
    };
}, [autoReturnTimer]);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个cleanup函数确保组件卸载时不会留下&quot;孤儿&quot;定时器，避免内存泄漏和异常状态更新。</p>
<h2 id="翻转效果：3d变换的魔法" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#翻转效果：3d变换的魔法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 翻转效果：3D变换的魔法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            翻转效果：3D变换的魔法
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">卡片翻转涉及到了CSS 3D变换的核心原理。</p>
<h3 id="css-3d变换的核心设置" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#css-3d变换的核心设置" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to CSS 3D变换的核心设置">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            CSS 3D变换的核心设置
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20cardContainerStyle%3A%20React.CSSProperties%20%3D%20%7B%0AtransformStyle%3A%20'preserve-3d'%2C%0Atransform%3A%20flipped%20%3F%20'rotateY(180deg)'%20%3A%20transform%2C%0Atransition%3A%20flipped%20%3F%20'transform%200.6s%20ease'%20%3A%20'transform%200.4s%20ease-out'%2C%0A%7D%3B%0Aconst%20cardFaceStyle%3A%20React.CSSProperties%20%3D%20%7B%0AbackfaceVisibility%3A%20'hidden'%2C%0A%7D%3B%0Aconst%20cardBackStyle%3A%20React.CSSProperties%20%3D%20%7B%0A...cardFaceStyle%2C%0Atransform%3A%20'rotateY(180deg)'%2C%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-attr inline">cardContainerStyle</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-property inline">CSSProperties</span> = {
    <span class="hljs-attr inline">transformStyle</span>: <span class="hljs-string inline">&#x27;preserve-3d&#x27;</span>,
    <span class="hljs-attr inline">transform</span>: flipped ? <span class="hljs-string inline">&#x27;rotateY(180deg)&#x27;</span> : transform,
    <span class="hljs-attr inline">transition</span>: flipped ? <span class="hljs-string inline">&#x27;transform 0.6s ease&#x27;</span> : <span class="hljs-string inline">&#x27;transform 0.4s ease-out&#x27;</span>,
};

<span class="hljs-keyword inline">const</span> <span class="hljs-attr inline">cardFaceStyle</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-property inline">CSSProperties</span> = {
    <span class="hljs-attr inline">backfaceVisibility</span>: <span class="hljs-string inline">&#x27;hidden&#x27;</span>,
};

<span class="hljs-keyword inline">const</span> <span class="hljs-attr inline">cardBackStyle</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-property inline">CSSProperties</span> = {
    ...cardFaceStyle,
    <span class="hljs-attr inline">transform</span>: <span class="hljs-string inline">&#x27;rotateY(180deg)&#x27;</span>,
};
</code></pre>
            </div>
        
<h3 id="3d变换的关键属性解析" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#3d变换的关键属性解析" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 3D变换的关键属性解析">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            3D变换的关键属性解析
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">transformStyle: ‘preserve-3d’</strong>：<br class="block">
这是3D效果的基础，告诉浏览器保持子元素的3D变换关系。没有这个属性，所有的3D效果都会被&quot;压平&quot;成2D。</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">backfaceVisibility: ‘hidden’</strong>：<br class="block">
隐藏元素的背面，确保翻转时不会看到&quot;透视&quot;效果。想象一下，如果你可以同时看到卡片的正面和背面<del class="line-through opacity-60">，那证明你是一个四维生物</del>，那会让正面和反面的内容互相重叠，最终导致卡片内容的可读性大幅度降低。</p>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">背面的预旋转</strong>：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="transform%3A%20'rotateY(180deg)'">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-attr inline">transform</span>: <span class="hljs-string inline">&#x27;rotateY(180deg)&#x27;</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">背面内容预先旋转180度，这样当容器旋转180度时，背面内容会以正确的方向显示。</p>
<h3 id="翻转动画" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#翻转动画" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 翻转动画">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            翻转动画
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="transition%3A%20flipped%20%3F%20'transform%200.6s%20ease'%20%3A%20'transform%200.4s%20ease-out'">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-attr inline">transition</span>: flipped ? <span class="hljs-string inline">&#x27;transform 0.6s ease&#x27;</span> : <span class="hljs-string inline">&#x27;transform 0.4s ease-out&#x27;</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">一般来说，当用户从反面翻回正面时，他已经阅读过整个卡片的正反面内容了，所以动画可以稍快一些。</p>
<p class="text-base leading-7 mb-4 text-foreground">缓动函数解释：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">ease</strong>: 翻转时的标准缓动，自然流畅</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">ease-out</strong>: 倾斜时的快速响应，然后慢慢停止</li>
</ul>
<h2 id="入场动画：优雅登场的时间艺术" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#入场动画：优雅登场的时间艺术" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 入场动画：优雅登场的时间艺术">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            入场动画：优雅登场的时间艺术
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">入场动画是用户第一印象的关键，我得想个法子让卡片&quot;优雅地出现&quot;而不是&quot;突然蹦出来&quot;。</p>
<h3 id="初始化延迟" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#初始化延迟" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 初始化延迟">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            初始化延迟
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="useEffect(()%20%3D%3E%20%7B%0Aconst%20timer%20%3D%20setTimeout(()%20%3D%3E%20%7B%0AsetHasInitialized(true)%3B%0A%7D%2C%20index%20*%20150)%3B%0Areturn%20()%20%3D%3E%20clearTimeout(timer)%3B%0A%7D%2C%20%5Bindex%5D)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-keyword inline">const</span> timer = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-title function_ inline">setHasInitialized</span>(<span class="hljs-literal inline">true</span>);
    }, index * <span class="hljs-number inline">150</span>);

    <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> <span class="hljs-built_in inline">clearTimeout</span>(timer);
}, [index]);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个<code>index * 150ms</code>的延迟设计创造了&quot;波浪式&quot;的入场效果：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">第0张卡片：立即开始动画</li>
<li class="text-foreground leading-relaxed">第1张卡片：150ms后开始</li>
<li class="text-foreground leading-relaxed">第2张卡片：300ms后开始</li>
<li class="text-foreground leading-relaxed">依此类推…</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">结果就是卡片们像多米诺骨牌一样依次优雅登场。</p>
<h3 id="入场动画的关键帧设计" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#入场动画的关键帧设计" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 入场动画的关键帧设计">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            入场动画的关键帧设计
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="initial%3D%7B%7B%0Aopacity%3A%200%2C%0Ascale%3A%200.8%2C%0Ay%3A%2050%2C%0ArotateX%3A%20-15%0A%7D%7D%0Aanimate%3D%7BhasInitialized%20%3F%20%7B%0Aopacity%3A%201%2C%0Ay%3A%200%2C%0ArotateX%3A%200%2C%0A...getAnimationProps()%0A%7D%20%3A%20%7B%0Aopacity%3A%200%2C%0Ascale%3A%200.8%2C%0Ay%3A%2050%2C%0ArotateX%3A%20-15%0A%7D%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">initial={{ 
    <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">0</span>, 
    <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">0.8</span>,
    <span class="hljs-attr inline">y</span>: <span class="hljs-number inline">50</span>,
    <span class="hljs-attr inline">rotateX</span>: -<span class="hljs-number inline">15</span>
}}
animate={hasInitialized ? { 
    <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">1</span>,
    <span class="hljs-attr inline">y</span>: <span class="hljs-number inline">0</span>,
    <span class="hljs-attr inline">rotateX</span>: <span class="hljs-number inline">0</span>,
    ...<span class="hljs-title function_ inline">getAnimationProps</span>()
} : {
    <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">0</span>,
    <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">0.8</span>,
    <span class="hljs-attr inline">y</span>: <span class="hljs-number inline">50</span>,
    <span class="hljs-attr inline">rotateX</span>: -<span class="hljs-number inline">15</span>
}}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">初始状态的设计思路</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">opacity: 0</strong>: 完全透明，初始不可见</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">scale: 0.8</strong>: 80%大小，从小到大</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">y: 50</strong>: 向下偏移50px，从下方飞入</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">rotateX: -15</strong>: 向前倾斜15度，增加立体感</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">目标状态</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">所有属性回到正常值，同时开始呼吸动画</li>
</ul>
<h3 id="呼吸效果的循环实现" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#呼吸效果的循环实现" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 呼吸效果的循环实现">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            呼吸效果的循环实现
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E5%9C%A8getAnimationProps%E4%B8%AD%0Ascale%3A%20%5B1%2C%201.01%2C%201%5D%2C%0AboxShadow%3A%20%5B%0A'0%2010px%2020px%20rgba(0%2C%200%2C%200%2C%200.1)'%2C%0A'0%2012px%2024px%20rgba(0%2C%20255%2C%20255%2C%200.08)'%2C%0A'0%2010px%2020px%20rgba(0%2C%200%2C%200%2C%200.1)'%0A%5D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 在getAnimationProps中</span>
<span class="hljs-attr inline">scale</span>: [<span class="hljs-number inline">1</span>, <span class="hljs-number inline">1.01</span>, <span class="hljs-number inline">1</span>],
<span class="hljs-attr inline">boxShadow</span>: [
    <span class="hljs-string inline">&#x27;0 10px 20px rgba(0, 0, 0, 0.1)&#x27;</span>,
    <span class="hljs-string inline">&#x27;0 12px 24px rgba(0, 255, 255, 0.08)&#x27;</span>,
    <span class="hljs-string inline">&#x27;0 10px 20px rgba(0, 0, 0, 0.1)&#x27;</span>
]
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">数组动画</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">framer-motion会自动在数组元素间创建循环动画</li>
<li class="text-foreground leading-relaxed"><code>[1, 1.01, 1]</code>表示：正常→轻微放大→正常</li>
<li class="text-foreground leading-relaxed">阴影的变化配合缩放，增强节奏感</li>
</ul>
<h3 id="动画配置" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#动画配置" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 动画配置">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            动画配置
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="transition%3D%7BhasInitialized%20%3F%20%7B%0Aopacity%3A%20%7B%20duration%3A%200.6%2C%20ease%3A%20%22easeOut%22%20%7D%2C%0Ay%3A%20%7B%20duration%3A%200.8%2C%20ease%3A%20%22easeOut%22%20%7D%2C%0ArotateX%3A%20%7B%20duration%3A%200.8%2C%20ease%3A%20%22easeOut%22%20%7D%0A%7D%20%3A%20%7B%0Aduration%3A%200.6%2C%0Aease%3A%20%22easeOut%22%0A%7D%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">transition={hasInitialized ? {
    <span class="hljs-attr inline">opacity</span>: { <span class="hljs-attr inline">duration</span>: <span class="hljs-number inline">0.6</span>, <span class="hljs-attr inline">ease</span>: <span class="hljs-string inline">&quot;easeOut&quot;</span> },
    <span class="hljs-attr inline">y</span>: { <span class="hljs-attr inline">duration</span>: <span class="hljs-number inline">0.8</span>, <span class="hljs-attr inline">ease</span>: <span class="hljs-string inline">&quot;easeOut&quot;</span> },
    <span class="hljs-attr inline">rotateX</span>: { <span class="hljs-attr inline">duration</span>: <span class="hljs-number inline">0.8</span>, <span class="hljs-attr inline">ease</span>: <span class="hljs-string inline">&quot;easeOut&quot;</span> }
} : {
    <span class="hljs-attr inline">duration</span>: <span class="hljs-number inline">0.6</span>,
    <span class="hljs-attr inline">ease</span>: <span class="hljs-string inline">&quot;easeOut&quot;</span>
}}
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">分别控制各属性的动画时间</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">opacity</strong>: 0.6s，快速显现</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">y &amp; rotateX</strong>: 0.8s，稍慢的位置变化</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">easeOut</strong>: 快速开始，缓慢结束</li>
</ul>
<h2 id="样式设计：现代感的视觉语言" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#样式设计：现代感的视觉语言" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 样式设计：现代感的视觉语言">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            样式设计：现代感的视觉语言
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">最后，我们可以探讨一下这套3D卡片的视觉设计哲学。</p>
<h3 id="渐变与透明度的层次感" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#渐变与透明度的层次感" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 渐变与透明度的层次感">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            渐变与透明度的层次感
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="className%3D%22bg-gradient-to-br%20from-background%2F90%20to-surface%2F90%20backdrop-blur-sm%20border%20border-primary%2F20%20shadow-xl%22">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript">className=<span class="hljs-string inline">&quot;bg-gradient-to-br from-background/90 to-surface/90 backdrop-blur-sm border border-primary/20 shadow-xl&quot;</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">渐变设计</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>from-background/90 to-surface/90</code>: 从背景色到表面色的渐变，90%透明度</li>
<li class="text-foreground leading-relaxed"><code>bg-gradient-to-br</code>: 从左上到右下的对角渐变，增加立体感</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">模糊与边框</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><code>backdrop-blur-sm</code>: 背景模糊效果，现代感的毛玻璃质感</li>
<li class="text-foreground leading-relaxed"><code>border-primary/20</code>: 主题色的淡边框，20%透明度恰到好处</li>
</ul>
<h3 id="色彩系统的主题适配" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#色彩系统的主题适配" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 色彩系统的主题适配">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            色彩系统的主题适配
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E6%AD%A3%E9%9D%A2%EF%BC%9A%E4%B8%BB%E9%A2%98%E8%89%B2%E7%B3%BB%0AclassName%3D%22bg-gradient-to-br%20from-background%2F90%20to-surface%2F90%22%0A%2F%2F%20%E8%83%8C%E9%9D%A2%EF%BC%9A%E5%BC%BA%E8%B0%83%E8%89%B2%E7%B3%BB%0AclassName%3D%22bg-gradient-to-br%20from-secondary%2F90%20to-accent%2F90%22">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 正面：主题色系</span>
className=<span class="hljs-string inline">&quot;bg-gradient-to-br from-background/90 to-surface/90&quot;</span>

<span class="hljs-comment inline">// 背面：强调色系</span>
className=<span class="hljs-string inline">&quot;bg-gradient-to-br from-secondary/90 to-accent/90&quot;</span>
</code></pre>
            </div>
        
<h3 id="阴影与光照的物理模拟" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#阴影与光照的物理模拟" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 阴影与光照的物理模拟">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            阴影与光照的物理模拟
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="boxShadow%3A%20'0%2020px%2040px%20rgba(0%2C%20255%2C%20255%2C%200.3)'">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-attr inline">boxShadow</span>: <span class="hljs-string inline">&#x27;0 20px 40px rgba(0, 255, 255, 0.3)&#x27;</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground"><strong class="font-bold text-foreground">阴影参数解析</strong>：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">Y偏移 20px</strong>: 光源在上方，符合现实世界的光照习惯</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">模糊半径 40px</strong>: 大范围的柔和阴影，营造悬浮感</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">青色 + 30%透明度</strong>: 科技感的色彩选择，呼应主题</li>
</ul>
<h2 id="设计模式的提炼与总结" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#设计模式的提炼与总结" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 设计模式的提炼与总结">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            设计模式的提炼与总结
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">通过这次深入的技术解析，我们可以提取出几个可复用的设计模式：</p>
<h3 id="3d交互组件的通用架构" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#3d交互组件的通用架构" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 3D交互组件的通用架构">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            3D交互组件的通用架构
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%201.%20%E4%B8%A5%E6%A0%BC%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89%0Ainterface%20ComponentProps%20%7B%0Amode%3A%20'mode1'%20%7C%20'mode2'%3B%0Adata%3A%20DataType%3B%0AonInteraction%3A%20(type%3A%20InteractionType)%20%3D%3E%20void%3B%0A%7D%0A%2F%2F%202.%20%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%BC%8F%0Aconst%20%5BvisualState%2C%20setVisualState%5D%20%3D%20useState(initialState)%3B%0Aconst%20%5BinteractionTimer%2C%20setInteractionTimer%5D%20%3D%20useStateNodeJS.Timeout%20%7C%20null%3E(null)%3B%0A%2F%2F%203.%20%E4%BD%8D%E7%BD%AE%E8%AE%A1%E7%AE%97%E5%87%BD%E6%95%B0%0Aconst%20calculatePosition%20%3D%20(mode%3A%20Mode%2C%20index%3A%20number%2C%20total%3A%20number)%20%3D%3E%20%7B%0A%2F%2F%20%E5%9F%BA%E4%BA%8E%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BD%8D%E7%BD%AE%E7%AE%97%E6%B3%95%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 1. 严格的类型定义</span>
<span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">ComponentProps</span> {
    <span class="hljs-attr inline">mode</span>: <span class="hljs-string inline">&#x27;mode1&#x27;</span> | <span class="hljs-string inline">&#x27;mode2&#x27;</span>;
    <span class="hljs-attr inline">data</span>: <span class="hljs-title class_ inline">DataType</span>;
    <span class="hljs-attr inline">onInteraction</span>: <span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">type</span>: <span class="hljs-title class_ inline">InteractionType</span></span>) =&gt;</span> <span class="hljs-built_in inline">void</span>;
}

<span class="hljs-comment inline">// 2. 状态管理模式</span>
<span class="hljs-keyword inline">const</span> [visualState, setVisualState] = <span class="hljs-title function_ inline">useState</span>(initialState);
<span class="hljs-keyword inline">const</span> [interactionTimer, setInteractionTimer] = useState&lt;<span class="hljs-title class_ inline">NodeJS</span>.<span class="hljs-property inline">Timeout</span> | <span class="hljs-literal inline">null</span>&gt;(<span class="hljs-literal inline">null</span>);

<span class="hljs-comment inline">// 3. 位置计算函数</span>
<span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">calculatePosition</span> = (<span class="hljs-params inline"><span class="hljs-attr inline">mode</span>: <span class="hljs-title class_ inline">Mode</span>, <span class="hljs-attr inline">index</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">total</span>: <span class="hljs-built_in inline">number</span></span>) =&gt; {
    <span class="hljs-comment inline">// 基于模式的位置算法</span>
};
</code></pre>
            </div>
        
<h3 id="鼠标跟踪倾斜的通用实现" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#鼠标跟踪倾斜的通用实现" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 鼠标跟踪倾斜的通用实现">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            鼠标跟踪倾斜的通用实现
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20useMouseTracking%20%3D%20(ref%3A%20RefObjectHTMLElement%3E%2C%20enabled%3A%20boolean)%20%3D%3E%20%7B%0Aconst%20handleMouseMove%20%3D%20useCallback((e%3A%20MouseEvent)%20%3D%3E%20%7B%0Aif%20(!ref.current%20%7C%7C%20!enabled)%20return%3B%0Aconst%20rect%20%3D%20ref.current.getBoundingClientRect()%3B%0Aconst%20centerX%20%3D%20rect.left%20%2B%20rect.width%20%2F%202%3B%0Aconst%20centerY%20%3D%20rect.top%20%2B%20rect.height%20%2F%202%3B%0Aconst%20offsetX%20%3D%20(e.clientX%20-%20centerX)%20%2F%20rect.width%3B%0Aconst%20offsetY%20%3D%20(e.clientY%20-%20centerY)%20%2F%20rect.height%3B%0Aconst%20rotateX%20%3D%20-offsetY%20*%20maxRotation%3B%0Aconst%20rotateY%20%3D%20offsetX%20*%20maxRotation%3B%0Areturn%20%60rotateX(%24%7BrotateX%7Ddeg)%20rotateY(%24%7BrotateY%7Ddeg)%60%3B%0A%7D%2C%20%5Benabled%2C%20maxRotation%5D)%3B%0Areturn%20%7B%20handleMouseMove%20%7D%3B%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">useMouseTracking</span> = (<span class="hljs-params inline"><span class="hljs-attr inline">ref</span>: <span class="hljs-title class_ inline">RefObject</span>&lt;<span class="hljs-title class_ inline">HTMLElement</span>&gt;, <span class="hljs-attr inline">enabled</span>: <span class="hljs-built_in inline">boolean</span></span>) =&gt; {
    <span class="hljs-keyword inline">const</span> handleMouseMove = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">e</span>: <span class="hljs-title class_ inline">MouseEvent</span></span>) =&gt;</span> {
        <span class="hljs-keyword inline">if</span> (!ref.<span class="hljs-property inline">current</span> || !enabled) <span class="hljs-keyword inline">return</span>;
        
        <span class="hljs-keyword inline">const</span> rect = ref.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">getBoundingClientRect</span>();
        <span class="hljs-keyword inline">const</span> centerX = rect.<span class="hljs-property inline">left</span> + rect.<span class="hljs-property inline">width</span> / <span class="hljs-number inline">2</span>;
        <span class="hljs-keyword inline">const</span> centerY = rect.<span class="hljs-property inline">top</span> + rect.<span class="hljs-property inline">height</span> / <span class="hljs-number inline">2</span>;
        
        <span class="hljs-keyword inline">const</span> offsetX = (e.<span class="hljs-property inline">clientX</span> - centerX) / rect.<span class="hljs-property inline">width</span>;
        <span class="hljs-keyword inline">const</span> offsetY = (e.<span class="hljs-property inline">clientY</span> - centerY) / rect.<span class="hljs-property inline">height</span>;
        
        <span class="hljs-keyword inline">const</span> rotateX = -offsetY * maxRotation;
        <span class="hljs-keyword inline">const</span> rotateY = offsetX * maxRotation;
        
        <span class="hljs-keyword inline">return</span> <span class="hljs-string inline">`rotateX(<span class="hljs-subst inline">${rotateX}</span>deg) rotateY(<span class="hljs-subst inline">${rotateY}</span>deg)`</span>;
    }, [enabled, maxRotation]);
    
    <span class="hljs-keyword inline">return</span> { handleMouseMove };
};
</code></pre>
            </div>
        
<h3 id="自动复位定时器的管理模式" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#自动复位定时器的管理模式" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 自动复位定时器的管理模式">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            自动复位定时器的管理模式
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="const%20useAutoReset%20%3D%20(resetAction%3A%20()%20%3D%3E%20void%2C%20delay%3A%20number%20%3D%201500)%20%3D%3E%20%7B%0Aconst%20%5Btimer%2C%20setTimer%5D%20%3D%20useStateNodeJS.Timeout%20%7C%20null%3E(null)%3B%0Aconst%20startTimer%20%3D%20useCallback(()%20%3D%3E%20%7B%0Aif%20(timer)%20clearTimeout(timer)%3B%0Aconst%20newTimer%20%3D%20setTimeout(resetAction%2C%20delay)%3B%0AsetTimer(newTimer)%3B%0A%7D%2C%20%5Btimer%2C%20resetAction%2C%20delay%5D)%3B%0Aconst%20clearTimer%20%3D%20useCallback(()%20%3D%3E%20%7B%0Aif%20(timer)%20%7B%0AclearTimeout(timer)%3B%0AsetTimer(null)%3B%0A%7D%0A%7D%2C%20%5Btimer%5D)%3B%0Areturn%20%7B%20startTimer%2C%20clearTimer%20%7D%3B%0A%7D%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">useAutoReset</span> = (<span class="hljs-params inline"><span class="hljs-attr inline">resetAction</span>: () =&gt; <span class="hljs-built_in inline">void</span>, <span class="hljs-attr inline">delay</span>: <span class="hljs-built_in inline">number</span> = <span class="hljs-number inline">1500</span></span>) =&gt; {
    <span class="hljs-keyword inline">const</span> [timer, setTimer] = useState&lt;<span class="hljs-title class_ inline">NodeJS</span>.<span class="hljs-property inline">Timeout</span> | <span class="hljs-literal inline">null</span>&gt;(<span class="hljs-literal inline">null</span>);
    
    <span class="hljs-keyword inline">const</span> startTimer = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">if</span> (timer) <span class="hljs-built_in inline">clearTimeout</span>(timer);
        <span class="hljs-keyword inline">const</span> newTimer = <span class="hljs-built_in inline">setTimeout</span>(resetAction, delay);
        <span class="hljs-title function_ inline">setTimer</span>(newTimer);
    }, [timer, resetAction, delay]);
    
    <span class="hljs-keyword inline">const</span> clearTimer = <span class="hljs-title function_ inline">useCallback</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">if</span> (timer) {
            <span class="hljs-built_in inline">clearTimeout</span>(timer);
            <span class="hljs-title function_ inline">setTimer</span>(<span class="hljs-literal inline">null</span>);
        }
    }, [timer]);
    
    <span class="hljs-keyword inline">return</span> { startTimer, clearTimer };
};
</code></pre>
            </div>
        
<h3 id="性能优化的最佳实践" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#性能优化的最佳实践" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 性能优化的最佳实践">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            性能优化的最佳实践
        </h3>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">合理使用willChange</strong>: 只在真正需要GPU加速的元素上使用</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">避免不必要的重渲染</strong>: 使用useCallback和useMemo优化计算</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">及时清理资源</strong>: 定时器、事件监听器都要在组件卸载时清理</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">条件渲染优化</strong>: 远离视口的元素可以考虑不渲染</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">动画性能</strong>: 优先使用transform和opacity，避免触发重排</li>
</ol>
<h2 id="完整源码全解析" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#完整源码全解析" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 完整源码全解析">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            完整源码全解析
        </h2>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="'use%20client'%3B%0Aimport%20React%2C%20%7BuseRef%2C%20useState%2C%20useEffect%7D%20from%20'react'%3B%0Aimport%20%7Bmotion%7D%20from%20'framer-motion'%3B%0Aimport%20%7BuseTranslation%7D%20from%20'%40%2Flib%2Fhooks%2FuseTranslation'%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89%E9%83%A8%E5%88%86%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F**%0A*%20%E5%B7%A5%E4%BD%9C%E9%A1%B9%E7%9B%AE%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%0A*%20%E5%AE%9A%E4%B9%89%E4%BA%86%E6%AF%8F%E4%B8%AA%E5%8D%A1%E7%89%87%E5%B1%95%E7%A4%BA%E7%9A%84%E5%AE%8C%E6%95%B4%E4%BF%A1%E6%81%AF%E6%A8%A1%E5%9E%8B%0A*%2F%0Ainterface%20WorkItem%20%7B%0Aid%3A%20string%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86%E7%AC%A6%EF%BC%8CReact%20key%E5%92%8C%E6%95%B0%E6%8D%AE%E8%BF%BD%E8%B8%AA%0Atitle%3A%20string%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E9%A1%B9%E7%9B%AE%E6%A0%87%E9%A2%98%EF%BC%8C%E6%98%BE%E7%A4%BA%E5%9C%A8%E5%8D%A1%E7%89%87%E6%AD%A3%E9%9D%A2%0Adescription%3A%20string%3B%20%20%20%20%20%2F%2F%20%E9%A1%B9%E7%9B%AE%E6%8F%8F%E8%BF%B0%EF%BC%8C%E6%AD%A3%E5%8F%8D%E9%9D%A2%E9%83%BD%E4%BC%9A%E4%BD%BF%E7%94%A8%0Atags%3A%20string%5B%5D%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%8A%80%E6%9C%AF%E6%A0%87%E7%AD%BE%E6%95%B0%E7%BB%84%EF%BC%8C%E6%AD%A3%E9%9D%A2%E6%98%BE%E7%A4%BA%E5%89%8D3%E4%B8%AA%EF%BC%8C%E8%83%8C%E9%9D%A2%E6%98%BE%E7%A4%BA%E5%85%A8%E9%83%A8%0Aimage%3F%3A%20string%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8F%AF%E9%80%89%E9%A1%B9%E7%9B%AE%E9%A2%84%E8%A7%88%E5%9B%BE%0AaccessUrl%3F%3A%20string%3B%20%20%20%20%20%20%20%20%2F%2F%20%E5%8F%AF%E9%80%89%E6%BC%94%E7%A4%BA%E9%93%BE%E6%8E%A5%0AgithubUrl%3F%3A%20string%3B%20%20%20%20%20%20%2F%2F%20%E5%8F%AF%E9%80%89GitHub%E4%BB%93%E5%BA%93%E9%93%BE%E6%8E%A5%0Aaccessible%3F%3A%20boolean%3B%20%20%20%20%2F%2F%20%E6%97%A0%E9%9A%9C%E7%A2%8D%E8%AE%BF%E9%97%AE%E6%94%AF%E6%8C%81%E6%A0%87%E8%AE%B0%0Atool%3F%3A%20boolean%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%B7%A5%E5%85%B7%E7%B1%BB%E9%A1%B9%E7%9B%AE%E6%A0%87%E8%AE%B0%0A%7D%0A%2F**%0A*%203D%E5%8D%A1%E7%89%87%E7%BB%84%E4%BB%B6%E5%B1%9E%E6%80%A7%E6%8E%A5%E5%8F%A3%0A*%20%E6%8E%A7%E5%88%B6%E5%8D%A1%E7%89%87%E7%9A%84%E5%B8%83%E5%B1%80%E6%A8%A1%E5%BC%8F%E3%80%81%E7%8A%B6%E6%80%81%E5%92%8C%E4%BA%A4%E4%BA%92%E8%A1%8C%E4%B8%BA%0A*%2F%0Ainterface%20WorkCard3DProps%20%7B%0Awork%3A%20WorkItem%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8D%A1%E7%89%87%E6%95%B0%E6%8D%AE%E6%BA%90%0Amode%3A%20'tiled'%20%7C%20'folded'%3B%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%B8%83%E5%B1%80%E6%A8%A1%E5%BC%8F%EF%BC%9A%E5%B9%B3%E9%93%BA%E7%BD%91%E6%A0%BC%20vs%20%E5%B1%82%E5%8F%A0%E6%8A%98%E5%8F%A0%0AisActive%3A%20boolean%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%BD%93%E5%89%8D%E5%8D%A1%E7%89%87%E6%98%AF%E5%90%A6%E4%B8%BA%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81%0Aindex%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8D%A1%E7%89%87%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E7%B4%A2%E5%BC%95%E4%BD%8D%E7%BD%AE%0Atotal%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8D%A1%E7%89%87%E6%80%BB%E6%95%B0%EF%BC%8C%E7%94%A8%E4%BA%8E%E5%B8%83%E5%B1%80%E8%AE%A1%E7%AE%97%0AactiveIndex%3F%3A%20number%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%BD%93%E5%89%8D%E6%BF%80%E6%B4%BB%E5%8D%A1%E7%89%87%E7%9A%84%E7%B4%A2%E5%BC%95%EF%BC%88%E6%8A%98%E5%8F%A0%E6%A8%A1%E5%BC%8F%EF%BC%89%0AonInteractionAction%3A%20(type%3A%20'hover'%20%7C%20'click'%20%7C%20'flip'%20%7C%20'detail')%20%3D%3E%20void%3B%20%2F%2F%20%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%9B%9E%E8%B0%83%0A%7D%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E4%B8%BB%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aexport%20function%20WorkCard3D(%7B%0Awork%2C%0Amode%2C%0Aindex%2C%0Atotal%2C%0AactiveIndex%20%3D%200%2C%0AonInteractionAction%0A%7D%3A%20WorkCard3DProps)%20%7B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20Refs%E5%92%8C%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20cardRef%20%3D%20useRefHTMLDivElement%3E(null)%3B%20%20%2F%2F%20%E5%8D%A1%E7%89%87DOM%E5%BC%95%E7%94%A8%EF%BC%8C%E7%94%A8%E4%BA%8E%E9%BC%A0%E6%A0%87%E4%BD%8D%E7%BD%AE%E8%AE%A1%E7%AE%97%0A%2F%2F%20%E6%A0%B8%E5%BF%83%E4%BA%A4%E4%BA%92%E7%8A%B6%E6%80%81%0Aconst%20%5Bhovered%2C%20setHovered%5D%20%3D%20useState(false)%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E9%BC%A0%E6%A0%87%E6%82%AC%E5%81%9C%E7%8A%B6%E6%80%81%0Aconst%20%5Bflipped%2C%20setFlipped%5D%20%3D%20useState(false)%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8D%A1%E7%89%87%E7%BF%BB%E8%BD%AC%E7%8A%B6%E6%80%81%0Aconst%20%5Btransform%2C%20setTransform%5D%20%3D%20useState('rotateX(0deg)%20rotateY(0deg)')%3B%20%2F%2F%203D%E5%8F%98%E6%8D%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%0Aconst%20%5BautoReturnTimer%2C%20setAutoReturnTimer%5D%20%3D%20useStateNodeJS.Timeout%20%7C%20null%3E(null)%3B%20%2F%2F%20%E8%87%AA%E5%8A%A8%E5%A4%8D%E4%BD%8D%E5%AE%9A%E6%97%B6%E5%99%A8%0Aconst%20%5BhasInitialized%2C%20setHasInitialized%5D%20%3D%20useState(false)%3B%20%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8A%A8%E7%94%BB%E6%A0%87%E8%AE%B0%0Aconst%20%7B%20t%20%7D%20%3D%20useTranslation()%3B%20%20%2F%2F%20%E5%9B%BD%E9%99%85%E5%8C%96%E7%BF%BB%E8%AF%91%E9%92%A9%E5%AD%90%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E5%85%A5%E5%9C%BA%E5%8A%A8%E7%94%BB%E6%8E%A7%E5%88%B6%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F**%0A*%20%E9%94%99%E8%90%BD%E6%9C%89%E8%87%B4%E7%9A%84%E5%85%A5%E5%9C%BA%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C%0A*%20%E5%9F%BA%E4%BA%8E%E5%8D%A1%E7%89%87%E7%B4%A2%E5%BC%95%E5%88%9B%E5%BB%BA%E6%B3%A2%E6%B5%AA%E5%BC%8F%E7%9A%84%E5%BB%B6%E8%BF%9F%E5%90%AF%E5%8A%A8%0A*%2F%0AuseEffect(()%20%3D%3E%20%7B%0Aconst%20timer%20%3D%20setTimeout(()%20%3D%3E%20%7B%0AsetHasInitialized(true)%3B%0A%7D%2C%20index%20*%20150)%3B%20%2F%2F%20%E6%AF%8F%E5%BC%A0%E5%8D%A1%E7%89%87%E5%BB%B6%E8%BF%9F150ms%EF%BC%8C%E5%88%9B%E9%80%A0%E8%BF%9E%E9%94%81%E5%8F%8D%E5%BA%94%E6%95%88%E6%9E%9C%0Areturn%20()%20%3D%3E%20clearTimeout(timer)%3B%0A%7D%2C%20%5Bindex%5D)%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%95%EF%BC%9A3D%E7%A9%BA%E9%97%B4%E4%BD%8D%E7%BD%AE%E8%AE%A1%E7%AE%97%E7%B3%BB%E7%BB%9F%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F**%0A*%20%E6%A0%B9%E6%8D%AE%E5%B8%83%E5%B1%80%E6%A8%A1%E5%BC%8F%E8%AE%A1%E7%AE%97%E5%8D%A1%E7%89%87%E5%9C%A83D%E7%A9%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E7%B2%BE%E7%A1%AE%E4%BD%8D%E7%BD%AE%0A*%20%E8%BF%99%E6%98%AF%E6%95%B4%E4%B8%AA%E7%B3%BB%E7%BB%9F%E6%9C%80%E6%A0%B8%E5%BF%83%E7%9A%84%E7%AE%97%E6%B3%95%EF%BC%8C%E5%86%B3%E5%AE%9A%E4%BA%86%E5%8D%A1%E7%89%87%E7%9A%84%E7%A9%BA%E9%97%B4%E5%B8%83%E5%B1%80%0A*%2F%0Aconst%20getCardPosition%20%3D%20()%3A%20%7B%20x%3A%20number%2C%20y%3A%20number%2C%20z%3A%20number%2C%20opacity%3A%20number%2C%20scale%3A%20number%20%7D%20%3D%3E%20%7B%0Aif%20(mode%20%3D%3D%3D%20'folded')%20%7B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E6%8A%98%E5%8F%A0%E6%A8%A1%E5%BC%8F%EF%BC%9A%E5%B1%82%E5%8F%A0%E5%A0%86%E6%A0%88%E7%AE%97%E6%B3%95%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20isActiveCard%20%3D%20index%20%3D%3D%3D%20activeIndex%3B%0Aconst%20relativeIndex%20%3D%20index%20-%20activeIndex%3B%20%2F%2F%20%E7%9B%B8%E5%AF%B9%E4%BA%8E%E6%BF%80%E6%B4%BB%E5%8D%A1%E7%89%87%E7%9A%84%E7%B4%A2%E5%BC%95%E5%B7%AE%0Aif%20(isActiveCard)%20%7B%0A%2F%2F%20%E6%BF%80%E6%B4%BB%E5%8D%A1%E7%89%87%EF%BC%9A%E4%BD%8D%E4%BA%8E%E6%9C%80%E5%89%8D%E6%96%B9%E4%B8%AD%E5%BF%83%E4%BD%8D%E7%BD%AE%0Areturn%20%7Bx%3A%200%2C%20y%3A%200%2C%20z%3A%200%2C%20opacity%3A%201%2C%20scale%3A%201%7D%3B%0A%7D%20else%20if%20(Math.abs(relativeIndex)%202)%20%7B%0A%2F%2F%20%E7%9B%B8%E9%82%BB%E5%8D%A1%E7%89%87%EF%BC%9A%E5%BD%A2%E6%88%90%E5%8F%AF%E8%A7%81%E7%9A%84%E5%B1%82%E5%8F%A0%E6%95%88%E6%9E%9C%0Aconst%20horizontalOffset%20%3D%20relativeIndex%20*%202%3B%20%20%20%20%20%2F%2F%20%E6%B0%B4%E5%B9%B3%E9%94%99%E4%BD%8D%EF%BC%9A%E8%90%A5%E9%80%A0%E5%8E%9A%E5%BA%A6%E6%84%9F%0Aconst%20verticalOffset%20%3D%20-Math.abs(relativeIndex)%20*%208%3B%20%20%2F%2F%20%E5%9E%82%E7%9B%B4%E5%81%8F%E7%A7%BB%EF%BC%9A%E6%A8%A1%E6%8B%9F%E5%8D%A1%E7%89%87%E5%8E%9A%E5%BA%A6%0Aconst%20depth%20%3D%20-Math.abs(relativeIndex)%20*%2015%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%B7%B1%E5%BA%A6%E5%B1%82%E6%AC%A1%EF%BC%9A%E8%BF%9C%E8%BF%91%E5%88%86%E6%98%8E%0Aconst%20scale%20%3D%201%20-%20Math.abs(relativeIndex)%20*%200.03%3B%20%20%20%20%20%2F%2F%20%E5%B0%BA%E5%AF%B8%E9%80%92%E5%87%8F%EF%BC%9A%E9%80%8F%E8%A7%86%E6%95%88%E6%9E%9C%0Areturn%20%7B%0Ax%3A%20horizontalOffset%2C%0Ay%3A%20verticalOffset%2C%0Az%3A%20depth%2C%0Aopacity%3A%201%20-%20Math.abs(relativeIndex)%20*%200.15%2C%20%20%20%20%20%20%2F%2F%20%E9%80%8F%E6%98%8E%E5%BA%A6%E9%80%92%E5%87%8F%0Ascale%0A%7D%3B%0A%7D%20else%20%7B%0A%2F%2F%20%E8%BF%9C%E8%B7%9D%E7%A6%BB%E5%8D%A1%E7%89%87%EF%BC%9A%E9%9A%90%E8%97%8F%E5%9C%A8%E4%BE%A7%E8%BE%B9%EF%BC%8C%E4%BC%98%E5%8C%96%E6%80%A7%E8%83%BD%0Aconst%20side%20%3D%20relativeIndex%20%3E%200%20%3F%201%20%3A%20-1%3B%0Areturn%20%7B%0Ax%3A%20side%20*%20200%2C%20%20%2F%2F%20%E5%B7%A6%E5%8F%B3%E5%88%86%E6%95%A3%E9%9A%90%E8%97%8F%0Ay%3A%200%2C%0Az%3A%20-100%2C%20%20%20%20%20%20%20%20%2F%2F%20%E6%8E%A8%E5%88%B0%E5%90%8E%E6%96%B9%0Aopacity%3A%200%2C%20%20%20%20%20%2F%2F%20%E5%AE%8C%E5%85%A8%E9%80%8F%E6%98%8E%0Ascale%3A%200.8%0A%7D%3B%0A%7D%0A%7D%20else%20%7B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E5%B9%B3%E9%93%BA%E6%A8%A1%E5%BC%8F%EF%BC%9A%E6%99%BA%E8%83%BD%E7%BD%91%E6%A0%BC%E5%B8%83%E5%B1%80%E7%AE%97%E6%B3%95%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20cols%20%3D%20Math.ceil(Math.sqrt(total))%3B%20%20%2F%2F%20%E8%AE%A1%E7%AE%97%E6%9C%80%E4%BC%98%E5%88%97%E6%95%B0%EF%BC%88%E6%8E%A5%E8%BF%91%E6%AD%A3%E6%96%B9%E5%BD%A2%EF%BC%89%0Aconst%20row%20%3D%20Math.floor(index%20%2F%20cols)%3B%20%20%20%20%20%20%20%2F%2F%20%E8%AE%A1%E7%AE%97%E8%A1%8C%E5%8F%B7%0Aconst%20col%20%3D%20index%20%25%20cols%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%AE%A1%E7%AE%97%E5%88%97%E5%8F%B7%0A%2F%2F%20%E9%97%B4%E8%B7%9D%E9%85%8D%E7%BD%AE%0Aconst%20widthSpacing%20%3D%20320%3B%20%20%20%2F%2F%20%E5%8D%A1%E7%89%87%E5%AE%BD%E5%BA%A6%20%2B%20%E9%97%B4%E9%9A%99%0Aconst%20heightSpacing%20%3D%20440%3B%20%20%2F%2F%20%E5%8D%A1%E7%89%87%E9%AB%98%E5%BA%A6%20%2B%20%E9%97%B4%E9%9A%99%0A%2F%2F%20%E5%B1%85%E4%B8%AD%E5%AF%B9%E9%BD%90%E7%9A%84%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97%0Areturn%20%7B%0Ax%3A%20(col%20-%20(cols%20-%201)%20%2F%202)%20*%20widthSpacing%2C%20%20%20%20%20%2F%2F%20%E6%B0%B4%E5%B9%B3%E5%B1%85%E4%B8%AD%0Ay%3A%20(row%20-%20Math.floor((total%20-%201)%20%2F%20cols)%20%2F%202)%20*%20heightSpacing%2C%20%2F%2F%20%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD%0Az%3A%200%2C%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%B9%B3%E9%9D%A2%E5%B8%83%E5%B1%80%EF%BC%8C%E6%97%A0%E6%B7%B1%E5%BA%A6%E5%B7%AE%E5%BC%82%0Aopacity%3A%201%2C%20%20%20%20%20%2F%2F%20%E5%85%A8%E9%83%A8%E5%8F%AF%E8%A7%81%0Ascale%3A%201%20%20%20%20%20%20%20%20%2F%2F%20%E7%BB%9F%E4%B8%80%E5%B0%BA%E5%AF%B8%0A%7D%3B%0A%7D%0A%7D%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E9%BC%A0%E6%A0%87%E8%B7%9F%E8%B8%AA%E5%80%BE%E6%96%9C%E7%AE%97%E6%B3%95%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F**%0A*%20%E5%AE%9E%E6%97%B6%E9%BC%A0%E6%A0%87%E4%BD%8D%E7%BD%AE%E8%BF%BD%E8%B8%AA%E5%92%8C3D%E5%80%BE%E6%96%9C%E8%AE%A1%E7%AE%97%0A*%20%E5%B0%862D%E9%BC%A0%E6%A0%87%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2%E4%B8%BA3D%E6%97%8B%E8%BD%AC%E8%A7%92%E5%BA%A6%0A*%2F%0Aconst%20handleMouseMove%20%3D%20(e%3A%20React.MouseEventHTMLDivElement%3E)%20%3D%3E%20%7B%0A%2F%2F%20%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%EF%BC%9A%E5%8F%AA%E5%9C%A8%E7%89%B9%E5%AE%9A%E6%9D%A1%E4%BB%B6%E4%B8%8B%E5%90%AF%E7%94%A8%E5%80%BE%E6%96%9C%E6%95%88%E6%9E%9C%0Aif%20(!cardRef.current%20%7C%7C%20!hovered%20%7C%7C%20mode%20%3D%3D%3D%20'folded')%20return%3B%0A%2F%2F%20%E8%8E%B7%E5%8F%96%E5%8D%A1%E7%89%87%E7%9A%84%E7%B2%BE%E7%A1%AE%E8%BE%B9%E7%95%8C%E4%BF%A1%E6%81%AF%0Aconst%20rect%20%3D%20cardRef.current.getBoundingClientRect()%3B%0Aconst%20centerX%20%3D%20rect.left%20%2B%20rect.width%20%2F%202%3B%20%20%20%2F%2F%20%E5%8D%A1%E7%89%87%E4%B8%AD%E5%BF%83X%E5%9D%90%E6%A0%87%0Aconst%20centerY%20%3D%20rect.top%20%2B%20rect.height%20%2F%202%3B%20%20%20%2F%2F%20%E5%8D%A1%E7%89%87%E4%B8%AD%E5%BF%83Y%E5%9D%90%E6%A0%87%0A%2F%2F%20%E8%AE%A1%E7%AE%97%E9%BC%A0%E6%A0%87%E7%9B%B8%E5%AF%B9%E4%BA%8E%E5%8D%A1%E7%89%87%E4%B8%AD%E5%BF%83%E7%9A%84%E5%81%8F%E7%A7%BB%E9%87%8F%EF%BC%88%E5%BD%92%E4%B8%80%E5%8C%96%E5%88%B0-0.5%E5%88%B00.5%EF%BC%89%0Aconst%20offsetX%20%3D%20(e.clientX%20-%20centerX)%20%2F%20rect.width%3B%0Aconst%20offsetY%20%3D%20(e.clientY%20-%20centerY)%20%2F%20rect.height%3B%0A%2F%2F%20%E5%B0%86%E5%81%8F%E7%A7%BB%E9%87%8F%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%97%8B%E8%BD%AC%E8%A7%92%E5%BA%A6%EF%BC%88-15%C2%B0%E5%88%B0%2B15%C2%B0%EF%BC%89%0Aconst%20rotateX%20%3D%20-offsetY%20*%2015%3B%20%2F%2F%20Y%E8%BD%B4%E5%8F%96%E5%8F%8D%EF%BC%8C%E7%AC%A6%E5%90%88%E7%9B%B4%E8%A7%89%E7%9A%84%E5%80%BE%E6%96%9C%E6%96%B9%E5%90%91%0Aconst%20rotateY%20%3D%20offsetX%20*%2015%3B%0A%2F%2F%20%E6%9B%B4%E6%96%B03D%E5%8F%98%E6%8D%A2%E7%8A%B6%E6%80%81%0AsetTransform(%60rotateX(%24%7BrotateX%7Ddeg)%20rotateY(%24%7BrotateY%7Ddeg)%60)%3B%0A%7D%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F**%0A*%20%E9%BC%A0%E6%A0%87%E8%BF%9B%E5%85%A5%E4%BA%8B%E4%BB%B6%EF%BC%9A%E5%90%AF%E7%94%A8%E6%82%AC%E5%81%9C%E6%95%88%E6%9E%9C%E5%92%8C%E5%80%BE%E6%96%9C%E8%B7%9F%E8%B8%AA%0A*%2F%0Aconst%20handleMouseEnter%20%3D%20()%20%3D%3E%20%7B%0AsetHovered(true)%3B%0AonInteractionAction('hover')%3B%0A%2F%2F%20%E6%B8%85%E9%99%A4%E8%87%AA%E5%8A%A8%E5%A4%8D%E4%BD%8D%E5%AE%9A%E6%97%B6%E5%99%A8%EF%BC%8C%E9%98%B2%E6%AD%A2%E6%84%8F%E5%A4%96%E9%87%8D%E7%BD%AE%0Aif%20(autoReturnTimer)%20%7B%0AclearTimeout(autoReturnTimer)%3B%0AsetAutoReturnTimer(null)%3B%0A%7D%0A%7D%3B%0A%2F**%0A*%20%E9%BC%A0%E6%A0%87%E7%A6%BB%E5%BC%80%E4%BA%8B%E4%BB%B6%EF%BC%9A%E5%90%AF%E5%8A%A8%E8%87%AA%E5%8A%A8%E5%A4%8D%E4%BD%8D%E6%9C%BA%E5%88%B6%0A*%2F%0Aconst%20handleMouseLeave%20%3D%20()%20%3D%3E%20%7B%0AsetHovered(false)%3B%0A%2F%2F%20%E5%90%AF%E5%8A%A8%E5%BB%B6%E8%BF%9F%E5%A4%8D%E4%BD%8D%E5%AE%9A%E6%97%B6%E5%99%A8%0Aconst%20timer%20%3D%20setTimeout(()%20%3D%3E%20%7B%0AsetTransform('rotateX(0deg)%20rotateY(0deg)')%3B%20%2F%2F%20%E9%87%8D%E7%BD%AE%E5%80%BE%E6%96%9C%0AsetFlipped(false)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E9%87%8D%E7%BD%AE%E7%BF%BB%E8%BD%AC%0A%7D%2C%201500)%3B%20%2F%2F%201.5%E7%A7%92%E5%BB%B6%E8%BF%9F%EF%BC%8C%E7%BB%99%E7%94%A8%E6%88%B7%E8%B6%B3%E5%A4%9F%E6%9F%A5%E7%9C%8B%E6%97%B6%E9%97%B4%0AsetAutoReturnTimer(timer)%3B%0A%2F%2F%20%E7%AB%8B%E5%8D%B3%E9%87%8D%E7%BD%AE%E5%80%BE%E6%96%9C%E6%95%88%E6%9E%9C%EF%BC%8C%E4%BF%9D%E8%AF%81%E8%A7%86%E8%A7%89%E8%BF%9E%E8%B4%AF%E6%80%A7%0AsetTransform('rotateX(0deg)%20rotateY(0deg)')%3B%0A%7D%3B%0A%2F**%0A*%20%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%EF%BC%9A%E8%A7%A6%E5%8F%91%E5%8D%A1%E7%89%87%E7%BF%BB%E8%BD%AC%0A*%2F%0Aconst%20handleClick%20%3D%20()%20%3D%3E%20%7B%0AsetFlipped(!flipped)%3B%20%20%2F%2F%20%E5%88%87%E6%8D%A2%E7%BF%BB%E8%BD%AC%E7%8A%B6%E6%80%81%0AonInteractionAction('flip')%3B%0A%7D%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E6%A0%B7%E5%BC%8F%E5%92%8C%E5%8A%A8%E7%94%BB%E8%AE%A1%E7%AE%97%E7%B3%BB%E7%BB%9F%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Aconst%20position%20%3D%20getCardPosition()%3B%20%2F%2F%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%0A%2F**%0A*%20%E6%8A%98%E5%8F%A0%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%89%87%E5%BD%A2%E5%B1%95%E5%BC%80%E6%95%88%E6%9E%9C%0A*%20%E5%9C%A8%E6%82%AC%E5%81%9C%E6%97%B6%E5%88%9B%E5%BB%BA%E6%89%87%E5%BD%A2%E6%8E%92%E5%88%97%EF%BC%8C%E5%A2%9E%E5%BC%BA%E5%B1%82%E6%AC%A1%E6%84%9F%0A*%2F%0Aconst%20getFoldedTransform%20%3D%20()%20%3D%3E%20%7B%0Aif%20(mode%20!%3D%3D%20'folded')%20return%20''%3B%0A%2F%2F%20%E5%9F%BA%E7%A1%80%E7%9A%84%E5%BE%AE%E5%A6%99%E6%97%8B%E8%BD%AC%EF%BC%8C%E8%AE%A9%E5%A0%86%E5%8F%A0%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%9B%B4%E8%87%AA%E7%84%B6%0Aconst%20baseAngle%20%3D%20(index%20-%20activeIndex)%20*%200.5%3B%0Aif%20(hovered%20%26%26%20index%20!%3D%3D%20activeIndex)%20%7B%0A%2F%2F%20%E6%82%AC%E5%81%9C%E6%97%B6%E7%9A%84%E6%89%87%E5%BD%A2%E5%B1%95%E5%BC%80%E6%95%88%E6%9E%9C%0Aconst%20fanAngle%20%3D%20(index%20-%20activeIndex)%20*%204%3B%20%2F%2F%20%E6%89%87%E5%BD%A2%E8%A7%92%E5%BA%A6%0Aconst%20translateX%20%3D%20Math.sin(fanAngle%20*%20Math.PI%20%2F%20180)%20*%2012%3B%20%2F%2F%20%E6%B0%B4%E5%B9%B3%E6%95%A3%E5%BC%80%E8%B7%9D%E7%A6%BB%0Areturn%20%60rotateZ(%24%7BfanAngle%7Ddeg)%20translateX(%24%7BtranslateX%7Dpx)%60%3B%0A%7D%0A%2F%2F%20%E9%BB%98%E8%AE%A4%E7%9A%84%E5%BE%AE%E5%A6%99%E5%9F%BA%E7%A1%80%E6%97%8B%E8%BD%AC%0Areturn%20%60rotateZ(%24%7BbaseAngle%7Ddeg)%60%3B%0A%7D%3B%0A%2F**%0A*%20%E5%8A%A8%E6%80%81%E5%8A%A8%E7%94%BB%E5%B1%9E%E6%80%A7%E8%AE%A1%E7%AE%97%0A*%20%E6%A0%B9%E6%8D%AE%E5%BD%93%E5%89%8D%E7%8A%B6%E6%80%81%E8%BF%94%E5%9B%9E%E7%9B%B8%E5%BA%94%E7%9A%84%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C%0A*%2F%0Aconst%20getAnimationProps%20%3D%20()%20%3D%3E%20%7B%0Aif%20(hovered)%20%7B%0A%2F%2F%20%E6%82%AC%E5%81%9C%E7%8A%B6%E6%80%81%EF%BC%9A%E6%94%BE%E5%A4%A7%E5%92%8C%E5%8F%91%E5%85%89%E6%95%88%E6%9E%9C%0Areturn%20%7B%0Ascale%3A%201.02%2C%0AboxShadow%3A%20'0%2020px%2040px%20rgba(0%2C%20255%2C%20255%2C%200.3)'%20%2F%2F%20%E9%9D%92%E8%89%B2%E7%A7%91%E6%8A%80%E6%84%9F%E9%98%B4%E5%BD%B1%0A%7D%3B%0A%7D%20else%20if%20(!flipped)%20%7B%0A%2F%2F%20%E9%BB%98%E8%AE%A4%E7%8A%B6%E6%80%81%EF%BC%9A%E5%BE%AE%E5%A6%99%E7%9A%84%E5%91%BC%E5%90%B8%E5%8A%A8%E7%94%BB%0Areturn%20%7B%0Ascale%3A%20%5B1%2C%201.01%2C%201%5D%2C%20%20%20%20%2F%2F%20%E8%BD%BB%E5%BE%AE%E7%9A%84%E7%BC%A9%E6%94%BE%E5%BE%AA%E7%8E%AF%0AboxShadow%3A%20%5B%0A'0%2010px%2020px%20rgba(0%2C%200%2C%200%2C%200.1)'%2C%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%9F%BA%E7%A1%80%E9%98%B4%E5%BD%B1%0A'0%2012px%2024px%20rgba(0%2C%20255%2C%20255%2C%200.08)'%2C%20%20%20%20%20%20%2F%2F%20%E8%BD%BB%E5%BE%AE%E5%8F%91%E5%85%89%0A'0%2010px%2020px%20rgba(0%2C%200%2C%200%2C%200.1)'%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%9B%9E%E5%88%B0%E5%9F%BA%E7%A1%80%0A%5D%0A%7D%3B%0A%7D%20else%20%7B%0A%2F%2F%20%E7%BF%BB%E8%BD%AC%E7%8A%B6%E6%80%81%EF%BC%9A%E9%9D%99%E6%80%81%E6%98%BE%E7%A4%BA%0Areturn%20%7B%0Ascale%3A%201%2C%0AboxShadow%3A%20'0%2010px%2020px%20rgba(0%2C%200%2C%200%2C%200.1)'%0A%7D%3B%0A%7D%0A%7D%3B%0A%2F**%0A*%20%E5%8A%A8%E7%94%BB%E8%BF%87%E6%B8%A1%E6%95%88%E6%9E%9C%E9%85%8D%E7%BD%AE%0A*%20%E4%B8%BA%E4%B8%8D%E5%90%8C%E7%8A%B6%E6%80%81%E9%85%8D%E7%BD%AE%E5%90%88%E9%80%82%E7%9A%84%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB%0A*%2F%0Aconst%20getAnimationTransition%20%3D%20()%20%3D%3E%20%7B%0Aif%20(hovered)%20%7B%0A%2F%2F%20%E6%82%AC%E5%81%9C%EF%BC%9A%E5%BC%B9%E7%B0%A7%E7%89%A9%E7%90%86%E5%8A%A8%E7%94%BB%EF%BC%8C%E8%87%AA%E7%84%B6%E7%9A%84%E5%BC%B9%E6%80%A7%E6%84%9F%0Areturn%20%7B%0Atype%3A%20%22spring%22%20as%20const%2C%0Adamping%3A%2020%2C%20%20%20%20%20%20%2F%2F%20%E9%98%BB%E5%B0%BC%E7%B3%BB%E6%95%B0%0Astiffness%3A%20300%20%20%20%20%2F%2F%20%E5%88%9A%E5%BA%A6%E7%B3%BB%E6%95%B0%0A%7D%3B%0A%7D%20else%20if%20(!flipped)%20%7B%0A%2F%2F%20%E5%91%BC%E5%90%B8%E5%8A%A8%E7%94%BB%EF%BC%9A%E6%85%A2%E9%80%9F%E5%BE%AA%E7%8E%AF%EF%BC%8C%E5%87%A0%E4%B9%8E%E5%AF%9F%E8%A7%89%E4%B8%8D%E5%88%B0%0Areturn%20%7B%0Aduration%3A%204%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%204%E7%A7%92%E5%91%A8%E6%9C%9F%0Arepeat%3A%20Infinity%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF%0Aease%3A%20%22easeInOut%22%20as%20const%20%20%20%20%20%20%2F%2F%20%E8%87%AA%E7%84%B6%E7%9A%84%E5%8A%A0%E5%87%8F%E9%80%9F%0A%7D%3B%0A%7D%20else%20%7B%0Areturn%20undefined%3B%0A%7D%0A%7D%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20CSS%E6%A0%B7%E5%BC%8F%E5%AF%B9%E8%B1%A1%E5%AE%9A%E4%B9%89%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F**%0A*%20%E5%8D%A1%E7%89%87%E5%AE%B9%E5%99%A8%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A0%B7%E5%BC%8F%0A*%20%E6%8E%A7%E5%88%B6%E5%8D%A1%E7%89%87%E5%9C%A83D%E7%A9%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%92%8C%E5%B1%82%E7%BA%A7%0A*%2F%0Aconst%20cardStyle%3A%20React.CSSProperties%20%3D%20%7B%0Aposition%3A%20'absolute'%2C%0Aleft%3A%20'50%25'%2C%0Atop%3A%20'50%25'%2C%0Awidth%3A%20'300px'%2C%0Aheight%3A%20'420px'%2C%0AmarginLeft%3A%20'-150px'%2C%20%20%20%20%2F%2F%20%E5%B1%85%E4%B8%AD%E5%AF%B9%E9%BD%90%0AmarginTop%3A%20'-210px'%2C%20%20%20%20%20%2F%2F%20%E5%B1%85%E4%B8%AD%E5%AF%B9%E9%BD%90%0A%2F%2F%20%E6%A0%B8%E5%BF%833D%E5%8F%98%E6%8D%A2%EF%BC%9A%E4%BD%8D%E7%BD%AE%20%2B%20%E7%BC%A9%E6%94%BE%20%2B%20%E6%8A%98%E5%8F%A0%E6%95%88%E6%9E%9C%0Atransform%3A%20%60translate3d(%24%7Bposition.x%7Dpx%2C%20%24%7Bposition.y%7Dpx%2C%20%24%7Bposition.z%7Dpx)%20scale(%24%7Bposition.scale%7D)%20%24%7BgetFoldedTransform()%7D%60%2C%0AtransformStyle%3A%20'preserve-3d'%2C%20%20%2F%2F%20%E4%BF%9D%E6%8C%813D%E4%B8%8A%E4%B8%8B%E6%96%87%0Aperspective%3A%20'1000px'%2C%20%20%20%20%20%20%20%20%20%20%2F%2F%203D%E9%80%8F%E8%A7%86%E8%B7%9D%E7%A6%BB%0Aopacity%3A%20position.opacity%2C%0A%2F%2F%20%E6%99%BA%E8%83%BD%E8%BF%87%E6%B8%A1%E6%95%88%E6%9E%9C%0Atransition%3A%20mode%20%3D%3D%3D%20'folded'%0A%3F%20'transform%200.5s%20ease%2C%20opacity%200.5s%20ease'%20%20%2F%2F%20%E6%8A%98%E5%8F%A0%E6%A8%A1%E5%BC%8F%EF%BC%9A%E5%B9%B3%E6%BB%91%E5%88%87%E6%8D%A2%0A%3A%20hovered%0A%3F%20'transform%200.1s%20ease-out'%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%82%AC%E5%81%9C%EF%BC%9A%E5%BF%AB%E9%80%9F%E5%93%8D%E5%BA%94%0A%3A%20'transform%200.6s%20ease'%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%EF%BC%9A%E4%BC%98%E9%9B%85%E8%BF%87%E6%B8%A1%0Acursor%3A%20'pointer'%2C%0A%2F%2F%20%E6%99%BA%E8%83%BD%E5%B1%82%E7%BA%A7%E7%AE%A1%E7%90%86%0AzIndex%3A%20mode%20%3D%3D%3D%20'folded'%0A%3F%20(index%20%3D%3D%3D%20activeIndex%20%3F%2010%20%3A%20total%20-%20Math.abs(index%20-%20activeIndex))%20%20%2F%2F%20%E6%8A%98%E5%8F%A0%EF%BC%9A%E5%9F%BA%E4%BA%8E%E8%B7%9D%E7%A6%BB%0A%3A%20(hovered%20%3F%2010%20%3A%20index)%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%B9%B3%E9%93%BA%EF%BC%9A%E6%82%AC%E5%81%9C%E4%BC%98%E5%85%88%0A%7D%3B%0A%2F**%0A*%20%E5%8D%A1%E7%89%87%E5%86%85%E5%AE%B9%E5%AE%B9%E5%99%A8%E6%A0%B7%E5%BC%8F%0A*%20%E6%8E%A7%E5%88%B6%E7%BF%BB%E8%BD%AC%E5%8A%A8%E7%94%BB%E5%92%8C3D%E6%95%88%E6%9E%9C%0A*%2F%0Aconst%20cardContainerStyle%3A%20React.CSSProperties%20%3D%20%7B%0Awidth%3A%20'100%25'%2C%0Aheight%3A%20'100%25'%2C%0Aposition%3A%20'relative'%2C%0AtransformStyle%3A%20'preserve-3d'%2C%0A%2F%2F%20%E6%A0%B8%E5%BF%83%E7%BF%BB%E8%BD%AC%E9%80%BB%E8%BE%91%EF%BC%9A%E7%BF%BB%E8%BD%AC%E7%8A%B6%E6%80%81%E5%86%B3%E5%AE%9A%E5%8F%98%E6%8D%A2%E6%96%B9%E5%BC%8F%0Atransform%3A%20flipped%20%3F%20'rotateY(180deg)'%20%3A%20transform%2C%0A%2F%2F%20%E6%99%BA%E8%83%BD%E8%BF%87%E6%B8%A1%EF%BC%9A%E7%BF%BB%E8%BD%AC%E5%92%8C%E5%80%BE%E6%96%9C%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E5%8A%A8%E7%94%BB%E6%97%B6%E9%95%BF%0Atransition%3A%20flipped%20%3F%20'transform%200.6s%20ease'%20%3A%20'transform%200.4s%20ease-out'%2C%0A%7D%3B%0A%2F**%0A*%20%E5%8D%A1%E7%89%87%E6%AD%A3%E9%9D%A2%E6%A0%B7%E5%BC%8F%0A*%2F%0Aconst%20cardFaceStyle%3A%20React.CSSProperties%20%3D%20%7B%0Awidth%3A%20'100%25'%2C%0Aheight%3A%20'100%25'%2C%0Aposition%3A%20'absolute'%2C%0Atop%3A%200%2C%0Aleft%3A%200%2C%0AbackfaceVisibility%3A%20'hidden'%2C%20%20%2F%2F%20%E9%9A%90%E8%97%8F%E8%83%8C%E9%9D%A2%EF%BC%8C%E9%98%B2%E6%AD%A2%E9%80%8F%E8%A7%86%E7%A9%BF%E5%B8%AE%0AborderRadius%3A%20'12px'%2C%0Aoverflow%3A%20'hidden'%2C%0A%7D%3B%0A%2F**%0A*%20%E5%8D%A1%E7%89%87%E8%83%8C%E9%9D%A2%E6%A0%B7%E5%BC%8F%0A*%20%E9%A2%84%E5%85%88%E6%97%8B%E8%BD%AC180%E5%BA%A6%EF%BC%8C%E9%85%8D%E5%90%88%E5%AE%B9%E5%99%A8%E6%97%8B%E8%BD%AC%E5%AE%9E%E7%8E%B0%E7%BF%BB%E8%BD%AC%E6%95%88%E6%9E%9C%0A*%2F%0Aconst%20cardBackStyle%3A%20React.CSSProperties%20%3D%20%7B%0A...cardFaceStyle%2C%0Atransform%3A%20'rotateY(180deg)'%2C%20%20%2F%2F%20%E9%A2%84%E6%97%8B%E8%BD%AC%EF%BC%8C%E7%A1%AE%E4%BF%9D%E7%BF%BB%E8%BD%AC%E6%97%B6%E5%86%85%E5%AE%B9%E6%AD%A3%E5%90%91%E6%98%BE%E7%A4%BA%0A%7D%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20JSX%E6%B8%B2%E6%9F%93%E7%BB%93%E6%9E%84%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Areturn%20(%0Adiv%20style%3D%7BcardStyle%7D%3E%0Adiv%0Aref%3D%7BcardRef%7D%0Astyle%3D%7BcardContainerStyle%7D%0AonMouseMove%3D%7BhandleMouseMove%7D%0AonMouseEnter%3D%7BhandleMouseEnter%7D%0AonMouseLeave%3D%7BhandleMouseLeave%7D%0AonClick%3D%7BhandleClick%7D%0A%3E%0A%7B%2F*%20%E5%8D%A1%E7%89%87%E6%AD%A3%E9%9D%A2%20*%2F%7D%0Amotion.div%0Astyle%3D%7BcardFaceStyle%7D%0AclassName%3D%22bg-gradient-to-br%20from-background%2F90%20to-surface%2F90%20backdrop-blur-sm%20border%20border-primary%2F20%20shadow-xl%22%0Ainitial%3D%7B%7B%0Aopacity%3A%200%2C%0Ascale%3A%200.8%2C%0Ay%3A%2050%2C%0ArotateX%3A%20-15%0A%7D%7D%0Aanimate%3D%7BhasInitialized%20%3F%20%7B%0Aopacity%3A%201%2C%0Ay%3A%200%2C%0ArotateX%3A%200%2C%0A...getAnimationProps()%0A%7D%20%3A%20%7B%0Aopacity%3A%200%2C%0Ascale%3A%200.8%2C%0Ay%3A%2050%2C%0ArotateX%3A%20-15%0A%7D%7D%0Atransition%3D%7BhasInitialized%20%3F%20%7B%0A...getAnimationTransition()%2C%0Aopacity%3A%20%7B%20duration%3A%200.6%2C%20ease%3A%20%22easeOut%22%20%7D%2C%0Ay%3A%20%7B%20duration%3A%200.8%2C%20ease%3A%20%22easeOut%22%20%7D%2C%0ArotateX%3A%20%7B%20duration%3A%200.8%2C%20ease%3A%20%22easeOut%22%20%7D%0A%7D%20%3A%20%7B%0Aduration%3A%200.6%2C%0Aease%3A%20%22easeOut%22%0A%7D%7D%0A%3E%0A%7B%2F*%20%E6%AD%A3%E9%9D%A2%E5%86%85%E5%AE%B9%E7%BB%93%E6%9E%84%20*%2F%7D%0Adiv%20className%3D%22w-full%20h-full%20p-6%20flex%20gap-4%20flex-col%20justify-items-center%22%3E%0A%7B%2F*%20%E9%A1%B9%E7%9B%AE%E9%A2%84%E8%A7%88%E5%8C%BA%E5%9F%9F%20*%2F%7D%0Adiv%20className%3D%22h-40%20bg-gradient-to-br%20from-primary%2F20%20to-accent%2F20%20rounded-lg%20flex%20items-center%20justify-center%20relative%20overflow-hidden%22%3E%0A%7Bwork.image%20%3F%20(%0Aimg%0Asrc%3D%7Bwork.image%7D%0Aalt%3D%7Bwork.title%7D%0AclassName%3D%22w-full%20h-full%20object-cover%20rounded-lg%22%0A%2F%3E%0A)%20%3A%20(%0Adiv%20className%3D%22text-center%22%3E%0Adiv%20className%3D%22text-primary%2F60%20text-4xl%20mb-2%22%3E%F0%9F%9A%80div%3E%0Aspan%20className%3D%22text-foreground%2F60%20text-sm%22%3E%7Bt('project.projectPreview')%7Dspan%3E%0Adiv%3E%0A)%7D%0A%7B%2F*%20%E7%89%B9%E6%AE%8A%E6%A0%87%E8%AE%B0%E6%A0%87%E7%AD%BE%20*%2F%7D%0Adiv%20className%3D%22absolute%20top-2%20right-2%20flex%20gap-1%22%3E%0A%7Bwork.accessible%20%26%26%20(%0Adiv%20className%3D%22bg-green-500%20text-white%20text-xs%20px-2%20py-1%20rounded-full%22%3E%0A%7Bt('project.accessible')%7D%0Adiv%3E%0A)%7D%0A%7Bwork.tool%20%26%26%20(%0Adiv%20className%3D%22bg-blue-500%20text-white%20text-xs%20px-2%20py-1%20rounded-full%22%3E%0A%7Bt('project.tool')%7D%0Adiv%3E%0A)%7D%0Adiv%3E%0Adiv%3E%0A%7B%2F*%20%E9%A1%B9%E7%9B%AE%E6%A0%87%E9%A2%98%20*%2F%7D%0Ah3%20className%3D%22text-xl%20font-bold%20text-foreground%20line-clamp-2%22%3E%0A%7Bwork.title%7D%0Ah3%3E%0A%7B%2F*%20%E9%A1%B9%E7%9B%AE%E6%8F%8F%E8%BF%B0%20*%2F%7D%0Ap%20className%3D%22text-foreground%2F80%20text-sm%20line-clamp-3%20flex-1%22%3E%0A%7Bwork.description%7D%0Ap%3E%0A%7B%2F*%20%E6%8A%80%E6%9C%AF%E6%A0%87%E7%AD%BE%EF%BC%88%E4%BB%85%E6%98%BE%E7%A4%BA%E5%89%8D3%E4%B8%AA%EF%BC%89%20*%2F%7D%0Adiv%20className%3D%22flex%20flex-wrap%20gap-2%22%3E%0A%7Bwork.tags.slice(0%2C%203).map((tag)%20%3D%3E%20(%0Aspan%0Akey%3D%7Btag%7D%0AclassName%3D%22px-2%20py-1%20bg-primary%2F20%20text-primary%20text-xs%20rounded-full%22%0A%3E%0A%7Btag%7D%0Aspan%3E%0A))%7D%0A%7Bwork.tags.length%20%3E%203%20%26%26%20(%0Aspan%20className%3D%22text-foreground%2F60%20text-xs%22%3E%0A%2B%7Bwork.tags.length%20-%203%7D%20%7Bt('project.moreItems')%7D%0Aspan%3E%0A)%7D%0Adiv%3E%0Adiv%3E%0Amotion.div%3E%0A%7B%2F*%20%E5%8D%A1%E7%89%87%E8%83%8C%E9%9D%A2%20*%2F%7D%0Amotion.div%0Astyle%3D%7BcardBackStyle%7D%0AclassName%3D%22bg-gradient-to-br%20from-secondary%2F90%20to-accent%2F90%20backdrop-blur-sm%20border%20border-secondary%2F20%20shadow-xl%22%0Ainitial%3D%7B%7Bopacity%3A%200%7D%7D%0Aanimate%3D%7B%7Bopacity%3A%20flipped%20%3F%201%20%3A%200%7D%7D%0Atransition%3D%7B%7Bdelay%3A%20flipped%20%3F%200.2%20%3A%200%7D%7D%0A%3E%0Adiv%20className%3D%22w-full%20h-full%20p-6%20flex%20flex-col%20text-white%22%3E%0Ah3%20className%3D%22text-xl%20font-bold%20mb-4%22%3E%7Bt('project.technicalDetails')%7Dh3%3E%0A%7B%2F*%20%E5%AE%8C%E6%95%B4%E6%8A%80%E6%9C%AF%E6%A0%87%E7%AD%BE%20*%2F%7D%0Adiv%20className%3D%22mb-4%22%3E%0Ah4%20className%3D%22text-sm%20font-semibold%20mb-2%22%3E%7Bt('project.technologies')%7Dh4%3E%0Adiv%20className%3D%22flex%20flex-wrap%20gap-1%22%3E%0A%7Bwork.tags.map((tag)%20%3D%3E%20(%0Aspan%0Akey%3D%7Btag%7D%0AclassName%3D%22px-2%20py-1%20bg-white%2F20%20text-white%20text-xs%20rounded-full%22%0A%3E%0A%7Btag%7D%0Aspan%3E%0A))%7D%0Adiv%3E%0Adiv%3E%0A%7B%2F*%20%E8%AF%A6%E7%BB%86%E6%8F%8F%E8%BF%B0%20*%2F%7D%0Adiv%20className%3D%22mb-4%20flex-1%22%3E%0Ah4%20className%3D%22text-sm%20font-semibold%20mb-2%22%3E%7Bt('project.description')%7Dh4%3E%0Ap%20className%3D%22text-white%2F90%20text-sm%22%3E%0A%7Bwork.description%7D%0Ap%3E%0Adiv%3E%0A%7B%2F*%20%E6%93%8D%E4%BD%9C%E6%8C%89%E9%92%AE%20*%2F%7D%0Adiv%20className%3D%22flex%20gap-2%20mt-auto%22%3E%0Amotion.button%0AwhileHover%3D%7B%7Bscale%3A%201.05%7D%7D%0AwhileTap%3D%7B%7Bscale%3A%200.95%7D%7D%0AclassName%3D%22flex-1%20py-2%20px-3%20bg-white%20text-secondary%20text-sm%20rounded-lg%20hover%3Abg-white%2F90%20transition-colors%22%0AonClick%3D%7B(e)%20%3D%3E%20%7B%0Ae.stopPropagation()%3B%0AonInteractionAction('detail')%3B%0A%7D%7D%0A%3E%0A%7Bt('project.seeDetails')%7D%0Amotion.button%3E%0A%7Bwork.githubUrl%20%26%26%20(%0Amotion.button%0AwhileHover%3D%7B%7Bscale%3A%201.05%7D%7D%0AwhileTap%3D%7B%7Bscale%3A%200.95%7D%7D%0AclassName%3D%22flex-1%20py-2%20px-3%20border%20border-white%20text-white%20text-sm%20rounded-lg%20hover%3Abg-white%2F20%20transition-colors%22%0AonClick%3D%7B(e)%20%3D%3E%20%7B%0Ae.stopPropagation()%3B%0Awindow.open(work.githubUrl%2C%20'_blank')%3B%0A%7D%7D%0A%3E%0A%7Bt('project.github')%7D%0Amotion.button%3E%0A)%7D%0Adiv%3E%0Adiv%3E%0Amotion.div%3E%0Adiv%3E%0Adiv%3E%0A)%3B%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-string inline">&#x27;use client&#x27;</span>;

<span class="hljs-keyword inline">import</span> <span class="hljs-title class_ inline">React</span>, {useRef, useState, useEffect} <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;react&#x27;</span>;
<span class="hljs-keyword inline">import</span> {motion} <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;framer-motion&#x27;</span>;
<span class="hljs-keyword inline">import</span> {useTranslation} <span class="hljs-keyword inline">from</span> <span class="hljs-string inline">&#x27;@/lib/hooks/useTranslation&#x27;</span>;

<span class="hljs-comment inline">// ============================</span>
<span class="hljs-comment inline">// 核心类型定义部分</span>
<span class="hljs-comment inline">// ============================</span>

<span class="hljs-comment inline">/**
 * 工作项目数据结构
 * 定义了每个卡片展示的完整信息模型
 */</span>
<span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">WorkItem</span> {
    <span class="hljs-attr inline">id</span>: <span class="hljs-built_in inline">string</span>;              <span class="hljs-comment inline">// 唯一标识符，React key和数据追踪</span>
    <span class="hljs-attr inline">title</span>: <span class="hljs-built_in inline">string</span>;           <span class="hljs-comment inline">// 项目标题，显示在卡片正面</span>
    <span class="hljs-attr inline">description</span>: <span class="hljs-built_in inline">string</span>;     <span class="hljs-comment inline">// 项目描述，正反面都会使用</span>
    <span class="hljs-attr inline">tags</span>: <span class="hljs-built_in inline">string</span>[];          <span class="hljs-comment inline">// 技术标签数组，正面显示前3个，背面显示全部</span>
    <span class="hljs-attr inline">image</span>?: <span class="hljs-built_in inline">string</span>;          <span class="hljs-comment inline">// 可选项目预览图</span>
    <span class="hljs-attr inline">accessUrl</span>?: <span class="hljs-built_in inline">string</span>;        <span class="hljs-comment inline">// 可选演示链接</span>
    <span class="hljs-attr inline">githubUrl</span>?: <span class="hljs-built_in inline">string</span>;      <span class="hljs-comment inline">// 可选GitHub仓库链接</span>
    <span class="hljs-attr inline">accessible</span>?: <span class="hljs-built_in inline">boolean</span>;    <span class="hljs-comment inline">// 无障碍访问支持标记</span>
    <span class="hljs-attr inline">tool</span>?: <span class="hljs-built_in inline">boolean</span>;          <span class="hljs-comment inline">// 工具类项目标记</span>
}

<span class="hljs-comment inline">/**
 * 3D卡片组件属性接口
 * 控制卡片的布局模式、状态和交互行为
 */</span>
<span class="hljs-keyword inline">interface</span> <span class="hljs-title class_ inline">WorkCard3DProps</span> {
    <span class="hljs-attr inline">work</span>: <span class="hljs-title class_ inline">WorkItem</span>;                    <span class="hljs-comment inline">// 卡片数据源</span>
    <span class="hljs-attr inline">mode</span>: <span class="hljs-string inline">&#x27;tiled&#x27;</span> | <span class="hljs-string inline">&#x27;folded&#x27;</span>;         <span class="hljs-comment inline">// 布局模式：平铺网格 vs 层叠折叠</span>
    <span class="hljs-attr inline">isActive</span>: <span class="hljs-built_in inline">boolean</span>;                <span class="hljs-comment inline">// 当前卡片是否为激活状态</span>
    <span class="hljs-attr inline">index</span>: <span class="hljs-built_in inline">number</span>;                    <span class="hljs-comment inline">// 卡片在数组中的索引位置</span>
    <span class="hljs-attr inline">total</span>: <span class="hljs-built_in inline">number</span>;                    <span class="hljs-comment inline">// 卡片总数，用于布局计算</span>
    <span class="hljs-attr inline">activeIndex</span>?: <span class="hljs-built_in inline">number</span>;             <span class="hljs-comment inline">// 当前激活卡片的索引（折叠模式）</span>
    <span class="hljs-attr inline">onInteractionAction</span>: <span class="hljs-function inline">(<span class="hljs-params inline"><span class="hljs-attr inline">type</span>: <span class="hljs-string inline">&#x27;hover&#x27;</span> | <span class="hljs-string inline">&#x27;click&#x27;</span> | <span class="hljs-string inline">&#x27;flip&#x27;</span> | <span class="hljs-string inline">&#x27;detail&#x27;</span></span>) =&gt;</span> <span class="hljs-built_in inline">void</span>; <span class="hljs-comment inline">// 交互事件回调</span>
}

<span class="hljs-comment inline">// ============================</span>
<span class="hljs-comment inline">// 主组件实现</span>
<span class="hljs-comment inline">// ============================</span>

<span class="hljs-keyword inline">export</span> <span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">WorkCard3D</span>(<span class="hljs-params inline">{
                               work,
                               mode,
                               index,
                               total,
                               activeIndex = <span class="hljs-number inline">0</span>,
                               onInteractionAction
                           }: <span class="hljs-title class_ inline">WorkCard3DProps</span></span>) {
    
    <span class="hljs-comment inline">// ============================</span>
    <span class="hljs-comment inline">// Refs和状态管理</span>
    <span class="hljs-comment inline">// ============================</span>
    
    <span class="hljs-keyword inline">const</span> cardRef = useRef&lt;<span class="hljs-title class_ inline">HTMLDivElement</span>&gt;(<span class="hljs-literal inline">null</span>);  <span class="hljs-comment inline">// 卡片DOM引用，用于鼠标位置计算</span>

    <span class="hljs-comment inline">// 核心交互状态</span>
    <span class="hljs-keyword inline">const</span> [hovered, setHovered] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);           <span class="hljs-comment inline">// 鼠标悬停状态</span>
    <span class="hljs-keyword inline">const</span> [flipped, setFlipped] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>);           <span class="hljs-comment inline">// 卡片翻转状态</span>
    <span class="hljs-keyword inline">const</span> [transform, setTransform] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-string inline">&#x27;rotateX(0deg) rotateY(0deg)&#x27;</span>); <span class="hljs-comment inline">// 3D变换字符串</span>
    <span class="hljs-keyword inline">const</span> [autoReturnTimer, setAutoReturnTimer] = useState&lt;<span class="hljs-title class_ inline">NodeJS</span>.<span class="hljs-property inline">Timeout</span> | <span class="hljs-literal inline">null</span>&gt;(<span class="hljs-literal inline">null</span>); <span class="hljs-comment inline">// 自动复位定时器</span>
    <span class="hljs-keyword inline">const</span> [hasInitialized, setHasInitialized] = <span class="hljs-title function_ inline">useState</span>(<span class="hljs-literal inline">false</span>); <span class="hljs-comment inline">// 初始化动画标记</span>
    
    <span class="hljs-keyword inline">const</span> { t } = <span class="hljs-title function_ inline">useTranslation</span>();  <span class="hljs-comment inline">// 国际化翻译钩子</span>

    <span class="hljs-comment inline">// ============================</span>
    <span class="hljs-comment inline">// 初始化和入场动画控制</span>
    <span class="hljs-comment inline">// ============================</span>
    
    <span class="hljs-comment inline">/**
     * 错落有致的入场动画效果
     * 基于卡片索引创建波浪式的延迟启动
     */</span>
    <span class="hljs-title function_ inline">useEffect</span>(<span class="hljs-function inline">() =&gt;</span> {
        <span class="hljs-keyword inline">const</span> timer = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-function inline">() =&gt;</span> {
            <span class="hljs-title function_ inline">setHasInitialized</span>(<span class="hljs-literal inline">true</span>);
        }, index * <span class="hljs-number inline">150</span>); <span class="hljs-comment inline">// 每张卡片延迟150ms，创造连锁反应效果</span>

        <span class="hljs-keyword inline">return</span> <span class="hljs-function inline">() =&gt;</span> <span class="hljs-built_in inline">clearTimeout</span>(timer);
    }, [index]);

    <span class="hljs-comment inline">// ============================</span>
    <span class="hljs-comment inline">// 核心算法：3D空间位置计算系统</span>
    <span class="hljs-comment inline">// ============================</span>
    
    <span class="hljs-comment inline">/**
     * 根据布局模式计算卡片在3D空间中的精确位置
     * 这是整个系统最核心的算法，决定了卡片的空间布局
     */</span>
    <span class="hljs-keyword inline">const</span> getCardPosition = (): { <span class="hljs-attr inline">x</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">y</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">z</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">opacity</span>: <span class="hljs-built_in inline">number</span>, <span class="hljs-attr inline">scale</span>: <span class="hljs-built_in inline">number</span> } =&gt; {
        <span class="hljs-keyword inline">if</span> (mode === <span class="hljs-string inline">&#x27;folded&#x27;</span>) {
            <span class="hljs-comment inline">// ============= 折叠模式：层叠堆栈算法 =============</span>
            <span class="hljs-keyword inline">const</span> isActiveCard = index === activeIndex;
            <span class="hljs-keyword inline">const</span> relativeIndex = index - activeIndex; <span class="hljs-comment inline">// 相对于激活卡片的索引差</span>

            <span class="hljs-keyword inline">if</span> (isActiveCard) {
                <span class="hljs-comment inline">// 激活卡片：位于最前方中心位置</span>
                <span class="hljs-keyword inline">return</span> {<span class="hljs-attr inline">x</span>: <span class="hljs-number inline">0</span>, <span class="hljs-attr inline">y</span>: <span class="hljs-number inline">0</span>, <span class="hljs-attr inline">z</span>: <span class="hljs-number inline">0</span>, <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">1</span>, <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">1</span>};
            } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) &lt;= <span class="hljs-number inline">2</span>) {
                <span class="hljs-comment inline">// 相邻卡片：形成可见的层叠效果</span>
                <span class="hljs-keyword inline">const</span> horizontalOffset = relativeIndex * <span class="hljs-number inline">2</span>;     <span class="hljs-comment inline">// 水平错位：营造厚度感</span>
                <span class="hljs-keyword inline">const</span> verticalOffset = -<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">8</span>;  <span class="hljs-comment inline">// 垂直偏移：模拟卡片厚度</span>
                <span class="hljs-keyword inline">const</span> depth = -<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">15</span>;          <span class="hljs-comment inline">// 深度层次：远近分明</span>
                <span class="hljs-keyword inline">const</span> scale = <span class="hljs-number inline">1</span> - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">0.03</span>;     <span class="hljs-comment inline">// 尺寸递减：透视效果</span>
                
                <span class="hljs-keyword inline">return</span> {
                    <span class="hljs-attr inline">x</span>: horizontalOffset,
                    <span class="hljs-attr inline">y</span>: verticalOffset,
                    <span class="hljs-attr inline">z</span>: depth,
                    <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">1</span> - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">0.15</span>,      <span class="hljs-comment inline">// 透明度递减</span>
                    scale
                };
            } <span class="hljs-keyword inline">else</span> {
                <span class="hljs-comment inline">// 远距离卡片：隐藏在侧边，优化性能</span>
                <span class="hljs-keyword inline">const</span> side = relativeIndex &gt; <span class="hljs-number inline">0</span> ? <span class="hljs-number inline">1</span> : -<span class="hljs-number inline">1</span>;
                <span class="hljs-keyword inline">return</span> {
                    <span class="hljs-attr inline">x</span>: side * <span class="hljs-number inline">200</span>,  <span class="hljs-comment inline">// 左右分散隐藏</span>
                    <span class="hljs-attr inline">y</span>: <span class="hljs-number inline">0</span>,
                    <span class="hljs-attr inline">z</span>: -<span class="hljs-number inline">100</span>,        <span class="hljs-comment inline">// 推到后方</span>
                    <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">0</span>,     <span class="hljs-comment inline">// 完全透明</span>
                    <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">0.8</span>
                };
            }
        } <span class="hljs-keyword inline">else</span> {
            <span class="hljs-comment inline">// ============= 平铺模式：智能网格布局算法 =============</span>
            <span class="hljs-keyword inline">const</span> cols = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">ceil</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sqrt</span>(total));  <span class="hljs-comment inline">// 计算最优列数（接近正方形）</span>
            <span class="hljs-keyword inline">const</span> row = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(index / cols);       <span class="hljs-comment inline">// 计算行号</span>
            <span class="hljs-keyword inline">const</span> col = index % cols;                   <span class="hljs-comment inline">// 计算列号</span>
            
            <span class="hljs-comment inline">// 间距配置</span>
            <span class="hljs-keyword inline">const</span> widthSpacing = <span class="hljs-number inline">320</span>;   <span class="hljs-comment inline">// 卡片宽度 + 间隙</span>
            <span class="hljs-keyword inline">const</span> heightSpacing = <span class="hljs-number inline">440</span>;  <span class="hljs-comment inline">// 卡片高度 + 间隙</span>
            
            <span class="hljs-comment inline">// 居中对齐的数学计算</span>
            <span class="hljs-keyword inline">return</span> {
                <span class="hljs-attr inline">x</span>: (col - (cols - <span class="hljs-number inline">1</span>) / <span class="hljs-number inline">2</span>) * widthSpacing,     <span class="hljs-comment inline">// 水平居中</span>
                <span class="hljs-attr inline">y</span>: (row - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>((total - <span class="hljs-number inline">1</span>) / cols) / <span class="hljs-number inline">2</span>) * heightSpacing, <span class="hljs-comment inline">// 垂直居中</span>
                <span class="hljs-attr inline">z</span>: <span class="hljs-number inline">0</span>,           <span class="hljs-comment inline">// 平面布局，无深度差异</span>
                <span class="hljs-attr inline">opacity</span>: <span class="hljs-number inline">1</span>,     <span class="hljs-comment inline">// 全部可见</span>
                <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">1</span>        <span class="hljs-comment inline">// 统一尺寸</span>
            };
        }
    };

    <span class="hljs-comment inline">// ============================</span>
    <span class="hljs-comment inline">// 鼠标跟踪倾斜算法</span>
    <span class="hljs-comment inline">// ============================</span>
    
    <span class="hljs-comment inline">/**
     * 实时鼠标位置追踪和3D倾斜计算
     * 将2D鼠标坐标转换为3D旋转角度
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleMouseMove</span> = (<span class="hljs-params inline"><span class="hljs-attr inline">e</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-title class_ inline">MouseEvent</span>&lt;<span class="hljs-title class_ inline">HTMLDivElement</span>&gt;</span>) =&gt; {
        <span class="hljs-comment inline">// 安全检查：只在特定条件下启用倾斜效果</span>
        <span class="hljs-keyword inline">if</span> (!cardRef.<span class="hljs-property inline">current</span> || !hovered || mode === <span class="hljs-string inline">&#x27;folded&#x27;</span>) <span class="hljs-keyword inline">return</span>;

        <span class="hljs-comment inline">// 获取卡片的精确边界信息</span>
        <span class="hljs-keyword inline">const</span> rect = cardRef.<span class="hljs-property inline">current</span>.<span class="hljs-title function_ inline">getBoundingClientRect</span>();
        <span class="hljs-keyword inline">const</span> centerX = rect.<span class="hljs-property inline">left</span> + rect.<span class="hljs-property inline">width</span> / <span class="hljs-number inline">2</span>;   <span class="hljs-comment inline">// 卡片中心X坐标</span>
        <span class="hljs-keyword inline">const</span> centerY = rect.<span class="hljs-property inline">top</span> + rect.<span class="hljs-property inline">height</span> / <span class="hljs-number inline">2</span>;   <span class="hljs-comment inline">// 卡片中心Y坐标</span>

        <span class="hljs-comment inline">// 计算鼠标相对于卡片中心的偏移量（归一化到-0.5到0.5）</span>
        <span class="hljs-keyword inline">const</span> offsetX = (e.<span class="hljs-property inline">clientX</span> - centerX) / rect.<span class="hljs-property inline">width</span>;
        <span class="hljs-keyword inline">const</span> offsetY = (e.<span class="hljs-property inline">clientY</span> - centerY) / rect.<span class="hljs-property inline">height</span>;

        <span class="hljs-comment inline">// 将偏移量转换为旋转角度（-15°到+15°）</span>
        <span class="hljs-keyword inline">const</span> rotateX = -offsetY * <span class="hljs-number inline">15</span>; <span class="hljs-comment inline">// Y轴取反，符合直觉的倾斜方向</span>
        <span class="hljs-keyword inline">const</span> rotateY = offsetX * <span class="hljs-number inline">15</span>;

        <span class="hljs-comment inline">// 更新3D变换状态</span>
        <span class="hljs-title function_ inline">setTransform</span>(<span class="hljs-string inline">`rotateX(<span class="hljs-subst inline">${rotateX}</span>deg) rotateY(<span class="hljs-subst inline">${rotateY}</span>deg)`</span>);
    };

    <span class="hljs-comment inline">// ============================</span>
    <span class="hljs-comment inline">// 交互事件处理系统</span>
    <span class="hljs-comment inline">// ============================</span>
    
    <span class="hljs-comment inline">/**
     * 鼠标进入事件：启用悬停效果和倾斜跟踪
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleMouseEnter</span> = (<span class="hljs-params inline"></span>) =&gt; {
        <span class="hljs-title function_ inline">setHovered</span>(<span class="hljs-literal inline">true</span>);
        <span class="hljs-title function_ inline">onInteractionAction</span>(<span class="hljs-string inline">&#x27;hover&#x27;</span>);

        <span class="hljs-comment inline">// 清除自动复位定时器，防止意外重置</span>
        <span class="hljs-keyword inline">if</span> (autoReturnTimer) {
            <span class="hljs-built_in inline">clearTimeout</span>(autoReturnTimer);
            <span class="hljs-title function_ inline">setAutoReturnTimer</span>(<span class="hljs-literal inline">null</span>);
        }
    };

    <span class="hljs-comment inline">/**
     * 鼠标离开事件：启动自动复位机制
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleMouseLeave</span> = (<span class="hljs-params inline"></span>) =&gt; {
        <span class="hljs-title function_ inline">setHovered</span>(<span class="hljs-literal inline">false</span>);

        <span class="hljs-comment inline">// 启动延迟复位定时器</span>
        <span class="hljs-keyword inline">const</span> timer = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-function inline">() =&gt;</span> {
            <span class="hljs-title function_ inline">setTransform</span>(<span class="hljs-string inline">&#x27;rotateX(0deg) rotateY(0deg)&#x27;</span>); <span class="hljs-comment inline">// 重置倾斜</span>
            <span class="hljs-title function_ inline">setFlipped</span>(<span class="hljs-literal inline">false</span>);                           <span class="hljs-comment inline">// 重置翻转</span>
        }, <span class="hljs-number inline">1500</span>); <span class="hljs-comment inline">// 1.5秒延迟，给用户足够查看时间</span>

        <span class="hljs-title function_ inline">setAutoReturnTimer</span>(timer);

        <span class="hljs-comment inline">// 立即重置倾斜效果，保证视觉连贯性</span>
        <span class="hljs-title function_ inline">setTransform</span>(<span class="hljs-string inline">&#x27;rotateX(0deg) rotateY(0deg)&#x27;</span>);
    };

    <span class="hljs-comment inline">/**
     * 点击事件：触发卡片翻转
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">handleClick</span> = (<span class="hljs-params inline"></span>) =&gt; {
        <span class="hljs-title function_ inline">setFlipped</span>(!flipped);  <span class="hljs-comment inline">// 切换翻转状态</span>
        <span class="hljs-title function_ inline">onInteractionAction</span>(<span class="hljs-string inline">&#x27;flip&#x27;</span>);
    };

    <span class="hljs-comment inline">// ============================</span>
    <span class="hljs-comment inline">// 样式和动画计算系统</span>
    <span class="hljs-comment inline">// ============================</span>
    
    <span class="hljs-keyword inline">const</span> position = <span class="hljs-title function_ inline">getCardPosition</span>(); <span class="hljs-comment inline">// 获取当前位置参数</span>

    <span class="hljs-comment inline">/**
     * 折叠模式的扇形展开效果
     * 在悬停时创建扇形排列，增强层次感
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getFoldedTransform</span> = (<span class="hljs-params inline"></span>) =&gt; {
        <span class="hljs-keyword inline">if</span> (mode !== <span class="hljs-string inline">&#x27;folded&#x27;</span>) <span class="hljs-keyword inline">return</span> <span class="hljs-string inline">&#x27;&#x27;</span>;
        
        <span class="hljs-comment inline">// 基础的微妙旋转，让堆叠看起来更自然</span>
        <span class="hljs-keyword inline">const</span> baseAngle = (index - activeIndex) * <span class="hljs-number inline">0.5</span>;
        
        <span class="hljs-keyword inline">if</span> (hovered &amp;&amp; index !== activeIndex) {
            <span class="hljs-comment inline">// 悬停时的扇形展开效果</span>
            <span class="hljs-keyword inline">const</span> fanAngle = (index - activeIndex) * <span class="hljs-number inline">4</span>; <span class="hljs-comment inline">// 扇形角度</span>
            <span class="hljs-keyword inline">const</span> translateX = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(fanAngle * <span class="hljs-title class_ inline">Math</span>.<span class="hljs-property inline">PI</span> / <span class="hljs-number inline">180</span>) * <span class="hljs-number inline">12</span>; <span class="hljs-comment inline">// 水平散开距离</span>
            <span class="hljs-keyword inline">return</span> <span class="hljs-string inline">`rotateZ(<span class="hljs-subst inline">${fanAngle}</span>deg) translateX(<span class="hljs-subst inline">${translateX}</span>px)`</span>;
        }
        
        <span class="hljs-comment inline">// 默认的微妙基础旋转</span>
        <span class="hljs-keyword inline">return</span> <span class="hljs-string inline">`rotateZ(<span class="hljs-subst inline">${baseAngle}</span>deg)`</span>;
    };

    <span class="hljs-comment inline">/**
     * 动态动画属性计算
     * 根据当前状态返回相应的动画效果
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getAnimationProps</span> = (<span class="hljs-params inline"></span>) =&gt; {
        <span class="hljs-keyword inline">if</span> (hovered) {
            <span class="hljs-comment inline">// 悬停状态：放大和发光效果</span>
            <span class="hljs-keyword inline">return</span> {
                <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">1.02</span>,
                <span class="hljs-attr inline">boxShadow</span>: <span class="hljs-string inline">&#x27;0 20px 40px rgba(0, 255, 255, 0.3)&#x27;</span> <span class="hljs-comment inline">// 青色科技感阴影</span>
            };
        } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (!flipped) {
            <span class="hljs-comment inline">// 默认状态：微妙的呼吸动画</span>
            <span class="hljs-keyword inline">return</span> {
                <span class="hljs-attr inline">scale</span>: [<span class="hljs-number inline">1</span>, <span class="hljs-number inline">1.01</span>, <span class="hljs-number inline">1</span>],    <span class="hljs-comment inline">// 轻微的缩放循环</span>
                <span class="hljs-attr inline">boxShadow</span>: [
                    <span class="hljs-string inline">&#x27;0 10px 20px rgba(0, 0, 0, 0.1)&#x27;</span>,           <span class="hljs-comment inline">// 基础阴影</span>
                    <span class="hljs-string inline">&#x27;0 12px 24px rgba(0, 255, 255, 0.08)&#x27;</span>,      <span class="hljs-comment inline">// 轻微发光</span>
                    <span class="hljs-string inline">&#x27;0 10px 20px rgba(0, 0, 0, 0.1)&#x27;</span>            <span class="hljs-comment inline">// 回到基础</span>
                ]
            };
        } <span class="hljs-keyword inline">else</span> {
            <span class="hljs-comment inline">// 翻转状态：静态显示</span>
            <span class="hljs-keyword inline">return</span> {
                <span class="hljs-attr inline">scale</span>: <span class="hljs-number inline">1</span>,
                <span class="hljs-attr inline">boxShadow</span>: <span class="hljs-string inline">&#x27;0 10px 20px rgba(0, 0, 0, 0.1)&#x27;</span>
            };
        }
    };

    <span class="hljs-comment inline">/**
     * 动画过渡效果配置
     * 为不同状态配置合适的过渡动画
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-title function_ inline">getAnimationTransition</span> = (<span class="hljs-params inline"></span>) =&gt; {
        <span class="hljs-keyword inline">if</span> (hovered) {
            <span class="hljs-comment inline">// 悬停：弹簧物理动画，自然的弹性感</span>
            <span class="hljs-keyword inline">return</span> {
                <span class="hljs-attr inline">type</span>: <span class="hljs-string inline">&quot;spring&quot;</span> <span class="hljs-keyword inline">as</span> <span class="hljs-keyword inline">const</span>,
                <span class="hljs-attr inline">damping</span>: <span class="hljs-number inline">20</span>,      <span class="hljs-comment inline">// 阻尼系数</span>
                <span class="hljs-attr inline">stiffness</span>: <span class="hljs-number inline">300</span>    <span class="hljs-comment inline">// 刚度系数</span>
            };
        } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (!flipped) {
            <span class="hljs-comment inline">// 呼吸动画：慢速循环，几乎察觉不到</span>
            <span class="hljs-keyword inline">return</span> {
                <span class="hljs-attr inline">duration</span>: <span class="hljs-number inline">4</span>,                    <span class="hljs-comment inline">// 4秒周期</span>
                <span class="hljs-attr inline">repeat</span>: <span class="hljs-title class_ inline">Infinity</span>,               <span class="hljs-comment inline">// 无限循环</span>
                <span class="hljs-attr inline">ease</span>: <span class="hljs-string inline">&quot;easeInOut&quot;</span> <span class="hljs-keyword inline">as</span> <span class="hljs-keyword inline">const</span>      <span class="hljs-comment inline">// 自然的加减速</span>
            };
        } <span class="hljs-keyword inline">else</span> {
            <span class="hljs-keyword inline">return</span> <span class="hljs-literal inline">undefined</span>;
        }
    };

    <span class="hljs-comment inline">// ============================</span>
    <span class="hljs-comment inline">// CSS样式对象定义</span>
    <span class="hljs-comment inline">// ============================</span>
    
    <span class="hljs-comment inline">/**
     * 卡片容器的基础样式
     * 控制卡片在3D空间中的位置和层级
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-attr inline">cardStyle</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-property inline">CSSProperties</span> = {
        <span class="hljs-attr inline">position</span>: <span class="hljs-string inline">&#x27;absolute&#x27;</span>,
        <span class="hljs-attr inline">left</span>: <span class="hljs-string inline">&#x27;50%&#x27;</span>,
        <span class="hljs-attr inline">top</span>: <span class="hljs-string inline">&#x27;50%&#x27;</span>,
        <span class="hljs-attr inline">width</span>: <span class="hljs-string inline">&#x27;300px&#x27;</span>,
        <span class="hljs-attr inline">height</span>: <span class="hljs-string inline">&#x27;420px&#x27;</span>,
        <span class="hljs-attr inline">marginLeft</span>: <span class="hljs-string inline">&#x27;-150px&#x27;</span>,    <span class="hljs-comment inline">// 居中对齐</span>
        <span class="hljs-attr inline">marginTop</span>: <span class="hljs-string inline">&#x27;-210px&#x27;</span>,     <span class="hljs-comment inline">// 居中对齐</span>
        <span class="hljs-comment inline">// 核心3D变换：位置 + 缩放 + 折叠效果</span>
        <span class="hljs-attr inline">transform</span>: <span class="hljs-string inline">`translate3d(<span class="hljs-subst inline">${position.x}</span>px, <span class="hljs-subst inline">${position.y}</span>px, <span class="hljs-subst inline">${position.z}</span>px) scale(<span class="hljs-subst inline">${position.scale}</span>) <span class="hljs-subst inline">${getFoldedTransform()}</span>`</span>,
        <span class="hljs-attr inline">transformStyle</span>: <span class="hljs-string inline">&#x27;preserve-3d&#x27;</span>,  <span class="hljs-comment inline">// 保持3D上下文</span>
        <span class="hljs-attr inline">perspective</span>: <span class="hljs-string inline">&#x27;1000px&#x27;</span>,          <span class="hljs-comment inline">// 3D透视距离</span>
        <span class="hljs-attr inline">opacity</span>: position.<span class="hljs-property inline">opacity</span>,
        <span class="hljs-comment inline">// 智能过渡效果</span>
        <span class="hljs-attr inline">transition</span>: mode === <span class="hljs-string inline">&#x27;folded&#x27;</span>
            ? <span class="hljs-string inline">&#x27;transform 0.5s ease, opacity 0.5s ease&#x27;</span>  <span class="hljs-comment inline">// 折叠模式：平滑切换</span>
            : hovered
                ? <span class="hljs-string inline">&#x27;transform 0.1s ease-out&#x27;</span>              <span class="hljs-comment inline">// 悬停：快速响应</span>
                : <span class="hljs-string inline">&#x27;transform 0.6s ease&#x27;</span>,                 <span class="hljs-comment inline">// 默认：优雅过渡</span>
        <span class="hljs-attr inline">cursor</span>: <span class="hljs-string inline">&#x27;pointer&#x27;</span>,
        <span class="hljs-comment inline">// 智能层级管理</span>
        <span class="hljs-attr inline">zIndex</span>: mode === <span class="hljs-string inline">&#x27;folded&#x27;</span>
            ? (index === activeIndex ? <span class="hljs-number inline">10</span> : total - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(index - activeIndex))  <span class="hljs-comment inline">// 折叠：基于距离</span>
            : (hovered ? <span class="hljs-number inline">10</span> : index),                                               <span class="hljs-comment inline">// 平铺：悬停优先</span>
    };

    <span class="hljs-comment inline">/**
     * 卡片内容容器样式
     * 控制翻转动画和3D效果
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-attr inline">cardContainerStyle</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-property inline">CSSProperties</span> = {
        <span class="hljs-attr inline">width</span>: <span class="hljs-string inline">&#x27;100%&#x27;</span>,
        <span class="hljs-attr inline">height</span>: <span class="hljs-string inline">&#x27;100%&#x27;</span>,
        <span class="hljs-attr inline">position</span>: <span class="hljs-string inline">&#x27;relative&#x27;</span>,
        <span class="hljs-attr inline">transformStyle</span>: <span class="hljs-string inline">&#x27;preserve-3d&#x27;</span>,
        <span class="hljs-comment inline">// 核心翻转逻辑：翻转状态决定变换方式</span>
        <span class="hljs-attr inline">transform</span>: flipped ? <span class="hljs-string inline">&#x27;rotateY(180deg)&#x27;</span> : transform,
        <span class="hljs-comment inline">// 智能过渡：翻转和倾斜使用不同的动画时长</span>
        <span class="hljs-attr inline">transition</span>: flipped ? <span class="hljs-string inline">&#x27;transform 0.6s ease&#x27;</span> : <span class="hljs-string inline">&#x27;transform 0.4s ease-out&#x27;</span>,
    };

    <span class="hljs-comment inline">/**
     * 卡片正面样式
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-attr inline">cardFaceStyle</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-property inline">CSSProperties</span> = {
        <span class="hljs-attr inline">width</span>: <span class="hljs-string inline">&#x27;100%&#x27;</span>,
        <span class="hljs-attr inline">height</span>: <span class="hljs-string inline">&#x27;100%&#x27;</span>,
        <span class="hljs-attr inline">position</span>: <span class="hljs-string inline">&#x27;absolute&#x27;</span>,
        <span class="hljs-attr inline">top</span>: <span class="hljs-number inline">0</span>,
        <span class="hljs-attr inline">left</span>: <span class="hljs-number inline">0</span>,
        <span class="hljs-attr inline">backfaceVisibility</span>: <span class="hljs-string inline">&#x27;hidden&#x27;</span>,  <span class="hljs-comment inline">// 隐藏背面，防止透视穿帮</span>
        <span class="hljs-attr inline">borderRadius</span>: <span class="hljs-string inline">&#x27;12px&#x27;</span>,
        <span class="hljs-attr inline">overflow</span>: <span class="hljs-string inline">&#x27;hidden&#x27;</span>,
    };

    <span class="hljs-comment inline">/**
     * 卡片背面样式
     * 预先旋转180度，配合容器旋转实现翻转效果
     */</span>
    <span class="hljs-keyword inline">const</span> <span class="hljs-attr inline">cardBackStyle</span>: <span class="hljs-title class_ inline">React</span>.<span class="hljs-property inline">CSSProperties</span> = {
        ...cardFaceStyle,
        <span class="hljs-attr inline">transform</span>: <span class="hljs-string inline">&#x27;rotateY(180deg)&#x27;</span>,  <span class="hljs-comment inline">// 预旋转，确保翻转时内容正向显示</span>
    };

    <span class="hljs-comment inline">// ============================</span>
    <span class="hljs-comment inline">// JSX渲染结构</span>
    <span class="hljs-comment inline">// ============================</span>
    
    <span class="hljs-keyword inline">return</span> (
        <span class="language-xml inline"><span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{cardStyle}</span>&gt;</span>
            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span>
                <span class="hljs-attr inline">ref</span>=<span class="hljs-string inline">{cardRef}</span>
                <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{cardContainerStyle}</span>
                <span class="hljs-attr inline">onMouseMove</span>=<span class="hljs-string inline">{handleMouseMove}</span>
                <span class="hljs-attr inline">onMouseEnter</span>=<span class="hljs-string inline">{handleMouseEnter}</span>
                <span class="hljs-attr inline">onMouseLeave</span>=<span class="hljs-string inline">{handleMouseLeave}</span>
                <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{handleClick}</span>
            &gt;</span>
                {/* 卡片正面 */}
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">motion.div</span>
                    <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{cardFaceStyle}</span>
                    <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;bg-gradient-to-br from-background/90 to-surface/90 backdrop-blur-sm border border-primary/20 shadow-xl&quot;</span>
                    <span class="hljs-attr inline">initial</span>=<span class="hljs-string inline">{{</span> 
                        <span class="hljs-attr inline">opacity:</span> <span class="hljs-attr inline">0</span>, 
                        <span class="hljs-attr inline">scale:</span> <span class="hljs-attr inline">0.8</span>,
                        <span class="hljs-attr inline">y:</span> <span class="hljs-attr inline">50</span>,
                        <span class="hljs-attr inline">rotateX:</span> <span class="hljs-attr inline">-15</span>
                    }}
                    <span class="hljs-attr inline">animate</span>=<span class="hljs-string inline">{hasInitialized</span> ? { 
                        <span class="hljs-attr inline">opacity:</span> <span class="hljs-attr inline">1</span>,
                        <span class="hljs-attr inline">y:</span> <span class="hljs-attr inline">0</span>,
                        <span class="hljs-attr inline">rotateX:</span> <span class="hljs-attr inline">0</span>,
                        <span class="hljs-attr inline">...getAnimationProps</span>()
                    } <span class="hljs-attr inline">:</span> {
                        <span class="hljs-attr inline">opacity:</span> <span class="hljs-attr inline">0</span>,
                        <span class="hljs-attr inline">scale:</span> <span class="hljs-attr inline">0.8</span>,
                        <span class="hljs-attr inline">y:</span> <span class="hljs-attr inline">50</span>,
                        <span class="hljs-attr inline">rotateX:</span> <span class="hljs-attr inline">-15</span>
                    }}
                    <span class="hljs-attr inline">transition</span>=<span class="hljs-string inline">{hasInitialized</span> ? {
                        <span class="hljs-attr inline">...getAnimationTransition</span>(),
                        <span class="hljs-attr inline">opacity:</span> { <span class="hljs-attr inline">duration:</span> <span class="hljs-attr inline">0.6</span>, <span class="hljs-attr inline">ease:</span> &quot;<span class="hljs-attr inline">easeOut</span>&quot; },
                        <span class="hljs-attr inline">y:</span> { <span class="hljs-attr inline">duration:</span> <span class="hljs-attr inline">0.8</span>, <span class="hljs-attr inline">ease:</span> &quot;<span class="hljs-attr inline">easeOut</span>&quot; },
                        <span class="hljs-attr inline">rotateX:</span> { <span class="hljs-attr inline">duration:</span> <span class="hljs-attr inline">0.8</span>, <span class="hljs-attr inline">ease:</span> &quot;<span class="hljs-attr inline">easeOut</span>&quot; }
                    } <span class="hljs-attr inline">:</span> {
                        <span class="hljs-attr inline">duration:</span> <span class="hljs-attr inline">0.6</span>,
                        <span class="hljs-attr inline">ease:</span> &quot;<span class="hljs-attr inline">easeOut</span>&quot;
                    }}
                &gt;</span>
                    {/* 正面内容结构 */}
                    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;w-full h-full p-6 flex gap-4 flex-col justify-items-center&quot;</span>&gt;</span>
                        {/* 项目预览区域 */}
                        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;h-40 bg-gradient-to-br from-primary/20 to-accent/20 rounded-lg flex items-center justify-center relative overflow-hidden&quot;</span>&gt;</span>
                            {work.image ? (
                                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">img</span>
                                    <span class="hljs-attr inline">src</span>=<span class="hljs-string inline">{work.image}</span>
                                    <span class="hljs-attr inline">alt</span>=<span class="hljs-string inline">{work.title}</span>
                                    <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;w-full h-full object-cover rounded-lg&quot;</span>
                                /&gt;</span>
                            ) : (
                                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-center&quot;</span>&gt;</span>
                                    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-primary/60 text-4xl mb-2&quot;</span>&gt;</span>🚀<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                                    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">span</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-foreground/60 text-sm&quot;</span>&gt;</span>{t(&#x27;project.projectPreview&#x27;)}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">span</span>&gt;</span>
                                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                            )}

                            {/* 特殊标记标签 */}
                            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;absolute top-2 right-2 flex gap-1&quot;</span>&gt;</span>
                                {work.accessible &amp;&amp; (
                                    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;bg-green-500 text-white text-xs px-2 py-1 rounded-full&quot;</span>&gt;</span>
                                        {t(&#x27;project.accessible&#x27;)}
                                    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                                )}
                                {work.tool &amp;&amp; (
                                    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;bg-blue-500 text-white text-xs px-2 py-1 rounded-full&quot;</span>&gt;</span>
                                        {t(&#x27;project.tool&#x27;)}
                                    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                                )}
                            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>

                        {/* 项目标题 */}
                        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h3</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-xl font-bold text-foreground line-clamp-2&quot;</span>&gt;</span>
                            {work.title}
                        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h3</span>&gt;</span>

                        {/* 项目描述 */}
                        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-foreground/80 text-sm line-clamp-3 flex-1&quot;</span>&gt;</span>
                            {work.description}
                        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>

                        {/* 技术标签（仅显示前3个） */}
                        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;flex flex-wrap gap-2&quot;</span>&gt;</span>
                            {work.tags.slice(0, 3).map((tag) =&gt; (
                                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">span</span>
                                    <span class="hljs-attr inline">key</span>=<span class="hljs-string inline">{tag}</span>
                                    <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;px-2 py-1 bg-primary/20 text-primary text-xs rounded-full&quot;</span>
                                &gt;</span>
                                    {tag}
                                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">span</span>&gt;</span>
                            ))}
                            {work.tags.length &gt; 3 &amp;&amp; (
                                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">span</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-foreground/60 text-xs&quot;</span>&gt;</span>
                                    +{work.tags.length - 3} {t(&#x27;project.moreItems&#x27;)}
                                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">span</span>&gt;</span>
                            )}
                        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">motion.div</span>&gt;</span>

                {/* 卡片背面 */}
                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">motion.div</span>
                    <span class="hljs-attr inline">style</span>=<span class="hljs-string inline">{cardBackStyle}</span>
                    <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;bg-gradient-to-br from-secondary/90 to-accent/90 backdrop-blur-sm border border-secondary/20 shadow-xl&quot;</span>
                    <span class="hljs-attr inline">initial</span>=<span class="hljs-string inline">{{opacity:</span> <span class="hljs-attr inline">0</span>}}
                    <span class="hljs-attr inline">animate</span>=<span class="hljs-string inline">{{opacity:</span> <span class="hljs-attr inline">flipped</span> ? <span class="hljs-attr inline">1</span> <span class="hljs-attr inline">:</span> <span class="hljs-attr inline">0</span>}}
                    <span class="hljs-attr inline">transition</span>=<span class="hljs-string inline">{{delay:</span> <span class="hljs-attr inline">flipped</span> ? <span class="hljs-attr inline">0.2</span> <span class="hljs-attr inline">:</span> <span class="hljs-attr inline">0</span>}}
                &gt;</span>
                    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;w-full h-full p-6 flex flex-col text-white&quot;</span>&gt;</span>
                        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h3</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-xl font-bold mb-4&quot;</span>&gt;</span>{t(&#x27;project.technicalDetails&#x27;)}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h3</span>&gt;</span>

                        {/* 完整技术标签 */}
                        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;mb-4&quot;</span>&gt;</span>
                            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h4</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-sm font-semibold mb-2&quot;</span>&gt;</span>{t(&#x27;project.technologies&#x27;)}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h4</span>&gt;</span>
                            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;flex flex-wrap gap-1&quot;</span>&gt;</span>
                                {work.tags.map((tag) =&gt; (
                                    <span class="hljs-tag inline">&lt;<span class="hljs-name inline">span</span>
                                        <span class="hljs-attr inline">key</span>=<span class="hljs-string inline">{tag}</span>
                                        <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;px-2 py-1 bg-white/20 text-white text-xs rounded-full&quot;</span>
                                    &gt;</span>
                                        {tag}
                                    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">span</span>&gt;</span>
                                ))}
                            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>

                        {/* 详细描述 */}
                        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;mb-4 flex-1&quot;</span>&gt;</span>
                            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">h4</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-sm font-semibold mb-2&quot;</span>&gt;</span>{t(&#x27;project.description&#x27;)}<span class="hljs-tag inline">&lt;/<span class="hljs-name inline">h4</span>&gt;</span>
                            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">p</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;text-white/90 text-sm&quot;</span>&gt;</span>
                                {work.description}
                            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">p</span>&gt;</span>
                        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>

                        {/* 操作按钮 */}
                        <span class="hljs-tag inline">&lt;<span class="hljs-name inline">div</span> <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;flex gap-2 mt-auto&quot;</span>&gt;</span>
                            <span class="hljs-tag inline">&lt;<span class="hljs-name inline">motion.button</span>
                                <span class="hljs-attr inline">whileHover</span>=<span class="hljs-string inline">{{scale:</span> <span class="hljs-attr inline">1.05</span>}}
                                <span class="hljs-attr inline">whileTap</span>=<span class="hljs-string inline">{{scale:</span> <span class="hljs-attr inline">0.95</span>}}
                                <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;flex-1 py-2 px-3 bg-white text-secondary text-sm rounded-lg hover:bg-white/90 transition-colors&quot;</span>
                                <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{(e)</span> =&gt;</span> {
                                    e.stopPropagation();
                                    onInteractionAction(&#x27;detail&#x27;);
                                }}
                            &gt;
                                {t(&#x27;project.seeDetails&#x27;)}
                            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">motion.button</span>&gt;</span>
                            {work.githubUrl &amp;&amp; (
                                <span class="hljs-tag inline">&lt;<span class="hljs-name inline">motion.button</span>
                                    <span class="hljs-attr inline">whileHover</span>=<span class="hljs-string inline">{{scale:</span> <span class="hljs-attr inline">1.05</span>}}
                                    <span class="hljs-attr inline">whileTap</span>=<span class="hljs-string inline">{{scale:</span> <span class="hljs-attr inline">0.95</span>}}
                                    <span class="hljs-attr inline">className</span>=<span class="hljs-string inline">&quot;flex-1 py-2 px-3 border border-white text-white text-sm rounded-lg hover:bg-white/20 transition-colors&quot;</span>
                                    <span class="hljs-attr inline">onClick</span>=<span class="hljs-string inline">{(e)</span> =&gt;</span> {
                                        e.stopPropagation();
                                        window.open(work.githubUrl, &#x27;_blank&#x27;);
                                    }}
                                &gt;
                                    {t(&#x27;project.github&#x27;)}
                                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">motion.button</span>&gt;</span>
                            )}
                        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                    <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
                <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">motion.div</span>&gt;</span>
            <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span>
        <span class="hljs-tag inline">&lt;/<span class="hljs-name inline">div</span>&gt;</span></span>
    );
}
</code></pre>
            </div>
        
<h3 id="系统架构流程图" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#系统架构流程图" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 系统架构流程图">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            系统架构流程图
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%0A%E2%86%93%0A%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%E2%94%82%20%20%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E9%BC%A0%E6%A0%87%E7%A7%BB%E5%8A%A8%E8%BF%BD%E8%B8%AA%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E6%82%AC%E5%81%9C%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E7%82%B9%E5%87%BB%E7%BF%BB%E8%BD%AC%E6%8E%A7%E5%88%B6%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%0A%E2%86%93%0A%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%E2%94%82%20%20%20%E7%8A%B6%E6%80%81%E6%9B%B4%E6%96%B0%E6%9C%BA%E5%88%B6%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20hovered%E7%8A%B6%E6%80%81%20%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20flipped%E7%8A%B6%E6%80%81%20%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20transform%E5%AD%97%E7%AC%A6%E4%B8%B2%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E5%AE%9A%E6%97%B6%E5%99%A8%E7%AE%A1%E7%90%86%20%20%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%0A%E2%86%93%0A%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%E2%94%82%20%20%20%E4%BD%8D%E7%BD%AE%E8%AE%A1%E7%AE%97%E5%BC%95%E6%93%8E%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E6%8A%98%E5%8F%A0%E6%A8%A1%E5%BC%8F%E7%AE%97%E6%B3%95%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E5%B9%B3%E9%93%BA%E6%A8%A1%E5%BC%8F%E7%AE%97%E6%B3%95%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%203D%E5%8F%98%E6%8D%A2%E8%AE%A1%E7%AE%97%20%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%0A%E2%86%93%0A%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%E2%94%82%20%20%20%E5%8A%A8%E7%94%BB%E6%B8%B2%E6%9F%93%E7%B3%BB%E7%BB%9F%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20Framer%20Motion%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20CSS%203D%20Transform%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E5%85%A5%E5%9C%BA%E5%8A%A8%E7%94%BB%E6%8E%A7%E5%88%B6%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E5%91%BC%E5%90%B8%E6%95%88%E6%9E%9C%E5%BE%AA%E7%8E%AF%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%0A%E2%86%93%0A%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%E2%94%82%20%20%20%E8%A7%86%E8%A7%89%E5%91%88%E7%8E%B0%E7%BB%93%E6%9E%9C%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E7%AB%8B%E4%BD%93%E5%8D%A1%E7%89%87%E6%95%88%E6%9E%9C%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E5%B9%B3%E6%BB%91%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB%20%20%20%20%20%20%20%E2%94%82%0A%E2%94%82%20%E2%80%A2%20%E5%93%8D%E5%BA%94%E5%BC%8F%E4%BA%A4%E4%BA%92%E5%8F%8D%E9%A6%88%20%20%20%20%20%E2%94%82%0A%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code>    用户交互事件
         ↓
    ┌─────────────────────┐
    │   事件处理系统       │
    │ • 鼠标移动追踪       │ 
    │ • 悬停状态管理       │
    │ • 点击翻转控制       │
    └─────────────────────┘
         ↓
    ┌─────────────────────┐
    │   状态更新机制       │
    │ • hovered状态        │
    │ • flipped状态        │  
    │ • <span class="hljs-attribute inline">transform</span>字符串    │
    │ • 定时器管理         │
    └─────────────────────┘
         ↓
    ┌─────────────────────┐
    │   位置计算引擎       │
    │ • 折叠模式算法       │
    │ • 平铺模式算法       │
    │ • <span class="hljs-number inline">3</span>D变换计算        │
    └─────────────────────┘
         ↓
    ┌─────────────────────┐
    │   动画渲染系统       │
    │ • Framer Motion     │
    │ • CSS <span class="hljs-number inline">3</span>D <span class="hljs-attribute inline">Transform</span>  │
    │ • 入场动画控制       │
    │ • 呼吸效果循环       │
    └─────────────────────┘
         ↓
    ┌─────────────────────┐
    │   视觉呈现结果       │
    │ • 立体卡片效果       │
    │ • 平滑过渡动画       │
    │ • 响应式交互反馈     │
    └─────────────────────┘
</code></pre>
            </div>
        
<h3 id="核心算法深度解析" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#核心算法深度解析" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 核心算法深度解析">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            核心算法深度解析
        </h3>
<h4 id="1-3d空间位置计算算法" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#1-3d空间位置计算算法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 1. 3D空间位置计算算法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            1. 3D空间位置计算算法
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E6%8A%98%E5%8F%A0%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%B1%82%E5%8F%A0%E5%A0%86%E6%A0%88%E7%AE%97%E6%B3%95%0Aconst%20relativeIndex%20%3D%20index%20-%20activeIndex%3B%0Aconst%20horizontalOffset%20%3D%20relativeIndex%20*%202%3B%0Aconst%20verticalOffset%20%3D%20-Math.abs(relativeIndex)%20*%208%3B%0Aconst%20depth%20%3D%20-Math.abs(relativeIndex)%20*%2015%3B%0Aconst%20scale%20%3D%201%20-%20Math.abs(relativeIndex)%20*%200.03%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 折叠模式的层叠堆栈算法</span>
<span class="hljs-keyword inline">const</span> relativeIndex = index - activeIndex;
<span class="hljs-keyword inline">const</span> horizontalOffset = relativeIndex * <span class="hljs-number inline">2</span>;
<span class="hljs-keyword inline">const</span> verticalOffset = -<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">8</span>;
<span class="hljs-keyword inline">const</span> depth = -<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">15</span>;
<span class="hljs-keyword inline">const</span> scale = <span class="hljs-number inline">1</span> - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">abs</span>(relativeIndex) * <span class="hljs-number inline">0.03</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个算法通过相对索引计算每张卡片的精确位置，创造出层叠的视觉效果。</p>
<h4 id="2-鼠标追踪倾斜算法" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#2-鼠标追踪倾斜算法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 2. 鼠标追踪倾斜算法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            2. 鼠标追踪倾斜算法
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E5%9D%90%E6%A0%87%E5%BD%92%E4%B8%80%E5%8C%96%E5%A4%84%E7%90%86%0Aconst%20offsetX%20%3D%20(e.clientX%20-%20centerX)%20%2F%20rect.width%3B%0Aconst%20offsetY%20%3D%20(e.clientY%20-%20centerY)%20%2F%20rect.height%3B%0A%2F%2F%20%E8%A7%92%E5%BA%A6%E6%98%A0%E5%B0%84%E8%BD%AC%E6%8D%A2%0Aconst%20rotateX%20%3D%20-offsetY%20*%2015%3B%0Aconst%20rotateY%20%3D%20offsetX%20*%2015%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 坐标归一化处理</span>
<span class="hljs-keyword inline">const</span> offsetX = (e.<span class="hljs-property inline">clientX</span> - centerX) / rect.<span class="hljs-property inline">width</span>;
<span class="hljs-keyword inline">const</span> offsetY = (e.<span class="hljs-property inline">clientY</span> - centerY) / rect.<span class="hljs-property inline">height</span>;

<span class="hljs-comment inline">// 角度映射转换</span>
<span class="hljs-keyword inline">const</span> rotateX = -offsetY * <span class="hljs-number inline">15</span>;
<span class="hljs-keyword inline">const</span> rotateY = offsetX * <span class="hljs-number inline">15</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">将鼠标的2D坐标转换为3D旋转角度，实现自然的倾斜跟踪效果。</p>
<h4 id="3-智能网格布局算法" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#3-智能网格布局算法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 3. 智能网格布局算法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            3. 智能网格布局算法
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E6%9C%80%E4%BC%98%E5%88%97%E6%95%B0%E8%AE%A1%E7%AE%97%0Aconst%20cols%20%3D%20Math.ceil(Math.sqrt(total))%3B%0A%2F%2F%20%E5%B1%85%E4%B8%AD%E5%AF%B9%E9%BD%90%E6%95%B0%E5%AD%A6%0Aconst%20x%20%3D%20(col%20-%20(cols%20-%201)%20%2F%202)%20*%20widthSpacing%3B%0Aconst%20y%20%3D%20(row%20-%20Math.floor((total%20-%201)%20%2F%20cols)%20%2F%202)%20*%20heightSpacing%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 最优列数计算</span>
<span class="hljs-keyword inline">const</span> cols = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">ceil</span>(<span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sqrt</span>(total));

<span class="hljs-comment inline">// 居中对齐数学</span>
<span class="hljs-keyword inline">const</span> x = (col - (cols - <span class="hljs-number inline">1</span>) / <span class="hljs-number inline">2</span>) * widthSpacing;
<span class="hljs-keyword inline">const</span> y = (row - <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>((total - <span class="hljs-number inline">1</span>) / cols) / <span class="hljs-number inline">2</span>) * heightSpacing;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">使用平方根算法创建接近正方形的网格，并通过数学计算实现完美的居中对齐。</p>
<h4 id="4-定时器级联管理" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#4-定时器级联管理" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 4. 定时器级联管理">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            4. 定时器级联管理
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E6%B8%85%E9%99%A4%E7%8E%B0%E6%9C%89%E5%AE%9A%E6%97%B6%E5%99%A8%0Aif%20(autoReturnTimer)%20%7B%0AclearTimeout(autoReturnTimer)%3B%0AsetAutoReturnTimer(null)%3B%0A%7D%0A%2F%2F%20%E5%90%AF%E5%8A%A8%E6%96%B0%E7%9A%84%E5%A4%8D%E4%BD%8D%E5%AE%9A%E6%97%B6%E5%99%A8%0Aconst%20timer%20%3D%20setTimeout(()%20%3D%3E%20%7B%0AsetTransform('rotateX(0deg)%20rotateY(0deg)')%3B%0AsetFlipped(false)%3B%0A%7D%2C%201500)%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 清除现有定时器</span>
<span class="hljs-keyword inline">if</span> (autoReturnTimer) {
    <span class="hljs-built_in inline">clearTimeout</span>(autoReturnTimer);
    <span class="hljs-title function_ inline">setAutoReturnTimer</span>(<span class="hljs-literal inline">null</span>);
}

<span class="hljs-comment inline">// 启动新的复位定时器</span>
<span class="hljs-keyword inline">const</span> timer = <span class="hljs-built_in inline">setTimeout</span>(<span class="hljs-function inline">() =&gt;</span> {
    <span class="hljs-title function_ inline">setTransform</span>(<span class="hljs-string inline">&#x27;rotateX(0deg) rotateY(0deg)&#x27;</span>);
    <span class="hljs-title function_ inline">setFlipped</span>(<span class="hljs-literal inline">false</span>);
}, <span class="hljs-number inline">1500</span>);
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">通过定时器的级联管理，确保用户交互的连贯性和状态的正确重置。</p>
<h4 id="5-扇形展开算法" class="group relative text-xl font-medium mt-4 mb-2 text-foreground leading-snug">
            <a href="#5-扇形展开算法" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 5. 扇形展开算法">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            5. 扇形展开算法
        </h4>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="typescript" data-code="%2F%2F%20%E6%89%87%E5%BD%A2%E8%A7%92%E5%BA%A6%E8%AE%A1%E7%AE%97%0Aconst%20fanAngle%20%3D%20(index%20-%20activeIndex)%20*%204%3B%0A%2F%2F%20%E6%B0%B4%E5%B9%B3%E6%95%A3%E5%BC%80%E8%B7%9D%E7%A6%BB%0Aconst%20translateX%20%3D%20Math.sin(fanAngle%20*%20Math.PI%20%2F%20180)%20*%2012%3B%0A%2F%2F%20%E7%BB%84%E5%90%88%E5%8F%98%E6%8D%A2%0Areturn%20%60rotateZ(%24%7BfanAngle%7Ddeg)%20translateX(%24%7BtranslateX%7Dpx)%60%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">typescript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-typescript"><span class="hljs-comment inline">// 扇形角度计算</span>
<span class="hljs-keyword inline">const</span> fanAngle = (index - activeIndex) * <span class="hljs-number inline">4</span>;

<span class="hljs-comment inline">// 水平散开距离</span>
<span class="hljs-keyword inline">const</span> translateX = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">sin</span>(fanAngle * <span class="hljs-title class_ inline">Math</span>.<span class="hljs-property inline">PI</span> / <span class="hljs-number inline">180</span>) * <span class="hljs-number inline">12</span>;

<span class="hljs-comment inline">// 组合变换</span>
<span class="hljs-keyword inline">return</span> <span class="hljs-string inline">`rotateZ(<span class="hljs-subst inline">${fanAngle}</span>deg) translateX(<span class="hljs-subst inline">${translateX}</span>px)`</span>;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">使用三角函数计算扇形展开的精确位置，创造优雅的层次展示效果。</p>
<h2 id="写在最后" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#写在最后" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 写在最后">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            写在最后
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">这个3D卡片系统表面上看起来只是几个卡片在空间中的摆放和旋转，但背后涉及的数学计算、状态管理、性能优化和用户体验设计，每一个环节都需要精心考虑。</p>
<p class="text-base leading-7 mb-4 text-foreground">技术的发展永远不会停止，但用户对美好体验的追求是永恒的。</p>
<p class="text-base leading-7 mb-4 text-foreground"><em class="italic text-foreground">愿你的卡片如羽毛般轻盈，如钻石般闪耀，在用户的指尖下演绎着数字世界的立体诗篇。</em> ✨</p>
d:["$","$L1d",null,{"htmlContent":"$1e","frontMatter":{"title":"3D案例卡片：从平面到立体的交互革命","description":"深度解析可折叠、可倾斜、可翻转的立体卡片系统","date":"2025-06-22","author":"MilkWind","tags":["3D","交互设计"],"references":{}},"readingTime":"40 min read","category":"personal-website","tocItems":[{"id":"3d案例卡片：从平面到立体的交互革命","text":"3D案例卡片：从平面到立体的交互革命","level":1},{"id":"组件结构与类型定义","text":"组件结构与类型定义","level":2},{"id":"数据模型设计","text":"数据模型设计","level":3},{"id":"组件props的传递","text":"组件Props的传递","level":3},{"id":"状态管理的立体世界","text":"状态管理的立体世界","level":2},{"id":"状态变量设置","text":"状态变量设置","level":3},{"id":"状态机的转换逻辑","text":"状态机的转换逻辑","level":3},{"id":"折叠与平铺：两种空间的数学诗篇","text":"折叠与平铺：两种空间的数学诗篇","level":2},{"id":"位置计算的核心算法","text":"位置计算的核心算法","level":3},{"id":"折叠模式的层叠美学","text":"折叠模式的层叠美学","level":3},{"id":"平铺模式的网格几何","text":"平铺模式的网格几何","level":3},{"id":"鼠标跟踪倾斜：从冰冷的公式到富含活力的反馈","text":"鼠标跟踪倾斜：从冰冷的公式到富含活力的反馈","level":2},{"id":"坐标转换的数学基础","text":"坐标转换的数学基础","level":3},{"id":"第一步：获取精确位置","text":"第一步：获取精确位置","level":3},{"id":"第二步：归一化处理","text":"第二步：归一化处理","level":3},{"id":"第三步：角度映射","text":"第三步：角度映射","level":3},{"id":"交互禁用的智能判断","text":"交互禁用的智能判断","level":3},{"id":"悬停与呼吸","text":"悬停与呼吸","level":2},{"id":"动态计算动画属性","text":"动态计算动画属性","level":3},{"id":"动画参数解释","text":"动画参数解释","level":3},{"id":"过渡函数","text":"过渡函数","level":3},{"id":"计时器系统：时间的艺术管理","text":"计时器系统：时间的艺术管理","level":2},{"id":"自动复位的生命周期","text":"自动复位的生命周期","level":3},{"id":"定时器管理解释","text":"定时器管理解释","level":3},{"id":"内存泄漏防护","text":"内存泄漏防护","level":3},{"id":"翻转效果：3d变换的魔法","text":"翻转效果：3D变换的魔法","level":2},{"id":"css-3d变换的核心设置","text":"CSS 3D变换的核心设置","level":3},{"id":"3d变换的关键属性解析","text":"3D变换的关键属性解析","level":3},{"id":"翻转动画","text":"翻转动画","level":3},{"id":"入场动画：优雅登场的时间艺术","text":"入场动画：优雅登场的时间艺术","level":2},{"id":"初始化延迟","text":"初始化延迟","level":3},{"id":"入场动画的关键帧设计","text":"入场动画的关键帧设计","level":3},{"id":"呼吸效果的循环实现","text":"呼吸效果的循环实现","level":3},{"id":"动画配置","text":"动画配置","level":3},{"id":"样式设计：现代感的视觉语言","text":"样式设计：现代感的视觉语言","level":2},{"id":"渐变与透明度的层次感","text":"渐变与透明度的层次感","level":3},{"id":"色彩系统的主题适配","text":"色彩系统的主题适配","level":3},{"id":"阴影与光照的物理模拟","text":"阴影与光照的物理模拟","level":3},{"id":"设计模式的提炼与总结","text":"设计模式的提炼与总结","level":2},{"id":"3d交互组件的通用架构","text":"3D交互组件的通用架构","level":3},{"id":"鼠标跟踪倾斜的通用实现","text":"鼠标跟踪倾斜的通用实现","level":3},{"id":"自动复位定时器的管理模式","text":"自动复位定时器的管理模式","level":3},{"id":"性能优化的最佳实践","text":"性能优化的最佳实践","level":3},{"id":"完整源码全解析","text":"完整源码全解析","level":2},{"id":"系统架构流程图","text":"系统架构流程图","level":3},{"id":"核心算法深度解析","text":"核心算法深度解析","level":3},{"id":"1-3d空间位置计算算法","text":"1. 3D空间位置计算算法","level":4},{"id":"2-鼠标追踪倾斜算法","text":"2. 鼠标追踪倾斜算法","level":4},{"id":"3-智能网格布局算法","text":"3. 智能网格布局算法","level":4},{"id":"4-定时器级联管理","text":"4. 定时器级联管理","level":4},{"id":"5-扇形展开算法","text":"5. 扇形展开算法","level":4},{"id":"写在最后","text":"写在最后","level":2}],"translations":{"common":{"welcome":"欢迎","loading":"加载中...","error":"出现了一些问题","retry":"重试","theme":"主题","language":"语言","light":"浅色","dark":"深色"},"navigation":{"home":"首页","personal":"个人","works":"作品","contributions":"贡献","documents":"文档","about":"关于","contact":"联系"},"personal":{"technicalSkills":"技术技能","email":"邮箱","github":"代码仓库","resume":"简历","codeRepository":"代码仓库","loadingPersonalInfo":"加载个人信息中...","loadingResume":"加载简历中...","closeResume":"关闭简历","emailCopied":"邮箱已复制到剪贴板！","galaxyDefaultDescription":"精通全栈开发技术，具备跨平台架构能力，擅长AI技术整合与高性能系统优化","skillGalaxy":"技能星系","stirGalaxy":"搅动星系","stirring":"搅动中...","fullStackEngineer":"MilkWind - 全栈工程师","professionalProfile":"关于我"},"documents":{"technicalDocuments":"技术文档","description":"基本原理、代码拆分以及一些碎碎念。","articles":"文章","categories":"分类","allCategories":"所有分类","noArticlesFound":"未找到文章","noArticlesAvailable":"中文暂无文章。","noArticlesInCategory":"该分类下未找到文章。","readMore":"阅读更多","loadingDocuments":"加载文档中...","backToDocuments":"← 返回文档","documentNotFound":"文档未找到","documentNotFoundDescription":"请求的文档无法找到。","technicalInsights":"技术拆解","untitledDocument":"无标题文档","byAuthor":"作者：","search":"搜索文章...","searchByTags":"按标签筛选","searching":"搜索中...","noSearchResults":"没有找到符合搜索条件的文章","clearSearch":"清除搜索","selectedTags":"已选标签","allTags":"所有标签","searchInTitle":"在标题、描述和内容中搜索","enterImmersiveMode":"沉浸阅读","exitImmersiveMode":"退出沉浸模式","immersiveReading":"沉浸阅读模式","exploreContent":"按分类探索内容","browseBy":"浏览方式","exploreAll":"所有内容汇总","categoryDescription":"该分类下的文章","totalArticles":"文章","totalCategories":"分类","foundArticles":"找到文章","categoriesWithResults":"有结果的分类"},"works":{"workCases":"作品案例","projects":"作品集","loadingProjects":"加载项目中...","grid":"网格","stack":"堆叠","of":"共","workCasesPageTitle":"作品案例页面","pageWorkingCorrectly":"此页面运行正常！路由配置正确。","try3DVersion":"尝试3D版本","dragToScroll":"拖拽滚动","dragToChange":"拖拽切换","swipeCards":"切换卡片","keyboardNav":"键盘导航"},"contributions":{"contributionCases":"开源项目","contributions":"贡献","loadingContributions":"加载贡献中...","grid":"网格","stack":"堆叠","of":"共","contributionCasesPageTitle":"贡献案例页面","pageWorkingCorrectly":"此页面运行正常！路由配置正确。","try3DVersion":"尝试3D版本","dragToScroll":"拖拽滚动","dragToChange":"拖拽切换","swipeCards":"切换卡片","keyboardNav":"键盘导航"},"contribution":{"contributionPreview":"贡献预览","accessible":"可访问","code":"代码","maintenance":"维护","enhancement":"增强","documentation":"文档","community":"社区","moreItems":"更多","technicalDetails":"技术详情","technologies":"技术栈：","contributionDetail":"贡献详情","description":"描述：","seeDetails":"查看详情","github":"代码仓库","viewContribution":"查看贡献","viewCode":"查看代码"},"project":{"projectPreview":"项目预览","accessible":"可访问","tool":"工具","plugin":"插件","toy":"小玩意","moreItems":"更多","technicalDetails":"技术详情","technologies":"技术栈：","description":"描述：","seeDetails":"查看详情","github":"GitHub","gitee":"Gitee","viewLiveDemo":"查看演示","viewCode":"查看代码","access":"访问","videos":"视频","watchVideo":"观看视频","hasVideo":"有视频"},"codeblock":{"copy":"复制","copySuccess":"代码已复制到剪贴板！","copyError":"复制代码失败","copyTooltip":"复制代码"},"toc":{"contents":"目录","autoScroll":"自动滚动到章节","collapse":"折叠","expand":"展开"},"loading":{"loading":"加载中","preparingExperience":"准备体验中"}},"lang":"zh","theme":"dark"}]
12:null
18:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
11:null
1c:{"metadata":[["$","title","0",{"children":"3D案例卡片：从平面到立体的交互革命 | Interactive Portfolio"}],["$","meta","1",{"name":"description","content":"深度解析可折叠、可倾斜、可翻转的立体卡片系统"}],["$","meta","2",{"name":"author","content":"Developer"}],["$","meta","3",{"name":"keywords","content":"portfolio,3D,interactive,web development,Three.js,Next.js"}],["$","meta","4",{"property":"og:title","content":"3D案例卡片：从平面到立体的交互革命 | Interactive Portfolio"}],["$","meta","5",{"property":"og:description","content":"深度解析可折叠、可倾斜、可翻转的立体卡片系统"}],["$","meta","6",{"property":"og:type","content":"article"}],["$","meta","7",{"property":"article:published_time","content":"2025-06-22"}],["$","meta","8",{"property":"article:tag","content":"3D"}],["$","meta","9",{"property":"article:tag","content":"交互设计"}],["$","meta","10",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","11",{"name":"twitter:title","content":"3D案例卡片：从平面到立体的交互革命 | Interactive Portfolio"}],["$","meta","12",{"name":"twitter:description","content":"深度解析可折叠、可倾斜、可翻转的立体卡片系统"}],["$","link","13",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"32x32"}]],"error":null,"digest":"$undefined"}
14:{"metadata":"$1c:metadata","error":null,"digest":"$undefined"}
