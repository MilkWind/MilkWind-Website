1:"$Sreact.fragment"
2:I[38735,["1899","static/chunks/1899-38fe6771109eb8a8.js","7177","static/chunks/app/layout-3eed8318d7b0d3da.js"],"default"]
3:I[19945,["1899","static/chunks/1899-38fe6771109eb8a8.js","7177","static/chunks/app/layout-3eed8318d7b0d3da.js"],"default"]
4:I[65337,["1899","static/chunks/1899-38fe6771109eb8a8.js","7177","static/chunks/app/layout-3eed8318d7b0d3da.js"],"default"]
5:I[96190,["1899","static/chunks/1899-38fe6771109eb8a8.js","7177","static/chunks/app/layout-3eed8318d7b0d3da.js"],"ClientProviders"]
6:I[87555,[],""]
7:I[51901,["8039","static/chunks/app/error-dda32be1d095a86c.js"],"default"]
8:I[31295,[],""]
9:I[6874,["6874","static/chunks/6874-fbe9a08eb79b991c.js","4345","static/chunks/app/not-found-9ff98b2ccf24cac7.js"],""]
a:I[94970,[],"ClientSegmentRoot"]
b:I[44065,["206","static/chunks/206-4f4cbf4d7156f437.js","3092","static/chunks/app/documents/layout-28408791defde09e.js"],"default"]
e:I[59665,[],"MetadataBoundary"]
10:I[59665,[],"OutletBoundary"]
13:I[74911,[],"AsyncMetadataOutlet"]
15:I[39460,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","5650","static/chunks/app/documents/loading-1fa3f98b6e5a8e78.js"],"default"]
16:I[88610,["2415","static/chunks/2415-689c103fb3d2c28d.js","8610","static/chunks/8610-7bd3f91f3cf2a4d6.js","4209","static/chunks/app/loading-68f227fb49b3ac8c.js"],"default"]
17:I[59665,[],"ViewportBoundary"]
19:I[26614,[],""]
:HL["/MilkWind-Website/_next/static/css/fe7e5644f748258b.css","style"]
:HL["/MilkWind-Website/_next/static/css/38943437573ce53c.css","style"]
:HL["/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css","style"]
0:{"P":null,"b":"mO0HfhVKUIqGG57hUXa3f","p":"/MilkWind-Website","c":["","documents","zh","light","ark-yituliu","specialization",""],"i":false,"f":[[["",{"children":["documents",{"children":[["slug","zh/light/ark-yituliu/specialization","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/MilkWind-Website/_next/static/css/fe7e5644f748258b.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/MilkWind-Website/_next/static/css/38943437573ce53c.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_d71c80 __variable_744f1f font-sans antialiased min-h-screen bg-background text-foreground","suppressHydrationWarning":true,"children":[["$","$L2",null,{}],["$","$L3",null,{}],["$","$L4",null,{}],["$","$L5",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$7","errorStyles":[],"errorScripts":[],"template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"z-10 relative min-h-screen flex items-center justify-center bg-background p-8","children":["$","div",null,{"className":"text-center max-w-md","children":[["$","div",null,{"className":"text-8xl font-bold text-primary mb-4","children":"404"}],["$","h2",null,{"className":"text-2xl font-bold text-foreground mb-4","children":"Page Not Found"}],["$","p",null,{"className":"text-foreground/70 mb-8","children":"The page you're looking for doesn't exist or has been moved to a different location."}],["$","div",null,{"className":"flex flex-col sm:flex-row gap-4 justify-center","children":[["$","$L9",null,{"href":"/","className":"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors","children":"Go Home"}],["$","$L9",null,{"href":"/works","className":"px-6 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors","children":"View Works"}]]}],["$","div",null,{"className":"absolute inset-0 overflow-hidden pointer-events-none -z-10","children":[["$","div",null,{"className":"absolute top-1/4 left-1/4 w-2 h-2 bg-primary/20 rounded-full animate-float"}],["$","div",null,{"className":"absolute top-3/4 right-1/4 w-3 h-3 bg-accent/20 rounded-full animate-float","style":{"animationDelay":"1s"}}],["$","div",null,{"className":"absolute bottom-1/4 left-1/3 w-1 h-1 bg-secondary/20 rounded-full animate-float","style":{"animationDelay":"2s"}}]]}]]}]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]}]]}],{"children":["documents",["$","$1","c",{"children":[null,["$","$La",null,{"Component":"$b","slots":{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@c"}]]}],{"children":[["slug","zh/light/ark-yituliu/specialization","c"],["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Ld",["$","$Le",null,{"children":"$Lf"}],[["$","link","0",{"rel":"stylesheet","href":"/MilkWind-Website/_next/static/css/5eacd01f773eed7f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L10",null,{"children":["$L11","$L12",["$","$L13",null,{"promise":"$@14"}]]}]]}],{},null,false]},null,false]},[["$","$L15","l",{}],[],[]],false]},[["$","$L16","l",{}],[],[]],false],["$","$1","h",{"children":[null,["$","$1","B_hq2h-rpalezvXQ_qoNc",{"children":[["$","$L17",null,{"children":"$L18"}],null]}],null]}],false]],"m":"$undefined","G":["$19","$undefined"],"s":false,"S":true}
1a:"$Sreact.suspense"
1b:I[74911,[],"AsyncMetadata"]
c:{}
f:["$","$1a",null,{"fallback":null,"children":["$","$L1b",null,{"promise":"$@1c"}]}]
1d:I[57340,["5584","static/chunks/b498d07c-095637f0f10883c6.js","2415","static/chunks/2415-689c103fb3d2c28d.js","6874","static/chunks/6874-fbe9a08eb79b991c.js","9554","static/chunks/9554-b714f9de28e85d30.js","1873","static/chunks/app/documents/%5B...slug%5D/page-8f3efa7e6c6c5377.js"],"DocumentPageClient"]
1e:T1393d,<h1 id="专精时间减半计算器-算法详解" class="group relative text-4xl font-bold mt-8 mb-4 text-foreground leading-tight">
            <a href="#专精时间减半计算器-算法详解" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 专精时间减半计算器 - 算法详解">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            专精时间减半计算器 - 算法详解
        </h1>
<h2 id="前言" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#前言" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 前言">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            前言
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">专精时间减半计算器是一个专门为明日方舟玩家设计的工具，用来计算什么时候换艾丽妮或逻各斯这些减半干员最合适，能够恰好触发专精时间减半效果。本篇将详细拆解其核心算法的实现逻辑。</p>
<p class="text-base leading-7 mb-4 text-foreground">这个算法看起来挺复杂的，但其实核心思想很简单：<strong class="font-bold text-foreground">算出在什么时候换减半干员，能让剩余时间刚好被减半</strong>。</p>
<h2 id="核心算法解析" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#核心算法解析" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 核心算法解析">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            核心算法解析
        </h2>
<h3 id="数据结构设计" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#数据结构设计" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 数据结构设计">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            数据结构设计
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">首先，让我们看看这个计算器用到的主要数据：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20halfOperatorParams%20%3D%20reactive(%7B%0Aefficiency%3A%20null%2C%20%20%20%20%20%20%20%20%2F%2F%20%E5%BD%93%E5%89%8D%E4%B8%93%E7%B2%BE%E5%8A%A9%E6%89%8B%E5%B9%B2%E5%91%98%E6%8F%90%E4%BE%9B%E7%9A%84%E6%95%88%E7%8E%87%0AisFit%3A%20false%2C%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%98%AF%E5%90%A6%E4%BA%AB%E5%8F%97%E8%81%8C%E4%B8%9A%E4%B8%93%E7%B2%BE%E6%95%88%E7%8E%87%E5%8A%A0%E6%88%90%0AhalfOperatorAddition%3A%200.3%2C%20%2F%2F%20%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E4%B8%93%E7%B2%BE%E6%95%88%E7%8E%87%E5%8A%A0%E6%88%90%EF%BC%88%E9%BB%98%E8%AE%A430%25%EF%BC%89%0AhasAscalon%3A%20false%2C%20%20%20%20%20%20%2F%2F%20%E6%8E%A7%E5%88%B6%E4%B8%AD%E6%9E%A2%E6%98%AF%E5%90%A6%E5%85%A5%E9%A9%BB%E9%98%BF%E6%96%AF%E5%8D%A1%E7%BA%B6%2F%E7%83%9B%E7%85%8C%0Aremainder%3A%20null%2C%20%20%20%20%20%20%20%20%2F%2F%20%E5%BD%93%E5%89%8D%E6%98%BE%E7%A4%BA%E7%9A%84%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%0AleadTime%3A%205%2C%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%E6%8F%90%E5%89%8D5%E5%88%86%E9%92%9F%E6%8F%90%E9%86%92%0A%7D)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> halfOperatorParams = <span class="hljs-title function_ inline">reactive</span>({
  <span class="hljs-attr inline">efficiency</span>: <span class="hljs-literal inline">null</span>,        <span class="hljs-comment inline">// 当前专精助手干员提供的效率</span>
  <span class="hljs-attr inline">isFit</span>: <span class="hljs-literal inline">false</span>,           <span class="hljs-comment inline">// 是否享受职业专精效率加成</span>
  <span class="hljs-attr inline">halfOperatorAddition</span>: <span class="hljs-number inline">0.3</span>, <span class="hljs-comment inline">// 减半干员专精效率加成（默认30%）</span>
  <span class="hljs-attr inline">hasAscalon</span>: <span class="hljs-literal inline">false</span>,      <span class="hljs-comment inline">// 控制中枢是否入驻阿斯卡纶/烛煌</span>
  <span class="hljs-attr inline">remainder</span>: <span class="hljs-literal inline">null</span>,        <span class="hljs-comment inline">// 当前显示的剩余时间</span>
  <span class="hljs-attr inline">leadTime</span>: <span class="hljs-number inline">5</span>,           <span class="hljs-comment inline">// 默认提前5分钟提醒</span>
})
</code></pre>
            </div>
        
<h3 id="算法核心逻辑" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#算法核心逻辑" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 算法核心逻辑">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            算法核心逻辑
        </h3>
<p class="text-base leading-7 mb-4 text-foreground"><code>calculateTime()</code> 函数分析：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="function%20calculateTime()%20%7B%0A%2F%2F%20%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E8%AE%A1%E7%AE%97%E9%A2%9D%E5%A4%96%E6%95%88%E7%8E%87%0AextraEfficiency%20%3D%200.05%20%2B%20(halfOperatorParams.hasAscalon%20%3F%200.05%20%3A%200)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">calculateTime</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-comment inline">// 第一步：计算额外效率</span>
  extraEfficiency = <span class="hljs-number inline">0.05</span> + (halfOperatorParams.<span class="hljs-property inline">hasAscalon</span> ? <span class="hljs-number inline">0.05</span> : <span class="hljs-number inline">0</span>)
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">代码解析：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">训练室基础效率是 5%（0.05）</li>
<li class="text-foreground leading-relaxed">如果控制中枢有阿斯卡纶或烛煌，再加 5%</li>
<li class="text-foreground leading-relaxed">所以 <code>extraEfficiency</code> 要么是 0.05，要么是 0.1</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E8%AE%A1%E7%AE%97%E5%BD%93%E5%89%8D%E6%80%BB%E6%95%88%E7%8E%87%0AnowEfficiency.value%20%3D%201%20%2B%20halfOperatorParams.efficiency%20%2B%20extraEfficiency">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">  <span class="hljs-comment inline">// 第二步：计算当前总效率</span>
  nowEfficiency.<span class="hljs-property inline">value</span> = <span class="hljs-number inline">1</span> + halfOperatorParams.<span class="hljs-property inline">efficiency</span> + extraEfficiency
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">公式理解：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">基础效率是 1（也就是 100%）</li>
<li class="text-foreground leading-relaxed">加上专精助手干员的效率（比如 0.6 就是 60%）</li>
<li class="text-foreground leading-relaxed">再加上刚才算出的额外效率</li>
<li class="text-foreground leading-relaxed">比如：1 + 0.6 + 0.05 = 1.65（也就是 165% 效率）</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E8%AE%A1%E7%AE%97%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E7%9A%84%E6%95%88%E7%8E%87%0AhalfOperatorEfficiency.value%20%3D%20halfOperatorParams.isFit%20%3F%0A1%20%2B%20halfOperatorParams.halfOperatorAddition%20%2B%20extraEfficiency%20%3A%0A1%20%2B%20extraEfficiency%3B">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">  <span class="hljs-comment inline">// 第三步：计算减半干员的效率</span>
  halfOperatorEfficiency.<span class="hljs-property inline">value</span> = halfOperatorParams.<span class="hljs-property inline">isFit</span> ? 
    <span class="hljs-number inline">1</span> + halfOperatorParams.<span class="hljs-property inline">halfOperatorAddition</span> + extraEfficiency : 
    <span class="hljs-number inline">1</span> + extraEfficiency;
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这里有个判断：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">如果减半干员有职业加成（比如艾丽妮对近卫/狙击有加成），就加上 <code>halfOperatorAddition</code></li>
<li class="text-foreground leading-relaxed">如果没有职业加成，就只加基础的额外效率</li>
<li class="text-foreground leading-relaxed">比如艾丽妮对近卫职业：1 + 0.3 + 0.05 = 1.35（135% 效率）</li>
</ul>
<h3 id="时间计算的精髓" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#时间计算的精髓" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 时间计算的精髓">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            时间计算的精髓
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">接下来是算法的核心部分：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="if%20(halfOperatorParams.efficiency%20!%3D%20null%20%26%26%20halfOperatorParams.remainder%20!%3D%20null)%20%7B%0A%2F%2F%20%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E5%B0%86%E6%98%BE%E7%A4%BA%E6%97%B6%E9%97%B4%E8%BD%AC%E4%B8%BA%E6%80%BB%E7%A7%92%E6%95%B0%0AremainSeconds%20%3D%20convertToSeconds(halfOperatorParams.remainder)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">  <span class="hljs-keyword inline">if</span> (halfOperatorParams.<span class="hljs-property inline">efficiency</span> != <span class="hljs-literal inline">null</span> &amp;&amp; halfOperatorParams.<span class="hljs-property inline">remainder</span> != <span class="hljs-literal inline">null</span>) {
    <span class="hljs-comment inline">// 第四步：将显示时间转为总秒数</span>
    remainSeconds = <span class="hljs-title function_ inline">convertToSeconds</span>(halfOperatorParams.<span class="hljs-property inline">remainder</span>)
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个函数把用户输入的时间（比如 &quot;04:30:15&quot;）转换成秒数，方便后续计算。</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%9A%E8%AE%A1%E7%AE%97%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E7%9A%84%E5%AE%9E%E9%99%85%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%0AzeroEffRemainSeconds.value%20%3D%20remainSeconds%20*%20nowEfficiency.value">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// 第五步：计算零效率下的实际剩余时间</span>
    zeroEffRemainSeconds.<span class="hljs-property inline">value</span> = remainSeconds * nowEfficiency.<span class="hljs-property inline">value</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这一步很关键！为什么要乘以当前效率呢？</p>
<p class="text-base leading-7 mb-4 text-foreground">举个例子：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">显示剩余时间 1 小时（3600 秒）</li>
<li class="text-foreground leading-relaxed">当前效率 165%（1.65）</li>
<li class="text-foreground leading-relaxed">在零效率下实际需要：3600 × 1.65 = 5940 秒</li>
</ul>
<p class="text-base leading-7 mb-4 text-foreground">这样做是为了统一计算基准。</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E7%AC%AC%E5%85%AD%E6%AD%A5%EF%BC%9A%E8%AE%A1%E7%AE%97%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E9%9C%80%E8%A6%81%E7%9A%84%E6%97%B6%E9%97%B4%0AzeroEffNeedTime%20%3D%20halfOperatorEfficiency.value%20*%205%20*%2060%20*%2060">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// 第六步：计算减半干员需要的时间</span>
    zeroEffNeedTime = halfOperatorEfficiency.<span class="hljs-property inline">value</span> * <span class="hljs-number inline">5</span> * <span class="hljs-number inline">60</span> * <span class="hljs-number inline">60</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这里的逻辑是：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">减半干员的减半效果需要剩余时间 ≥ 5 小时才能触发</li>
<li class="text-foreground leading-relaxed">5 小时 = 5 × 60 × 60 = 18000 秒</li>
<li class="text-foreground leading-relaxed">但考虑到减半干员的效率，实际需要的零效率时间是：18000 × 减半干员效率</li>
</ul>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E7%AC%AC%E4%B8%83%E6%AD%A5%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%97%B6%E9%97%B4%E5%B7%AE%0AtimeDifference%20%3D%20zeroEffRemainSeconds.value%20-%20zeroEffNeedTime%0AtimeDifference%20%2F%3D%20nowEfficiency.value">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// 第七步：计算时间差</span>
    timeDifference = zeroEffRemainSeconds.<span class="hljs-property inline">value</span> - zeroEffNeedTime
    timeDifference /= nowEfficiency.<span class="hljs-property inline">value</span>
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这是算法的核心：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">先算出零效率下的时间差</li>
<li class="text-foreground leading-relaxed">再除以当前效率，得到实际显示时间下的差值</li>
<li class="text-foreground leading-relaxed">这个差值就是&quot;还有多久需要换减半干员&quot;</li>
</ul>
<h3 id="状态判断逻辑" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#状态判断逻辑" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 状态判断逻辑">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            状态判断逻辑
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">最后是状态判断：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E7%AC%AC%E5%85%AB%E6%AD%A5%EF%BC%9A%E8%AE%A1%E7%AE%97%E4%BD%99%E8%A3%95%E6%97%B6%E9%97%B4%0AampleTime%20%3D%20timeDifference%20-%20halfOperatorParams.leadTime%20*%2060%0Aif%20(ampleTime%20%3E%200)%20%7B%0A%2F%2F%20%E6%83%85%E5%86%B51%EF%BC%9A%E8%BF%98%E6%9C%89%E4%BD%99%E8%A3%95%E6%97%B6%E9%97%B4%0Astate.value%20%3D%20%22success%22%0A%2F%2F%20%E8%AE%A1%E7%AE%97%E6%8F%90%E9%86%92%E6%97%B6%E9%97%B4...%0A%7D%20else%20if%20(timeDifference%20%3E%200)%20%7B%0A%2F%2F%20%E6%83%85%E5%86%B52%EF%BC%9A%E5%B7%B2%E7%BB%8F%E5%BE%88%E7%B4%A7%E6%80%A5%E4%BA%86%0Astate.value%20%3D%20%22warning%22%0A%7D%20else%20%7B%0A%2F%2F%20%E6%83%85%E5%86%B53%EF%BC%9A%E5%B7%B2%E7%BB%8F%E6%9D%A5%E4%B8%8D%E5%8F%8A%E4%BA%86%0Astate.value%20%3D%20%22danger%22%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">    <span class="hljs-comment inline">// 第八步：计算余裕时间</span>
    ampleTime = timeDifference - halfOperatorParams.<span class="hljs-property inline">leadTime</span> * <span class="hljs-number inline">60</span>
    
    <span class="hljs-keyword inline">if</span> (ampleTime &gt; <span class="hljs-number inline">0</span>) {
      <span class="hljs-comment inline">// 情况1：还有余裕时间</span>
      state.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;success&quot;</span>
      <span class="hljs-comment inline">// 计算提醒时间...</span>
    } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (timeDifference &gt; <span class="hljs-number inline">0</span>) {
      <span class="hljs-comment inline">// 情况2：已经很紧急了</span>
      state.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;warning&quot;</span>
    } <span class="hljs-keyword inline">else</span> {
      <span class="hljs-comment inline">// 情况3：已经来不及了</span>
      state.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;danger&quot;</span>
    }
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这里设计了三种状态：</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">成功</strong>（绿色）：还有时间，可以定闹钟</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">警告</strong>（黄色）：赶紧换干员！</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">危险</strong>（红色）：已经触发不了减半效果了</li>
</ol>
<h2 id="ui-数据显示逻辑" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#ui-数据显示逻辑" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to UI 数据显示逻辑">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            UI 数据显示逻辑
        </h2>
<h3 id="效率显示" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#效率显示" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 效率显示">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            效率显示
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="%2F%2F%20%E6%98%BE%E7%A4%BA%E7%99%BE%E5%88%86%E6%AF%94%E5%BD%A2%E5%BC%8F%E7%9A%84%E6%95%88%E7%8E%87%0A%7B%7B%20((nowEfficiency%20-%201)%20*%20100).toFixed(0)%20%7D%7D%25%0A%7B%7B%20((halfOperatorEfficiency%20-%201)%20*%20100).toFixed(0)%20%7D%7D%25">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-comment inline">// 显示百分比形式的效率</span>
{{ ((nowEfficiency - <span class="hljs-number inline">1</span>) * <span class="hljs-number inline">100</span>).<span class="hljs-title function_ inline">toFixed</span>(<span class="hljs-number inline">0</span>) }}%
{{ ((halfOperatorEfficiency - <span class="hljs-number inline">1</span>) * <span class="hljs-number inline">100</span>).<span class="hljs-title function_ inline">toFixed</span>(<span class="hljs-number inline">0</span>) }}%
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这里把效率转换成百分比显示，比如 1.65 显示为 65%。</p>
<h3 id="剩余时间格式化" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#剩余时间格式化" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 剩余时间格式化">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            剩余时间格式化
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="const%20formattedRemainingTime%20%3D%20computed(()%20%3D%3E%20%7B%0Aif%20(!zeroEffRemainSeconds.value)%20return%20'00%3A00%3A00'%0Aconst%20hours%20%3D%20Math.floor(zeroEffRemainSeconds.value%20%2F%203600)%0Aconst%20minutes%20%3D%20Math.floor((zeroEffRemainSeconds.value%20%25%203600)%20%2F%2060).toString().padStart(2%2C%20'0')%0Aconst%20seconds%20%3D%20Math.floor(zeroEffRemainSeconds.value%20%25%2060).toString().padStart(2%2C%20'0')%0Areturn%20%60%24%7Bhours%7D%3A%24%7Bminutes%7D%3A%24%7Bseconds%7D%60%0A%7D)">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">const</span> formattedRemainingTime = <span class="hljs-title function_ inline">computed</span>(<span class="hljs-function inline">() =&gt;</span> {
  <span class="hljs-keyword inline">if</span> (!zeroEffRemainSeconds.<span class="hljs-property inline">value</span>) <span class="hljs-keyword inline">return</span> <span class="hljs-string inline">&#x27;00:00:00&#x27;</span>
  <span class="hljs-keyword inline">const</span> hours = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(zeroEffRemainSeconds.<span class="hljs-property inline">value</span> / <span class="hljs-number inline">3600</span>)
  <span class="hljs-keyword inline">const</span> minutes = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>((zeroEffRemainSeconds.<span class="hljs-property inline">value</span> % <span class="hljs-number inline">3600</span>) / <span class="hljs-number inline">60</span>).<span class="hljs-title function_ inline">toString</span>().<span class="hljs-title function_ inline">padStart</span>(<span class="hljs-number inline">2</span>, <span class="hljs-string inline">&#x27;0&#x27;</span>)
  <span class="hljs-keyword inline">const</span> seconds = <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(zeroEffRemainSeconds.<span class="hljs-property inline">value</span> % <span class="hljs-number inline">60</span>).<span class="hljs-title function_ inline">toString</span>().<span class="hljs-title function_ inline">padStart</span>(<span class="hljs-number inline">2</span>, <span class="hljs-string inline">&#x27;0&#x27;</span>)
  <span class="hljs-keyword inline">return</span> <span class="hljs-string inline">`<span class="hljs-subst inline">${hours}</span>:<span class="hljs-subst inline">${minutes}</span>:<span class="hljs-subst inline">${seconds}</span>`</span>
})
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这个函数把秒数转换成好看的时间格式，比如 &quot;5:30:45&quot;。</p>
<h3 id="提醒时间计算" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#提醒时间计算" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 提醒时间计算">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            提醒时间计算
        </h3>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="remindTime%20%3D%20secondsToTimeString(getSecondsSinceMidnight()%20%2B%20ampleTime%20%3E%2086400%20%3F%0AMath.floor(getSecondsSinceMidnight()%20%2B%20ampleTime%20-%2086400)%20%3A%0AMath.floor(getSecondsSinceMidnight()%20%2B%20ampleTime))">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript">remindTime = <span class="hljs-title function_ inline">secondsToTimeString</span>(<span class="hljs-title function_ inline">getSecondsSinceMidnight</span>() + ampleTime &gt; <span class="hljs-number inline">86400</span> ?
  <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(<span class="hljs-title function_ inline">getSecondsSinceMidnight</span>() + ampleTime - <span class="hljs-number inline">86400</span>) :
  <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(<span class="hljs-title function_ inline">getSecondsSinceMidnight</span>() + ampleTime))
</code></pre>
            </div>
        
<p class="text-base leading-7 mb-4 text-foreground">这部分处理跨天的情况：</p>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">如果提醒时间超过了当天 24 点，就算成第二天的时间</li>
<li class="text-foreground leading-relaxed">比如现在是 23:30，还需要 2 小时提醒，那就是明天 01:30</li>
</ul>
<h2 id="实际应用场景" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#实际应用场景" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 实际应用场景">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            实际应用场景
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">假设你现在有个近卫干员在专精，显示剩余时间 6 小时：</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">输入数据</strong>：</li>
</ol>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">剩余时间：06:00:00</li>
<li class="text-foreground leading-relaxed">当前效率：60%（0.6）</li>
<li class="text-foreground leading-relaxed">有阿斯卡纶/烛煌：是</li>
<li class="text-foreground leading-relaxed">艾丽妮有近卫加成：是</li>
</ul>
<ol start="2" class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">计算过程</strong>：</li>
</ol>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">当前总效率：1 + 0.6 + 0.1 = 1.7（170%）</li>
<li class="text-foreground leading-relaxed">艾丽妮效率：1 + 0.3 + 0.1 = 1.4（140%）</li>
<li class="text-foreground leading-relaxed">零效率下实际剩余：6×3600×1.7 = 36720 秒</li>
<li class="text-foreground leading-relaxed">艾丽妮需要的时间：5×3600×1.4 = 25200 秒</li>
<li class="text-foreground leading-relaxed">时间差：(36720 - 25200) / 1.7 ≈ 6776 秒 ≈ 1小时52分钟（向下取整）</li>
</ul>
<ol start="3" class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">结果</strong>：大约1小时52分钟后换艾丽妮，能恰好触发减半效果！（当然，实际使用时别卡那么极限）</li>
</ol>
<h2 id="算法全代码解析" class="group relative text-3xl font-semibold mt-6 mb-3 text-foreground leading-tight">
            <a href="#算法全代码解析" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 算法全代码解析">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            算法全代码解析
        </h2>
<p class="text-base leading-7 mb-4 text-foreground">下面是完整的 <code>calculateTime()</code> 函数：</p>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="javascript" data-code="function%20calculateTime()%20%7B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%EF%BC%9A%E8%AE%A1%E7%AE%97%E5%9F%BA%E7%A1%80%E6%95%88%E7%8E%87%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E8%AE%A1%E7%AE%97%E9%A2%9D%E5%A4%96%E6%95%88%E7%8E%87%E5%8A%A0%E6%88%90%0A%2F%2F%20%E8%AE%AD%E7%BB%83%E5%AE%A4%E5%9F%BA%E7%A1%80%E6%95%88%E7%8E%87%E5%9B%BA%E5%AE%9A%E4%B8%BA5%25%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%8E%A7%E5%88%B6%E4%B8%AD%E6%9E%A2%E6%9C%89%E9%98%BF%E6%96%AF%E5%8D%A1%E7%BA%B6%2F%E7%83%9B%E7%85%8C%E5%86%8D%E9%A2%9D%E5%A4%96%E5%8A%A05%25%0AextraEfficiency%20%3D%200.05%20%2B%20(halfOperatorParams.hasAscalon%20%3F%200.05%20%3A%200)%0A%2F%2F%20%E8%AE%A1%E7%AE%97%E5%BD%93%E5%89%8D%E6%80%BB%E6%95%88%E7%8E%87%EF%BC%88%E6%9C%AA%E6%8D%A2%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E6%97%B6%E7%9A%84%E6%95%88%E7%8E%87%EF%BC%89%0A%2F%2F%20%E5%85%AC%E5%BC%8F%EF%BC%9A%E5%9F%BA%E7%A1%80100%25%20%2B%20%E4%B8%93%E7%B2%BE%E5%8A%A9%E6%89%8B%E5%B9%B2%E5%91%98%E6%95%88%E7%8E%87%20%2B%20%E9%A2%9D%E5%A4%96%E6%95%88%E7%8E%87%0AnowEfficiency.value%20%3D%201%20%2B%20halfOperatorParams.efficiency%20%2B%20extraEfficiency%0A%2F%2F%20%E8%AE%A1%E7%AE%97%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E7%9A%84%E6%80%BB%E6%95%88%E7%8E%87%EF%BC%88%E6%8D%A2%E4%BA%86%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E5%90%8E%E7%9A%84%E6%95%88%E7%8E%87%EF%BC%89%0A%2F%2F%20%E5%A6%82%E6%9E%9C%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E6%9C%89%E8%81%8C%E4%B8%9A%E5%8A%A0%E6%88%90%EF%BC%8C%E5%B0%B1%E5%8A%A0%E4%B8%8A%E5%AF%B9%E5%BA%94%E7%9A%84%E5%8A%A0%E6%88%90%E5%80%BC%EF%BC%8C%E5%90%A6%E5%88%99%E5%8F%AA%E5%8A%A0%E5%9F%BA%E7%A1%80%E9%A2%9D%E5%A4%96%E6%95%88%E7%8E%87%0AhalfOperatorEfficiency.value%20%3D%20halfOperatorParams.isFit%20%3F%0A1%20%2B%20halfOperatorParams.halfOperatorAddition%20%2B%20extraEfficiency%20%3A%0A1%20%2B%20extraEfficiency%3B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%EF%BC%9A%E6%A3%80%E6%9F%A5%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E5%8F%AA%E6%9C%89%E5%BD%93%E6%95%88%E7%8E%87%E5%92%8C%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%E9%83%BD%E6%9C%89%E5%80%BC%E6%97%B6%E6%89%8D%E8%BF%9B%E8%A1%8C%E8%AE%A1%E7%AE%97%0Aif%20(halfOperatorParams.efficiency%20!%3D%20null%20%26%26%20halfOperatorParams.remainder%20!%3D%20null)%20%7B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%EF%BC%9A%E6%97%B6%E9%97%B4%E6%8D%A2%E7%AE%97%E6%A0%B8%E5%BF%83%E9%80%BB%E8%BE%91%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E5%B0%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E7%9A%84%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%EF%BC%88%E5%A6%82%2204%3A30%3A15%22%EF%BC%89%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%80%BB%E7%A7%92%E6%95%B0%0AremainSeconds%20%3D%20convertToSeconds(halfOperatorParams.remainder)%0A%2F%2F%20%E3%80%90%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%951%E3%80%91%E8%AE%A1%E7%AE%97%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E7%9A%84%E5%AE%9E%E9%99%85%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%0A%2F%2F%20%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B9%98%E4%BB%A5%E5%BD%93%E5%89%8D%E6%95%88%E7%8E%87%EF%BC%9F%E5%9B%A0%E4%B8%BA%E8%A6%81%E6%8A%8A%22%E6%9C%89%E6%95%88%E7%8E%87%E5%8A%A0%E6%88%90%E4%B8%8B%E7%9A%84%E6%98%BE%E7%A4%BA%E6%97%B6%E9%97%B4%22%E6%8D%A2%E7%AE%97%E6%88%90%22%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%97%B6%E9%97%B4%22%0A%2F%2F%20%E4%B8%BE%E4%BE%8B%EF%BC%9A%E6%98%BE%E7%A4%BA1%E5%B0%8F%E6%97%B6%EF%BC%8C%E5%BD%93%E5%89%8D170%25%E6%95%88%E7%8E%87%EF%BC%8C%E9%82%A3%E4%B9%88%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E5%AE%9E%E9%99%85%E9%9C%80%E8%A6%811%C3%971.7%3D1.7%E5%B0%8F%E6%97%B6%0AzeroEffRemainSeconds.value%20%3D%20remainSeconds%20*%20nowEfficiency.value%0A%2F%2F%20%E3%80%90%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%952%E3%80%91%E8%AE%A1%E7%AE%97%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E5%9C%A8%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E9%9C%80%E8%A6%81%E7%9A%84%E6%97%B6%E9%97%B4%0A%2F%2F%20%E5%87%8F%E5%8D%8A%E6%95%88%E6%9E%9C%E8%A7%A6%E5%8F%91%E6%9D%A1%E4%BB%B6%EF%BC%9A%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%E2%89%A55%E5%B0%8F%E6%97%B6%0A%2F%2F%20%E4%BD%86%E8%BF%99%E4%B8%AA5%E5%B0%8F%E6%97%B6%E6%98%AF%E5%9C%A8%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E6%95%88%E7%8E%87%E4%B8%8B%E7%9A%84%EF%BC%8C%E6%89%80%E4%BB%A5%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E9%9C%80%E8%A6%81%EF%BC%9A5%E5%B0%8F%E6%97%B6%C3%97%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E6%95%88%E7%8E%87%0AzeroEffNeedTime%20%3D%20halfOperatorEfficiency.value%20*%205%20*%2060%20*%2060%0A%2F%2F%20%E3%80%90%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%953%E3%80%91%E8%AE%A1%E7%AE%97%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E7%9A%84%E6%97%B6%E9%97%B4%E5%B7%AE%0A%2F%2F%20%E8%BF%99%E4%B8%AA%E5%B7%AE%E5%80%BC%E8%A1%A8%E7%A4%BA%EF%BC%9A%E5%BD%93%E5%89%8D%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%20-%20%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E9%9C%80%E8%A6%81%E7%9A%84%E6%9C%80%E5%B0%91%E6%97%B6%E9%97%B4%0A%2F%2F%20%E6%AD%A3%E6%95%B0%E8%A1%A8%E7%A4%BA%E8%BF%98%E6%9C%89%E4%BD%99%E9%87%8F%EF%BC%8C%E8%B4%9F%E6%95%B0%E8%A1%A8%E7%A4%BA%E5%B7%B2%E7%BB%8F%E4%B8%8D%E5%A4%9F%E4%BA%86%0AtimeDifference%20%3D%20zeroEffRemainSeconds.value%20-%20zeroEffNeedTime%0A%2F%2F%20%E3%80%90%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%954%E3%80%91%E5%B0%86%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E7%9A%84%E6%97%B6%E9%97%B4%E5%B7%AE%E8%BD%AC%E6%8D%A2%E5%9B%9E%E5%BD%93%E5%89%8D%E6%95%88%E7%8E%87%E4%B8%8B%E7%9A%84%E6%97%B6%E9%97%B4%E5%B7%AE%0A%2F%2F%20%E5%9B%A0%E4%B8%BA%E6%9C%80%E7%BB%88%E8%A6%81%E5%91%8A%E8%AF%89%E7%94%A8%E6%88%B7%22%E8%BF%98%E6%9C%89X%E5%88%86%E9%92%9F%E9%9C%80%E8%A6%81%E6%8D%A2%E5%B9%B2%E5%91%98%22%EF%BC%8C%E8%BF%99%E4%B8%AAX%E6%98%AF%E5%9C%A8%E5%BD%93%E5%89%8D%E6%95%88%E7%8E%87%E4%B8%8B%E7%9A%84%E6%97%B6%E9%97%B4%0AtimeDifference%20%2F%3D%20nowEfficiency.value%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5%EF%BC%9A%E7%8A%B6%E6%80%81%E5%88%A4%E6%96%AD%E5%92%8C%E7%94%A8%E6%88%B7%E6%8F%90%E9%86%92%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%2F%2F%20%E8%AE%A1%E7%AE%97%E4%BD%99%E8%A3%95%E6%97%B6%E9%97%B4%EF%BC%9A%E6%97%B6%E9%97%B4%E5%B7%AE%E5%87%8F%E5%8E%BB%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E7%9A%84%E6%8F%90%E5%89%8D%E6%8F%90%E9%86%92%E6%97%B6%E9%97%B4%0A%2F%2F%20%E6%AF%94%E5%A6%82%E6%97%B6%E9%97%B4%E5%B7%AE%E8%BF%98%E6%9C%8910%E5%88%86%E9%92%9F%EF%BC%8C%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E6%8F%90%E5%89%8D5%E5%88%86%E9%92%9F%E6%8F%90%E9%86%92%EF%BC%8C%E9%82%A3%E4%B9%88%E4%BD%99%E8%A3%95%E6%97%B6%E9%97%B4%E5%B0%B1%E6%98%AF5%E5%88%86%E9%92%9F%0AampleTime%20%3D%20timeDifference%20-%20halfOperatorParams.leadTime%20*%2060%0Aif%20(ampleTime%20%3E%200)%20%7B%0A%2F%2F%20%E3%80%90%E7%8A%B6%E6%80%811%EF%BC%9A%E6%88%90%E5%8A%9F%E3%80%91%E8%BF%98%E6%9C%89%E5%85%85%E8%B6%B3%E7%9A%84%E4%BD%99%E8%A3%95%E6%97%B6%E9%97%B4%0Astate.value%20%3D%20%22success%22%0A%2F%2F%20%E8%AE%A1%E7%AE%97%E5%85%B7%E4%BD%93%E7%9A%84%E6%8F%90%E9%86%92%E6%97%B6%E9%97%B4%E7%82%B9%0A%2F%2F%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E8%B7%9D%E7%A6%BB%E5%8D%88%E5%A4%9C%E7%9A%84%E7%A7%92%E6%95%B0%EF%BC%8C%E5%8A%A0%E4%B8%8A%E4%BD%99%E8%A3%95%E6%97%B6%E9%97%B4%EF%BC%8C%E5%B0%B1%E6%98%AF%E6%8F%90%E9%86%92%E7%9A%84%E6%97%B6%E9%97%B4%E7%82%B9%0A%2F%2F%20%E5%A6%82%E6%9E%9C%E8%B6%85%E8%BF%8724%E5%B0%8F%E6%97%B6%EF%BC%8886400%E7%A7%92%EF%BC%89%EF%BC%8C%E5%B0%B1%E5%87%8F%E5%8E%BB86400%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%AC%AC%E4%BA%8C%E5%A4%A9%E7%9A%84%E6%97%B6%E9%97%B4%0AremindTime%20%3D%20secondsToTimeString(%0AgetSecondsSinceMidnight()%20%2B%20ampleTime%20%3E%2086400%20%3F%0AMath.floor(getSecondsSinceMidnight()%20%2B%20ampleTime%20-%2086400)%20%3A%0AMath.floor(getSecondsSinceMidnight()%20%2B%20ampleTime)%0A)%0A%2F%2F%20%E7%94%9F%E6%88%90%E6%8F%90%E9%86%92%E6%96%87%E6%9C%AC%0AremindText.value%20%3D%20%60%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E7%9A%84%E4%B8%93%E7%B2%BE%E5%87%8F%E5%8D%8A%E6%95%88%E6%9E%9C%E5%B0%86%E5%9C%A8%24%7BMath.floor(timeDifference%20%2F%2060)%7D%E5%88%86%E9%92%9F%E5%90%8E%E8%BF%8E%E6%9D%A5%E4%B8%B4%E7%95%8C%E8%A7%A6%E5%8F%91%E7%82%B9%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%88%B6%E5%AE%9A%24%7BremindTime%7D%E6%97%B6%E9%97%B4%E7%82%B9%E7%9A%84%E9%97%B9%E9%92%9F(%E3%80%83'%E2%96%BD'%E3%80%83)%60%0A%7D%20else%20if%20(timeDifference%20%3E%200)%20%7B%0A%2F%2F%20%E3%80%90%E7%8A%B6%E6%80%812%EF%BC%9A%E8%AD%A6%E5%91%8A%E3%80%91%E4%BD%99%E8%A3%95%E6%97%B6%E9%97%B4%E4%B8%8D%E8%B6%B3%EF%BC%8C%E4%BD%86%E8%BF%98%E8%83%BD%E8%A7%A6%E5%8F%91%E5%87%8F%E5%8D%8A%E6%95%88%E6%9E%9C%0Astate.value%20%3D%20%22warning%22%0AremindText.value%20%3D%20%22%E7%AB%8B%EF%BC%8C%E5%88%BB%EF%BC%8C%E6%8D%A2%EF%BC%8C%E5%87%8F%EF%BC%8C%E5%8D%8A%EF%BC%8C%E5%B9%B2%EF%BC%8C%E5%91%98%EF%BC%81%EF%BC%81%EF%BC%81(%E2%95%AC%E2%97%A3%D0%B4%E2%97%A2)%22%0A%7D%20else%20%7B%0A%2F%2F%20%E3%80%90%E7%8A%B6%E6%80%813%EF%BC%9A%E5%8D%B1%E9%99%A9%E3%80%91%E5%B7%B2%E7%BB%8F%E9%94%99%E8%BF%87%E4%BA%86%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA%EF%BC%8C%E6%97%A0%E6%B3%95%E8%A7%A6%E5%8F%91%E5%87%8F%E5%8D%8A%E6%95%88%E6%9E%9C%0Astate.value%20%3D%20%22danger%22%0AremindText.value%20%3D%20%22%E5%B7%B2%E7%BB%8F...%E5%B7%B2%E7%BB%8F%E8%A7%A6%E5%8F%91%E4%B8%8D%E4%BA%86%E4%BA%86...o(%E2%95%A5%EF%B9%8F%E2%95%A5)o%22%0A%7D%0A%7D%20else%20%7B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%AE%8C%E6%95%B4%E6%97%B6%E7%9A%84%E9%BB%98%E8%AE%A4%E7%8A%B6%E6%80%81%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0Astate.value%20%3D%20%22info%22%0AremindText.value%20%3D%20%22%E5%BE%97%E5%85%88%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE%E6%89%8D%E4%BC%9A%E6%9C%89%E7%BB%93%E6%9E%9C%E5%93%A6(%EF%BF%A3%E2%96%BD%EF%BF%A3)%22%0A%7D%0A%7D">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">javascript</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code class="language-javascript"><span class="hljs-keyword inline">function</span> <span class="hljs-title function_ inline">calculateTime</span>(<span class="hljs-params inline"></span>) {
  <span class="hljs-comment inline">// ==================== 第一阶段：计算基础效率 ====================</span>
  
  <span class="hljs-comment inline">// 计算额外效率加成</span>
  <span class="hljs-comment inline">// 训练室基础效率固定为5%，如果控制中枢有阿斯卡纶/烛煌再额外加5%</span>
  extraEfficiency = <span class="hljs-number inline">0.05</span> + (halfOperatorParams.<span class="hljs-property inline">hasAscalon</span> ? <span class="hljs-number inline">0.05</span> : <span class="hljs-number inline">0</span>)
  
  <span class="hljs-comment inline">// 计算当前总效率（未换减半干员时的效率）</span>
  <span class="hljs-comment inline">// 公式：基础100% + 专精助手干员效率 + 额外效率</span>
  nowEfficiency.<span class="hljs-property inline">value</span> = <span class="hljs-number inline">1</span> + halfOperatorParams.<span class="hljs-property inline">efficiency</span> + extraEfficiency
  
  <span class="hljs-comment inline">// 计算减半干员的总效率（换了减半干员后的效率）</span>
  <span class="hljs-comment inline">// 如果减半干员有职业加成，就加上对应的加成值，否则只加基础额外效率</span>
  halfOperatorEfficiency.<span class="hljs-property inline">value</span> = halfOperatorParams.<span class="hljs-property inline">isFit</span> ? 
    <span class="hljs-number inline">1</span> + halfOperatorParams.<span class="hljs-property inline">halfOperatorAddition</span> + extraEfficiency : 
    <span class="hljs-number inline">1</span> + extraEfficiency;

  <span class="hljs-comment inline">// ==================== 第二阶段：检查输入数据完整性 ====================</span>
  
  <span class="hljs-comment inline">// 只有当效率和剩余时间都有值时才进行计算</span>
  <span class="hljs-keyword inline">if</span> (halfOperatorParams.<span class="hljs-property inline">efficiency</span> != <span class="hljs-literal inline">null</span> &amp;&amp; halfOperatorParams.<span class="hljs-property inline">remainder</span> != <span class="hljs-literal inline">null</span>) {
    
    <span class="hljs-comment inline">// ==================== 第三阶段：时间换算核心逻辑 ====================</span>
    
    <span class="hljs-comment inline">// 将用户输入的时间格式（如&quot;04:30:15&quot;）转换为总秒数</span>
    remainSeconds = <span class="hljs-title function_ inline">convertToSeconds</span>(halfOperatorParams.<span class="hljs-property inline">remainder</span>)
    
    <span class="hljs-comment inline">// 【核心算法1】计算零效率下的实际剩余时间</span>
    <span class="hljs-comment inline">// 为什么要乘以当前效率？因为要把&quot;有效率加成下的显示时间&quot;换算成&quot;零效率下的真实时间&quot;</span>
    <span class="hljs-comment inline">// 举例：显示1小时，当前170%效率，那么零效率下实际需要1×1.7=1.7小时</span>
    zeroEffRemainSeconds.<span class="hljs-property inline">value</span> = remainSeconds * nowEfficiency.<span class="hljs-property inline">value</span>
    
    <span class="hljs-comment inline">// 【核心算法2】计算减半干员在零效率下需要的时间</span>
    <span class="hljs-comment inline">// 减半效果触发条件：剩余时间≥5小时</span>
    <span class="hljs-comment inline">// 但这个5小时是在减半干员效率下的，所以零效率下需要：5小时×减半干员效率</span>
    zeroEffNeedTime = halfOperatorEfficiency.<span class="hljs-property inline">value</span> * <span class="hljs-number inline">5</span> * <span class="hljs-number inline">60</span> * <span class="hljs-number inline">60</span>
    
    <span class="hljs-comment inline">// 【核心算法3】计算零效率下的时间差</span>
    <span class="hljs-comment inline">// 这个差值表示：当前剩余时间 - 减半干员需要的最少时间</span>
    <span class="hljs-comment inline">// 正数表示还有余量，负数表示已经不够了</span>
    timeDifference = zeroEffRemainSeconds.<span class="hljs-property inline">value</span> - zeroEffNeedTime
    
    <span class="hljs-comment inline">// 【核心算法4】将零效率下的时间差转换回当前效率下的时间差</span>
    <span class="hljs-comment inline">// 因为最终要告诉用户&quot;还有X分钟需要换干员&quot;，这个X是在当前效率下的时间</span>
    timeDifference /= nowEfficiency.<span class="hljs-property inline">value</span>
    
    <span class="hljs-comment inline">// ==================== 第四阶段：状态判断和用户提醒 ====================</span>
    
    <span class="hljs-comment inline">// 计算余裕时间：时间差减去用户设置的提前提醒时间</span>
    <span class="hljs-comment inline">// 比如时间差还有10分钟，用户设置提前5分钟提醒，那么余裕时间就是5分钟</span>
    ampleTime = timeDifference - halfOperatorParams.<span class="hljs-property inline">leadTime</span> * <span class="hljs-number inline">60</span>
    
    <span class="hljs-keyword inline">if</span> (ampleTime &gt; <span class="hljs-number inline">0</span>) {
      <span class="hljs-comment inline">// 【状态1：成功】还有充足的余裕时间</span>
      state.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;success&quot;</span>
      
      <span class="hljs-comment inline">// 计算具体的提醒时间点</span>
      <span class="hljs-comment inline">// 获取当前时间距离午夜的秒数，加上余裕时间，就是提醒的时间点</span>
      <span class="hljs-comment inline">// 如果超过24小时（86400秒），就减去86400，表示第二天的时间</span>
      remindTime = <span class="hljs-title function_ inline">secondsToTimeString</span>(
        <span class="hljs-title function_ inline">getSecondsSinceMidnight</span>() + ampleTime &gt; <span class="hljs-number inline">86400</span> ?
          <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(<span class="hljs-title function_ inline">getSecondsSinceMidnight</span>() + ampleTime - <span class="hljs-number inline">86400</span>) :
          <span class="hljs-title class_ inline">Math</span>.<span class="hljs-title function_ inline">floor</span>(<span class="hljs-title function_ inline">getSecondsSinceMidnight</span>() + ampleTime)
      )
      
      <span class="hljs-comment inline">// 生成提醒文本</span>
      remindText.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">`减半干员的专精减半效果将在<span class="hljs-subst inline">${<span class="hljs-built_in inline">Math</span>.floor(timeDifference / <span class="hljs-number inline">60</span>)}</span>分钟后迎来临界触发点，可以制定<span class="hljs-subst inline">${remindTime}</span>时间点的闹钟(〃&#x27;▽&#x27;〃)`</span>
      
    } <span class="hljs-keyword inline">else</span> <span class="hljs-keyword inline">if</span> (timeDifference &gt; <span class="hljs-number inline">0</span>) {
      <span class="hljs-comment inline">// 【状态2：警告】余裕时间不足，但还能触发减半效果</span>
      state.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;warning&quot;</span>
      remindText.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;立，刻，换，减，半，干，员！！！(╬◣д◢)&quot;</span>
      
    } <span class="hljs-keyword inline">else</span> {
      <span class="hljs-comment inline">// 【状态3：危险】已经错过了最佳时机，无法触发减半效果</span>
      state.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;danger&quot;</span>
      remindText.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;已经...已经触发不了了...o(╥﹏╥)o&quot;</span>
    }
    
  } <span class="hljs-keyword inline">else</span> {
    <span class="hljs-comment inline">// ==================== 数据不完整时的默认状态 ====================</span>
    state.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;info&quot;</span>
    remindText.<span class="hljs-property inline">value</span> = <span class="hljs-string inline">&quot;得先输入数据才会有结果哦(￣▽￣)&quot;</span>
  }
}
</code></pre>
            </div>
        
<h3 id="算法的数学原理" class="group relative text-2xl font-semibold mt-5 mb-2 text-foreground leading-snug">
            <a href="#算法的数学原理" class="absolute -left-6 top-0 opacity-0 group-hover:opacity-100 transition-opacity text-primary/60 hover:text-primary" aria-label="Link to 算法的数学原理">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 11.414-1.414 4 4 0 105.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 10-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />
                </svg>
            </a>
            算法的数学原理
        </h3>
<p class="text-base leading-7 mb-4 text-foreground">这个算法的核心数学思想是<strong class="font-bold text-foreground">时间等价换算</strong>：</p>
<ol class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">统一基准</strong>：所有时间计算都换算到&quot;零效率基准&quot;下进行比较</li>
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">效率换算公式</strong>：</li>
</ol>
<ul class="list-disc list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed">显示时间 → 零效率时间：<code>显示时间 × 当前效率</code></li>
<li class="text-foreground leading-relaxed">零效率时间 → 显示时间：<code>零效率时间 ÷ 当前效率</code></li>
</ul>
<ol start="3" class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">临界点判断</strong>：</li>
</ol>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%20%E2%89%A5%20%E9%9B%B6%E6%95%88%E7%8E%87%E4%B8%8B%E5%87%8F%E5%8D%8A%E5%B9%B2%E5%91%98%E9%9C%80%E8%A6%81%E6%97%B6%E9%97%B4%0A%E5%8D%B3%EF%BC%9AremainSeconds%20%C3%97%20nowEfficiency%20%E2%89%A5%205%E5%B0%8F%E6%97%B6%20%C3%97%20halfOperatorEfficiency">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code>零效率下剩余时间 ≥ 零效率下减半干员需要时间
即：remainSeconds × nowEfficiency ≥ 5小时 × halfOperatorEfficiency
</code></pre>
            </div>
        
<ol start="4" class="list-decimal list-inside mb-4 pl-6 space-y-2">
<li class="text-foreground leading-relaxed"><strong class="font-bold text-foreground">时间差计算</strong>：</li>
</ol>

            <div class="enhanced-codeblock relative mb-6 rounded-lg border bg-background border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm" data-enhanced-codeblock="true" data-language="" data-code="%E5%AE%9E%E9%99%85%E5%8F%AF%E7%94%A8%E6%97%B6%E9%97%B4%20%3D%20(%E5%89%A9%E4%BD%99%E6%97%B6%E9%97%B4%20-%20%E6%9C%80%E5%B0%91%E9%9C%80%E8%A6%81%E6%97%B6%E9%97%B4)%20%C3%B7%20%E5%BD%93%E5%89%8D%E6%95%88%E7%8E%87">
                <div class="codeblock-header flex items-center justify-between px-4 py-2 bg-surface border-b border-gray-200 dark:border-gray-700">
                    <span class="codeblock-language text-xs font-medium uppercase tracking-wide text-foreground opacity-70 inline">code</span>
                    <button class="codeblock-copy-btn inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium border rounded transition-all duration-200 bg-background hover:bg-surface text-foreground hover:text-primary border-gray-300 dark:border-gray-600 hover:scale-105 active:scale-95" title="复制代码">
                        <svg class="copy-icon w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                        </svg>
                        <svg class="copied-icon w-4 h-4 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="copy-text inline">复制</span>
                    </button>
                </div>
                <pre class="codeblock-content p-4 overflow-x-auto font-mono text-sm leading-relaxed bg-surface text-foreground"><code>实际可用时间 <span class="hljs-operator inline">=</span> (剩余时间 - 最少需要时间) ÷ 当前效率
</code></pre>
            </div>
        
d:["$","$L1d",null,{"htmlContent":"$1e","frontMatter":{"title":"专精时间减半计算器 - 算法详解","description":"详细解析专精时间减半计算器的核心算法逻辑","date":"2025-06-22","author":"MilkWind","tags":["算法解析","明日方舟"],"references":{}},"readingTime":"13 min read","category":"ark-yituliu","tocItems":[{"id":"专精时间减半计算器-算法详解","text":"专精时间减半计算器 - 算法详解","level":1},{"id":"前言","text":"前言","level":2},{"id":"核心算法解析","text":"核心算法解析","level":2},{"id":"数据结构设计","text":"数据结构设计","level":3},{"id":"算法核心逻辑","text":"算法核心逻辑","level":3},{"id":"时间计算的精髓","text":"时间计算的精髓","level":3},{"id":"状态判断逻辑","text":"状态判断逻辑","level":3},{"id":"ui-数据显示逻辑","text":"UI 数据显示逻辑","level":2},{"id":"效率显示","text":"效率显示","level":3},{"id":"剩余时间格式化","text":"剩余时间格式化","level":3},{"id":"提醒时间计算","text":"提醒时间计算","level":3},{"id":"实际应用场景","text":"实际应用场景","level":2},{"id":"算法全代码解析","text":"算法全代码解析","level":2},{"id":"算法的数学原理","text":"算法的数学原理","level":3}],"translations":{"common":{"welcome":"欢迎","loading":"加载中...","error":"出现了一些问题","retry":"重试","theme":"主题","language":"语言","light":"浅色","dark":"深色"},"navigation":{"home":"首页","personal":"个人","works":"作品","contributions":"贡献","documents":"文档","about":"关于","contact":"联系"},"personal":{"technicalSkills":"技术技能","email":"邮箱","github":"代码仓库","resume":"简历","codeRepository":"代码仓库","loadingPersonalInfo":"加载个人信息中...","loadingResume":"加载简历中...","closeResume":"关闭简历","emailCopied":"邮箱已复制到剪贴板！","galaxyDefaultDescription":"精通全栈开发技术，具备跨平台架构能力，擅长AI技术整合与高性能系统优化","skillGalaxy":"技能星系","stirGalaxy":"搅动星系","stirring":"搅动中...","fullStackEngineer":"MilkWind - 全栈工程师","professionalProfile":"关于我"},"documents":{"technicalDocuments":"技术文档","description":"基本原理、代码拆分以及一些碎碎念。","articles":"文章","categories":"分类","allCategories":"所有分类","noArticlesFound":"未找到文章","noArticlesAvailable":"中文暂无文章。","noArticlesInCategory":"该分类下未找到文章。","readMore":"阅读更多","loadingDocuments":"加载文档中...","backToDocuments":"← 返回文档","documentNotFound":"文档未找到","documentNotFoundDescription":"请求的文档无法找到。","technicalInsights":"技术拆解","untitledDocument":"无标题文档","byAuthor":"作者：","search":"搜索文章...","searchByTags":"按标签筛选","searching":"搜索中...","noSearchResults":"没有找到符合搜索条件的文章","clearSearch":"清除搜索","selectedTags":"已选标签","allTags":"所有标签","searchInTitle":"在标题、描述和内容中搜索","enterImmersiveMode":"沉浸阅读","exitImmersiveMode":"退出沉浸模式","immersiveReading":"沉浸阅读模式","exploreContent":"按分类探索内容","browseBy":"浏览方式","exploreAll":"所有内容汇总","categoryDescription":"该分类下的文章","totalArticles":"文章","totalCategories":"分类","foundArticles":"找到文章","categoriesWithResults":"有结果的分类"},"works":{"workCases":"作品案例","projects":"作品集","loadingProjects":"加载项目中...","grid":"网格","stack":"堆叠","of":"共","workCasesPageTitle":"作品案例页面","pageWorkingCorrectly":"此页面运行正常！路由配置正确。","try3DVersion":"尝试3D版本","dragToScroll":"拖拽滚动","dragToChange":"拖拽切换","swipeCards":"切换卡片","keyboardNav":"键盘导航"},"contributions":{"contributionCases":"开源项目","contributions":"贡献","loadingContributions":"加载贡献中...","grid":"网格","stack":"堆叠","of":"共","contributionCasesPageTitle":"贡献案例页面","pageWorkingCorrectly":"此页面运行正常！路由配置正确。","try3DVersion":"尝试3D版本","dragToScroll":"拖拽滚动","dragToChange":"拖拽切换","swipeCards":"切换卡片","keyboardNav":"键盘导航"},"contribution":{"contributionPreview":"贡献预览","accessible":"可访问","code":"代码","maintenance":"维护","enhancement":"增强","documentation":"文档","community":"社区","moreItems":"更多","technicalDetails":"技术详情","technologies":"技术栈：","contributionDetail":"贡献详情","description":"描述：","seeDetails":"查看详情","github":"代码仓库","viewContribution":"查看贡献","viewCode":"查看代码"},"project":{"projectPreview":"项目预览","accessible":"可访问","tool":"工具","plugin":"插件","toy":"小玩意","moreItems":"更多","technicalDetails":"技术详情","technologies":"技术栈：","description":"描述：","seeDetails":"查看详情","github":"GitHub","gitee":"Gitee","viewLiveDemo":"查看演示","viewCode":"查看代码","access":"访问","videos":"视频","watchVideo":"观看视频","hasVideo":"有视频"},"codeblock":{"copy":"复制","copySuccess":"代码已复制到剪贴板！","copyError":"复制代码失败","copyTooltip":"复制代码"},"toc":{"contents":"目录","autoScroll":"自动滚动到章节","collapse":"折叠","expand":"展开"},"loading":{"loading":"加载中","preparingExperience":"准备体验中"}},"lang":"zh","theme":"light"}]
12:null
18:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
11:null
1c:{"metadata":[["$","title","0",{"children":"专精时间减半计算器 - 算法详解 | Interactive Portfolio"}],["$","meta","1",{"name":"description","content":"详细解析专精时间减半计算器的核心算法逻辑"}],["$","meta","2",{"name":"author","content":"Developer"}],["$","meta","3",{"name":"keywords","content":"portfolio,3D,interactive,web development,Three.js,Next.js"}],["$","meta","4",{"property":"og:title","content":"专精时间减半计算器 - 算法详解 | Interactive Portfolio"}],["$","meta","5",{"property":"og:description","content":"详细解析专精时间减半计算器的核心算法逻辑"}],["$","meta","6",{"property":"og:type","content":"article"}],["$","meta","7",{"property":"article:published_time","content":"2025-06-22"}],["$","meta","8",{"property":"article:tag","content":"算法解析"}],["$","meta","9",{"property":"article:tag","content":"明日方舟"}],["$","meta","10",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","11",{"name":"twitter:title","content":"专精时间减半计算器 - 算法详解 | Interactive Portfolio"}],["$","meta","12",{"name":"twitter:description","content":"详细解析专精时间减半计算器的核心算法逻辑"}],["$","link","13",{"rel":"icon","href":"/MilkWind-Website/favicon.ico","type":"image/x-icon","sizes":"32x32"}]],"error":null,"digest":"$undefined"}
14:{"metadata":"$1c:metadata","error":null,"digest":"$undefined"}
