(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1873],{2990:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,Y:()=>o});let o={en:{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"},zh:{code:"zh",name:"中文",flag:"\uD83C\uDDE8\uD83C\uDDF3"}},r="en"},23114:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var o=n(12115),r=n(78735);function c(){let[e,t]=(0,o.useState)(null),[n,c]=(0,o.useState)(!0),{locale:s}=(0,r.D)();return(0,o.useEffect)(()=>{c(!0),fetch("/locales/".concat(s,"/common.json")).then(e=>e.json()).then(e=>{t(e),c(!1)}).catch(e=>{c(!1)})},[s]),{t:t=>{if(!e)return t;let n=t.split("."),o=e;for(let e of n)if(!o||"object"!=typeof o||!(e in o))return t;else o=o[e];return"string"==typeof o?o:t},isLoading:n,translations:e}}},51706:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,41384,23)),Promise.resolve().then(n.bind(n,57340))},57340:(e,t,n)=>{"use strict";n.d(t,{DocumentPageClient:()=>f});var o=n(95155),r=n(23114),c=n(12115);function s(e){let{tocItems:t}=e,{t:n}=(0,r.B)(),[s,a]=(0,c.useState)(""),[i,l]=(0,c.useState)(!1),[d,u]=(0,c.useState)(!1),m=(0,c.useRef)(null),p=(0,c.useRef)([]),h=(0,c.useRef)(null),f=(0,c.useRef)(null),g=(0,c.useCallback)(e=>{a(t=>t!==e?e:t)},[]);(0,c.useEffect)(()=>{if(!s||d||!h.current||!f.current)return;let e=h.current,t=f.current,n=e.getBoundingClientRect(),o=t.getBoundingClientRect();if(!(o.top>=n.top&&o.bottom<=n.bottom)){let n=e.clientHeight,o=t.offsetTop,r=t.offsetHeight;e.scrollTo({top:Math.max(0,o-n/2+r/2),behavior:"smooth"})}},[s,d]),(0,c.useEffect)(()=>{if(l(t.length>0),0===t.length)return;m.current&&m.current.disconnect();let e=()=>(p.current=t.map(e=>{let{id:t}=e;return document.getElementById(t)}).filter(Boolean),!!p.current.every(e=>e instanceof HTMLElement)&&(m.current=new IntersectionObserver(e=>{let t=e.filter(e=>e.isIntersecting);if(0===t.length)return;let n=t[0],o=0;for(let e of t){let t=e.boundingClientRect,r=e.intersectionRatio;t.top>=0&&t.top<=150&&(r+=(150-t.top)/150),r>o&&(o=r,n=e)}g(n.target.id)},{root:null,rootMargin:"-5% 0px -60% 0px",threshold:[0,.1,.3,.5,.7,1]}),!!m.current&&(p.current.forEach(e=>{m.current.observe(e)}),!0))),n=setTimeout(()=>{if(!e()){let t=0,n=()=>{t>=20||setTimeout(()=>{e()||(t++,n())},100*(t+1))};n()}},2e3);return()=>{m.current&&m.current.disconnect(),n&&clearTimeout(n)}},[t,g]);let x=e=>{let t=document.getElementById(e);t&&(a(e),t.scrollIntoView({behavior:"smooth",block:"start"}))};return i?(0,o.jsx)("div",{className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-40 hidden xl:block",children:(0,o.jsxs)("div",{className:"bg-background/95 backdrop-blur-sm border border-foreground/10 rounded-lg shadow-lg overflow-hidden",children:[(0,o.jsx)("div",{className:"p-4",children:(0,o.jsxs)("button",{onClick:()=>{u(!d)},className:"w-full flex items-center justify-between text-sm font-semibold text-foreground hover:text-primary transition-colors","aria-expanded":!d,"aria-controls":"toc-content",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),n("toc.contents")]}),(0,o.jsx)("svg",{className:"w-4 h-4 transform transition-transform duration-200 ".concat(d?"rotate-180":""),fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),(0,o.jsx)("div",{id:"toc-content",ref:h,className:"transition-all duration-300 ease-in-out overflow-hidden ".concat(d?"max-h-0":"max-h-[60vh] overflow-y-auto no-scrollbar"),children:(0,o.jsxs)("div",{className:"px-4 pb-4 max-w-xs",children:[(0,o.jsx)("nav",{className:"space-y-1",children:t.map((e,t)=>{let{id:n,text:r,level:c}=e;return(0,o.jsx)("button",{ref:s===n?f:null,onClick:()=>x(n),className:"block w-full text-left text-xs py-1.5 px-2 rounded transition-all duration-200 hover:bg-primary/10 ".concat(s===n?"bg-primary/20 text-primary border-l-2 border-primary":"text-foreground/70 hover:text-foreground"),style:{paddingLeft:"".concat((c-1)*12+8,"px")},title:r,children:(0,o.jsx)("span",{className:"line-clamp-2",children:r})},"toc-".concat(t,"-").concat(n))})}),(0,o.jsx)("div",{className:"mt-3 pt-3 border-t border-foreground/10",children:(0,o.jsxs)("div",{className:"flex items-center gap-2 text-xs text-foreground/50",children:[(0,o.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),(0,o.jsx)("span",{children:n("toc.autoScroll")})]})})]})})]})}):null}var a=n(77389),i=n(78658),l=n(60760),d=n(76408);function u(e){let{className:t="",threshold:n=300}=e,[r,s]=(0,c.useState)(!1),{currentTheme:a}=(0,i.C)();return(0,c.useEffect)(()=>{let e=()=>{window.pageYOffset>n?s(!0):s(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[n]),(0,o.jsx)(l.N,{children:r&&(0,o.jsx)(d.P.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:30},onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"\n            fixed bottom-8 right-8 z-50\n            w-12 h-12 rounded-full\n            flex items-center justify-center\n            shadow-lg backdrop-blur-sm\n            transition-all duration-300\n            hover:scale-110 active:scale-95\n            focus:outline-none focus:ring-2 focus:ring-offset-2\n            ".concat(t,"\n          "),style:{backgroundColor:"".concat(a.colors.primary,"20"),color:a.colors.primary,border:"1px solid ".concat(a.colors.primary,"40"),boxShadow:"0 8px 32px ".concat(a.colors.primary,"20")},whileHover:{backgroundColor:"".concat(a.colors.primary,"30"),boxShadow:"0 12px 40px ".concat(a.colors.primary,"30")},whileTap:{scale:.95},title:"Back to top",children:(0,o.jsx)(d.P.svg,{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{y:2},animate:{y:0},transition:{type:"spring",stiffness:400,damping:25},children:(0,o.jsx)("path",{d:"m18 15-6-6-6 6"})})})})}var m=n(6874),p=n.n(m),h=n(87764);function f(e){let{htmlContent:t,frontMatter:n,readingTime:i,category:l,tocItems:d,translations:m,theme:f}=e,{t:g}=(0,r.B)(),[x,b]=(0,c.useState)(""),[v,y]=(0,c.useState)(!1),[k,w]=(0,c.useState)(!1),{isImmersiveMode:E,setImmersiveMode:j,setInDocumentPage:L}=(0,a.b)();(0,c.useEffect)(()=>(L(!0),()=>{L(!1)}),[L]),(0,c.useEffect)(()=>{let e=document.documentElement;return e.classList.add("article-page-scroll"),()=>{e.classList.remove("article-page-scroll")}},[]),(0,c.useEffect)(()=>{if(n.date){let e=new Date(n.date);b("".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear()))}},[n.date]),(0,c.useEffect)(()=>{let e=function(e){var t,n;let o=(null==e||null==(t=e.codeblock)?void 0:t.copySuccess)||"Code copied to clipboard!",r=(null==e||null==(n=e.codeblock)?void 0:n.copyError)||"Failed to copy code",c=JSON.stringify(o),s=JSON.stringify(r);return"\n        <script>\n            (function() {\n                // Theme detection and CSS injection for code blocks\n                function injectThemeCSS() {\n                    const existingStyle = document.getElementById('codeblock-theme-styles');\n                    if (existingStyle) {\n                        existingStyle.remove();\n                    }\n                    \n                    // Get current theme from HTML class\n                    const isDark = document.documentElement.classList.contains('dark');\n                    \n                    // Check if we're in fullscreen reading mode\n                    const isFullscreenReading = document.querySelector('.fullscreen-reading') !== null;\n                    \n                    // Define theme-specific styles using CSS custom properties\n                    const themeStyles = `\n                        .enhanced-codeblock {\n                            background-color: var(--color-background) !important;\n                            border-color: ${isDark ? '#374151' : '#e5e7eb'} !important;\n                        }\n                        .codeblock-header {\n                            background-color: var(--color-surface) !important;\n                            border-bottom-color: ${isDark ? '#374151' : '#e5e7eb'} !important;\n                        }\n                        .codeblock-language {\n                            color: var(--color-foreground) !important;\n                            opacity: 0.7;\n                        }\n                        .codeblock-copy-btn {\n                            background-color: var(--color-background) !important;\n                            color: var(--color-foreground) !important;\n                            border-color: ${isDark ? '#4b5563' : '#d1d5db'} !important;\n                        }\n                        .codeblock-copy-btn:hover {\n                            background-color: var(--color-surface) !important;\n                            color: var(--color-primary) !important;\n                        }\n                        .codeblock-content {\n                            background-color: var(--color-surface) !important;\n                            color: var(--color-foreground) !important;\n                        }\n                        .codeblock-content code {\n                            color: var(--color-foreground) !important;\n                        }\n                        \n                        /* Fullscreen reading mode specific styles */\n                        ${isFullscreenReading ? `\n                        .fullscreen-reading .enhanced-codeblock {\n                            margin: 1.5rem 0 !important;\n                            border-radius: 8px !important;\n                            background: var(--color-surface) !important;\n                            border: 1px solid ${isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'} !important;\n                        }\n                        .fullscreen-reading .enhanced-codeblock .codeblock-header {\n                            background: var(--color-background) !important;\n                            border-bottom: 1px solid ${isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'} !important;\n                        }\n                        .fullscreen-reading .enhanced-codeblock .codeblock-content {\n                            background: var(--color-surface) !important;\n                            font-size: 0.875rem !important;\n                            line-height: 1.6 !important;\n                        }\n                        ` : ''}\n                    `;\n                    \n                    // Create and inject style element\n                    const styleElement = document.createElement('style');\n                    styleElement.id = 'codeblock-theme-styles';\n                    styleElement.textContent = themeStyles;\n                    document.head.appendChild(styleElement);\n                }\n                \n                // Observe theme changes\n                function observeThemeChanges() {\n                    // Watch for class changes on html element and body element (for fullscreen mode)\n                    const observer = new MutationObserver(function(mutations) {\n                        mutations.forEach(function(mutation) {\n                            if (mutation.type === 'attributes' && \n                                mutation.attributeName === 'class' && \n                                (mutation.target === document.documentElement || mutation.target === document.body)) {\n                                setTimeout(injectThemeCSS, 10); // Small delay to ensure theme change is complete\n                            }\n                            \n                            // Also watch for fullscreen-reading class changes\n                            if (mutation.type === 'childList' || mutation.type === 'attributes') {\n                                const fullscreenElement = document.querySelector('.fullscreen-reading');\n                                if (fullscreenElement) {\n                                    setTimeout(injectThemeCSS, 10);\n                                }\n                            }\n                        });\n                    });\n                    \n                    observer.observe(document.documentElement, {\n                        attributes: true,\n                        attributeFilter: ['class']\n                    });\n                    \n                    observer.observe(document.body, {\n                        attributes: true,\n                        childList: true,\n                        subtree: true,\n                        attributeFilter: ['class']\n                    });\n                    \n                    // Also listen to system theme changes\n                    if (window.matchMedia) {\n                        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n                        mediaQuery.addListener(function() {\n                            setTimeout(injectThemeCSS, 10);\n                        });\n                    }\n                }\n                \n                // Create floating toast notification\n                function showToast(message, type = 'success') {\n                    // Remove existing toasts\n                    const existingToasts = document.querySelectorAll('.copy-toast');\n                    existingToasts.forEach(toast => toast.remove());\n                    \n                    // Create toast element\n                    const toast = document.createElement('div');\n                    toast.className = 'copy-toast fixed top-4 right-4 z-[9999] px-4 py-2 rounded-lg shadow-lg transition-all duration-300 transform translate-x-full opacity-0';\n                    \n                    if (type === 'success') {\n                        toast.className += ' bg-green-500 text-white';\n                    } else {\n                        toast.className += ' bg-red-500 text-white';\n                    }\n                    \n                    toast.innerHTML = `\n                        <div class=\"flex items-center gap-2\">\n                            <svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\"></path>\n                            </svg>\n                            <span>` + message + `</span>\n                        </div>\n                    `;\n                    \n                    document.body.appendChild(toast);\n                    \n                    // Animate in\n                    setTimeout(() => {\n                        toast.classList.remove('translate-x-full', 'opacity-0');\n                    }, 10);\n                    \n                    // Auto remove after 3 seconds\n                    setTimeout(() => {\n                        toast.classList.add('translate-x-full', 'opacity-0');\n                        setTimeout(() => toast.remove(), 300);\n                    }, 3000);\n                }\n                \n                // Add copy functionality to code blocks\n                function initializeCodeBlocks() {\n                    const codeBlocks = document.querySelectorAll('.enhanced-codeblock');\n                    \n                    codeBlocks.forEach(function(block, blockIndex) {\n                        const copyBtn = block.querySelector('.codeblock-copy-btn');\n                        if (!copyBtn || copyBtn.hasAttribute('data-initialized')) return;\n                        \n                        // Add unique identifier to prevent duplicate keys\n                        const uniqueId = 'codeblock-' + blockIndex;\n                        block.setAttribute('data-block-id', uniqueId);\n                        \n                        // Mark as initialized to prevent duplicate listeners\n                        copyBtn.setAttribute('data-initialized', 'true');\n                        \n                        copyBtn.addEventListener('click', async function(e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            \n                            try {\n                                // Try to get code from data attribute first\n                                let code = block.getAttribute('data-code');\n                                if (code) {\n                                    code = decodeURIComponent(code);\n                                } else {\n                                    // Fallback: extract text from code element\n                                    const codeElement = block.querySelector('pre code');\n                                    if (codeElement) {\n                                        // Use textContent to get pure text without HTML tags\n                                        code = codeElement.textContent || codeElement.innerText || '';\n                                    }\n                                }\n                                \n                                // Additional cleanup to ensure pure text (safety net)\n                                if (code) {\n                                    // Clean up HTML entities\n                                    code = code\n                                        .replace(/&lt;/g, '<')\n                                        .replace(/&gt;/g, '>')\n                                        .replace(/&amp;/g, '&')\n                                        .replace(/&quot;/g, '\"')\n                                        .replace(/&#x27;/g, \"'\")\n                                        .replace(/&#39;/g, \"'\")\n                                        .replace(/&nbsp;/g, ' ');\n                                    \n                                    // Remove HTML tags using DOM method (safer than regex)\n                                    var tempDiv = document.createElement('div');\n                                    tempDiv.innerHTML = code;\n                                    code = tempDiv.textContent || tempDiv.innerText || '';\n                                    \n                                    // Simple whitespace cleanup without regex\n                                    code = code.trim();\n                                }\n                                \n                                if (!code) {\n                                    throw new Error('No code found to copy');\n                                }\n                                \n                                // Copy to clipboard\n                                if (navigator.clipboard && navigator.clipboard.writeText) {\n                                    await navigator.clipboard.writeText(code);\n                                } else {\n                                    // Fallback for older browsers\n                                    const textArea = document.createElement('textarea');\n                                    textArea.value = code;\n                                    textArea.style.position = 'fixed';\n                                    textArea.style.left = '-999999px';\n                                    textArea.style.top = '-999999px';\n                                    document.body.appendChild(textArea);\n                                    textArea.focus();\n                                    textArea.select();\n                                    document.execCommand('copy');\n                                    textArea.remove();\n                                }\n                                \n                                // Show success toast\n                                showToast(".concat(c,", 'success');\n                                \n                                // Update button appearance\n                                const copyIcon = copyBtn.querySelector('.copy-icon');\n                                const copiedIcon = copyBtn.querySelector('.copied-icon');\n                                const copyText = copyBtn.querySelector('.copy-text');\n                                const copiedText = copyBtn.querySelector('.copied-text');\n                                \n                                if (copyIcon) copyIcon.classList.add('hidden');\n                                if (copiedIcon) copiedIcon.classList.remove('hidden');\n                                if (copyText) copyText.classList.add('hidden');\n                                if (copiedText) copiedText.classList.remove('hidden');\n                                \n                                // Reset button after 2 seconds\n                                setTimeout(function() {\n                                    if (copyIcon) copyIcon.classList.remove('hidden');\n                                    if (copiedIcon) copiedIcon.classList.add('hidden');\n                                    if (copyText) copyText.classList.remove('hidden');\n                                    if (copiedText) copiedText.classList.add('hidden');\n                                }, 2000);\n                                \n                            } catch (err) {\n                                console.error('Failed to copy code:', err);\n                                showToast(").concat(s,", 'error');\n                            }\n                        });\n                    });\n                }\n                \n                // Initialize when DOM is ready\n                if (document.readyState === 'loading') {\n                    document.addEventListener('DOMContentLoaded', function() {\n                        initializeCodeBlocks();\n                        injectThemeCSS();\n                        observeThemeChanges();\n                    });\n                } else {\n                    initializeCodeBlocks();\n                    injectThemeCSS();\n                    observeThemeChanges();\n                }\n                \n                // Also reinitialize when new content is added (for dynamic content)\n                // Use a unique observer ID to prevent duplicate observers\n                const observerId = 'codeblock-observer';\n                if (!window['__codeblock_observers__']) {\n                    window['__codeblock_observers__'] = new Set();\n                }\n                \n                if (!window['__codeblock_observers__'].has(observerId)) {\n                    window['__codeblock_observers__'].add(observerId);\n                    \n                    const observer = new MutationObserver(function(mutations) {\n                        let shouldReinitialize = false;\n                        mutations.forEach(function(mutation) {\n                            mutation.addedNodes.forEach(function(node) {\n                                if (node.nodeType === 1 && (node.classList.contains('enhanced-codeblock') || node.querySelector('.enhanced-codeblock'))) {\n                                    shouldReinitialize = true;\n                                }\n                            });\n                        });\n                        \n                        if (shouldReinitialize) {\n                            // Debounce reinitialize to prevent excessive calls\n                            clearTimeout(window['__codeblock_reinit_timeout__']);\n                            window['__codeblock_reinit_timeout__'] = setTimeout(initializeCodeBlocks, 100);\n                        }\n                    });\n                    \n                    observer.observe(document.body, { childList: true, subtree: true });\n                }\n            })();\n        <\/script>\n    ")}(m),t=document.createElement("div");t.innerHTML=e;let n=t.querySelector("script");if(n){let e=document.createElement("script");return e.textContent=n.textContent,document.head.appendChild(e),()=>{document.head.contains(e)&&document.head.removeChild(e)}}},[m]),(0,c.useEffect)(()=>{let e=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled);w(e);let t=()=>{let e=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement);y(e),j(e)};return e&&(document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t)),()=>{e&&(document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t))}},[j]),(0,c.useEffect)(()=>()=>{j(!1)},[j]),(0,c.useEffect)(()=>{let e=async()=>{try{h.N.initialize({startOnLoad:!1,theme:"dark"===f?"dark":"default",securityLevel:"loose",fontFamily:"arial",fontSize:16,flowchart:{useMaxWidth:!0,htmlLabels:!0},sequence:{useMaxWidth:!0,wrap:!0},class:{useMaxWidth:!0},gitGraph:{useMaxWidth:!0}});let e=document.querySelectorAll(".mermaid:not([data-processed])");if(0===e.length)return;for(let t=0;t<e.length;t++){let n=e[t];try{let e=n.textContent||n.innerText||"";if(!(e=e.trim()))continue;if(e.includes("<svg")||n.querySelector("svg")||!["graph","flowchart","sequenceDiagram","classDiagram","stateDiagram","erDiagram","journey","gantt","pie","gitgraph","mindmap","timeline","requirement","journey"].some(t=>e.toLowerCase().includes(t.toLowerCase()))){n.setAttribute("data-processed","true");continue}let o="mermaid-".concat(Date.now(),"-").concat(t),{svg:r}=await h.N.render(o,e);n.innerHTML=r,n.setAttribute("data-processed","true"),n.style.textAlign="center",n.style.margin="1rem 0"}catch(e){n.setAttribute("data-processed","true"),n.innerHTML='<div style="color: red; border: 1px solid red; padding: 1rem; margin: 1rem 0; border-radius: 4px;">\n                            <strong>Mermaid Diagram Error:</strong><br>\n                            Failed to render diagram. Please check the syntax.\n                        </div>'}}}catch(e){}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{setTimeout(e,1e3)}):setTimeout(e,1e3)},[t,f]);let C=async()=>{try{let e=document.documentElement;e.requestFullscreen?await e.requestFullscreen():e.webkitRequestFullscreen?await e.webkitRequestFullscreen():e.mozRequestFullScreen?await e.mozRequestFullScreen():e.msRequestFullscreen&&await e.msRequestFullscreen()}catch(e){}},T=async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.msExitFullscreen&&await document.msExitFullscreen()}catch(e){}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"relative z-30 min-h-screen bg-background ".concat(E?"fullscreen-reading":""),children:(0,o.jsxs)("div",{className:"container mx-auto px-4 py-8 ".concat(E?"max-w-5xl":"max-w-4xl"),children:[!E&&(0,o.jsx)("div",{className:"mb-8",children:(0,o.jsx)(p(),{href:"/documents",className:"inline-flex items-center text-primary hover:text-primary/80 transition-colors",children:g("documents.backToDocuments")})}),k&&(0,o.jsx)("div",{className:"".concat(E?"fixed top-4 right-4 z-50":"flex justify-end mb-4"),children:(0,o.jsxs)("button",{onClick:()=>{v?T():C()},className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat(E?"bg-black/80 text-white hover:bg-black/90 backdrop-blur-sm":"bg-primary/10 text-primary hover:bg-primary/20"),title:g(E?"documents.exitImmersiveMode":"documents.enterImmersiveMode"),children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E?(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),(0,o.jsx)("span",{className:"hidden sm:inline",children:g(E?"documents.exitImmersiveMode":"documents.enterImmersiveMode")})]})}),(0,o.jsxs)("header",{className:"".concat(E?"mb-8":"mb-12"),children:[!E&&(0,o.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-sm text-foreground/60",children:[l&&(0,o.jsx)("span",{className:"px-3 py-1 bg-primary/20 text-primary rounded-full capitalize",children:l.replace("-"," ")}),(0,o.jsx)("span",{children:i}),n.date&&x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"•"}),(0,o.jsx)("time",{dateTime:n.date,children:x})]})]}),(0,o.jsx)("h1",{className:"font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent ".concat(E?"text-3xl md:text-4xl":"text-4xl md:text-5xl"),children:n.title||g("documents.untitledDocument")}),n.description&&!E&&(0,o.jsx)("p",{className:"text-xl text-foreground/80 max-w-3xl",children:n.description}),n.tags&&n.tags.length>0&&!E&&(0,o.jsx)("div",{className:"flex flex-wrap gap-2 mt-6",children:n.tags.map((e,t)=>(0,o.jsx)("span",{className:"px-3 py-1 text-sm bg-accent/20 text-accent rounded-full",children:e},"tag-".concat(t,"-").concat(e)))})]}),(0,o.jsx)("article",{className:"prose prose-headings:mt-8 prose-headings:font-semibold prose-headings:text-foreground prose-h1:text-5xl prose-h2:text-4xl prose-h3:text-3xl prose-h4:text-2xl prose-h5:text-xl prose-h6:text-lg max-w-none ".concat(E?"prose-lg prose-p:leading-relaxed prose-p:text-foreground/90 prose-p:text-lg prose-headings:text-foreground":""),children:(0,o.jsx)("div",{className:"prose-pre:p-4 prose-pre:bg-surface w-full",dangerouslySetInnerHTML:{__html:t}})}),!E&&(0,o.jsx)("footer",{className:"mt-16 pt-8 border-t border-foreground/20",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)(p(),{href:"/documents",className:"inline-flex items-center px-4 py-2 bg-primary text-foreground rounded-lg hover:bg-primary/90 transition-colors",children:g("documents.backToDocuments")}),(0,o.jsx)("div",{className:"text-sm text-foreground/60",children:n.author&&(0,o.jsxs)("span",{children:[g("documents.byAuthor")," ",n.author]})})]})})]})}),!E&&(0,o.jsx)(s,{tocItems:d}),(0,o.jsx)(u,{})]})}},77389:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});let o=(0,n(65453).v)((e,t)=>({isLoading:!0,loadingProgress:0,isInitialLoadComplete:!1,mousePosition:{x:0,y:0},isMouseMoving:!1,is3DEnabled:!0,performanceMode:"high",isImmersiveMode:!1,isInDocumentPage:!1,setLoading:t=>e({isLoading:t}),setLoadingProgress:n=>{e({loadingProgress:n}),n>=100&&!t().isInitialLoadComplete&&e({isInitialLoadComplete:!0,isLoading:!1})},setInitialLoadComplete:t=>e({isInitialLoadComplete:t}),setMousePosition:t=>e({mousePosition:t}),setMouseMoving:t=>e({isMouseMoving:t}),set3DEnabled:t=>e({is3DEnabled:t}),setPerformanceMode:t=>e({performanceMode:t}),setImmersiveMode:t=>e({isImmersiveMode:t}),setInDocumentPage:t=>e({isInDocumentPage:t})}))},78658:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var o=n(65453),r=n(46786);let c={light:{id:"light",name:"Light",colors:{primary:"#0066cc",secondary:"#cc4444",background:"#ffffff",foreground:"#171717",surface:"#f5f5f5",accent:"#339999"}},dark:{id:"dark",name:"Dark",colors:{primary:"#00ffff",secondary:"#ff6b6b",background:"#212121",foreground:"#ededed",surface:"#1a1a1a",accent:"#4ecdc4"}}},s=(0,o.v)()((0,r.Zr)((e,t)=>({theme:"light",currentTheme:c.light,setTheme:t=>{let n=c[t]||c.light;e({theme:t,currentTheme:n})},toggleTheme:()=>{let e=t().theme;t().setTheme("light"===e?"dark":"light")}}),{name:"theme-storage"}))},78735:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var o=n(65453),r=n(46786),c=n(2990);let s=(0,o.v)()((0,r.Zr)((e,t)=>({locale:c.X,setLocale:t=>{e({locale:t})},toggleLocale:e=>{let n=t().locale,o=Object.keys(c.Y),r=(o.indexOf(n)+1)%o.length,s=o[r];t().setLocale(s),e&&e(s)}}),{name:"locale-storage"}))}},e=>{var t=t=>e(e.s=t);e.O(0,[9465,5584,2415,6874,9554,8441,1684,7358],()=>t(51706)),_N_E=e.O()}]);